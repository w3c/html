<!DOCTYPE html>
<html lang="en"><head>
  <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
  <title>HTML 5.1: Common infrastructure</title>
  <meta content="width=device-width, initial-scale=1" name="viewport">
  <meta content="WD" name="w3c-status">
  <link href="../default.css" rel="stylesheet" type="text/css">
  <link href="../csslogo.ico" rel="shortcut icon" type="image/x-icon">
  <link href="styles/styles-html.css" rel="stylesheet" type="text/css">
  <link href="https://www.w3.org/StyleSheets/TR/W3C-WD" rel="stylesheet" type="text/css">
  <meta content="Bikeshed 1.0.0" name="generator">
<style>.highlight .hll { background-color: #ffffcc }
.highlight  { background: #ffffff; }
.highlight .c { color: #708090 } /* Comment */
.highlight .k { color: #990055 } /* Keyword */
.highlight .l { color: #000000 } /* Literal */
.highlight .n { color: #0077aa } /* Name */
.highlight .o { color: #999999 } /* Operator */
.highlight .p { color: #999999 } /* Punctuation */
.highlight .cm { color: #708090 } /* Comment.Multiline */
.highlight .cp { color: #708090 } /* Comment.Preproc */
.highlight .c1 { color: #708090 } /* Comment.Single */
.highlight .cs { color: #708090 } /* Comment.Special */
.highlight .kc { color: #990055 } /* Keyword.Constant */
.highlight .kd { color: #990055 } /* Keyword.Declaration */
.highlight .kn { color: #990055 } /* Keyword.Namespace */
.highlight .kp { color: #990055 } /* Keyword.Pseudo */
.highlight .kr { color: #990055 } /* Keyword.Reserved */
.highlight .kt { color: #990055 } /* Keyword.Type */
.highlight .ld { color: #000000 } /* Literal.Date */
.highlight .m { color: #000000 } /* Literal.Number */
.highlight .s { color: #a67f59 } /* Literal.String */
.highlight .na { color: #0077aa } /* Name.Attribute */
.highlight .nc { color: #0077aa } /* Name.Class */
.highlight .no { color: #0077aa } /* Name.Constant */
.highlight .nd { color: #0077aa } /* Name.Decorator */
.highlight .ni { color: #0077aa } /* Name.Entity */
.highlight .ne { color: #0077aa } /* Name.Exception */
.highlight .nf { color: #0077aa } /* Name.Function */
.highlight .nl { color: #0077aa } /* Name.Label */
.highlight .nn { color: #0077aa } /* Name.Namespace */
.highlight .py { color: #0077aa } /* Name.Property */
.highlight .nt { color: #669900 } /* Name.Tag */
.highlight .nv { color: #0077aa } /* Name.Variable */
.highlight .ow { color: #999999 } /* Operator.Word */
.highlight .mb { color: #000000 } /* Literal.Number.Bin */
.highlight .mf { color: #000000 } /* Literal.Number.Float */
.highlight .mh { color: #000000 } /* Literal.Number.Hex */
.highlight .mi { color: #000000 } /* Literal.Number.Integer */
.highlight .mo { color: #000000 } /* Literal.Number.Oct */
.highlight .sb { color: #a67f59 } /* Literal.String.Backtick */
.highlight .sc { color: #a67f59 } /* Literal.String.Char */
.highlight .sd { color: #a67f59 } /* Literal.String.Doc */
.highlight .s2 { color: #a67f59 } /* Literal.String.Double */
.highlight .se { color: #a67f59 } /* Literal.String.Escape */
.highlight .sh { color: #a67f59 } /* Literal.String.Heredoc */
.highlight .si { color: #a67f59 } /* Literal.String.Interpol */
.highlight .sx { color: #a67f59 } /* Literal.String.Other */
.highlight .sr { color: #a67f59 } /* Literal.String.Regex */
.highlight .s1 { color: #a67f59 } /* Literal.String.Single */
.highlight .ss { color: #a67f59 } /* Literal.String.Symbol */
.highlight .vc { color: #0077aa } /* Name.Variable.Class */
.highlight .vg { color: #0077aa } /* Name.Variable.Global */
.highlight .vi { color: #0077aa } /* Name.Variable.Instance */
.highlight .il { color: #000000 } /* Literal.Number.Integer.Long */
        .highlight { background: hsl(24, 20%, 95%); }
        code.highlight { padding: .1em; border-radius: .3em; }
        pre.highlight, pre > code.highlight { display: block; padding: 1em; margin: .5em 0; overflow: auto; border-radius: 0; }
        </style>
 </head>
 <body class="h-entry">
  <div class="head">
   <header>
    <p data-fill-with="logo"><a href="http://www.w3.org/"><img alt="W3C" height="48" src="https://www.w3.org/Icons/w3c_home" width="72"></a></p>
    <h1 class="p-name no-ref allcaps" id="title">HTML 5.1</h1>
    <h2 class="no-num no-toc no-ref heading settled" id="subtitle"><span class="content">W3C Working Draft, <time class="dt-updated" datetime="2016-01-20">20 January 2016</time></span></h2>
   </header>
   
   
   
   
  </div>
  
  
  
  
  
  <nav class="prev_next"> — ← <a href="introduction.html#introduction"><span class="secno">1</span> <span class="content">Introduction</span></a> — <a href="index.html#contents">Table of contents</a> →<a href="dom.html#dom"><span class="secno">3</span> <span class="content">Semantics, structure, and APIs of HTML documents</span></a></nav><nav data-fill-with="table-of-contents" id="toc">
   <h2 class="no-num no-toc no-ref" id="contents">Table of Contents</h2>
   <ol class="toc" role="directory">
    <li>
     <a href="infrastructure.html#infrastructure"><span class="secno">2</span> <span class="content">Common infrastructure</span></a>
     <ol class="toc">
      <li>
       <a href="infrastructure.html#infrastructure-terminology"><span class="secno">2.1</span> <span class="content">Terminology</span></a>
       <ol class="toc">
        <li><a href="infrastructure.html#resources"><span class="secno">2.1.1</span> <span class="content">Resources</span></a>
        </li><li><a href="infrastructure.html#xml"><span class="secno">2.1.2</span> <span class="content">XML</span></a>
        </li><li><a href="infrastructure.html#dom-trees"><span class="secno">2.1.3</span> <span class="content">DOM trees</span></a>
        </li><li><a href="infrastructure.html#scripting"><span class="secno">2.1.4</span> <span class="content">Scripting</span></a>
        </li><li><a href="infrastructure.html#plugin-content-handlers"><span class="secno">2.1.5</span> <span class="content"><code>Plugin</code> Content Handlers</span></a>
        </li><li><a href="infrastructure.html#encoding-terminology"><span class="secno">2.1.6</span> <span class="content">Character encodings</span></a>
       </li></ol>
      </li><li>
       <a href="infrastructure.html#conformance-requirements"><span class="secno">2.2</span> <span class="content">Conformance requirements</span></a>
       <ol class="toc">
        <li><a href="infrastructure.html#conformance-classes"><span class="secno">2.2.1</span> <span class="content">Conformance classes</span></a>
        </li><li><a href="infrastructure.html#conformance-requirements-dependencies"><span class="secno">2.2.2</span> <span class="content">Dependencies</span></a>
        </li><li><a href="infrastructure.html#conformance-requirements-extensibility"><span class="secno">2.2.3</span> <span class="content">Extensibility</span></a>
        </li><li><a href="infrastructure.html#interactions-with-xpath-and-xslt"><span class="secno">2.2.4</span> <span class="content">Interactions with XPath and XSLT</span></a>
       </li></ol>
      </li><li><a href="infrastructure.html#case-sensitivity-and-string-comparison"><span class="secno">2.3</span> <span class="content">Case-sensitivity and string comparison</span></a>
      </li><li>
       <a href="infrastructure.html#common-microsyntaxes"><span class="secno">2.4</span> <span class="content">Common microsyntaxes</span></a>
       <ol class="toc">
        <li><a href="infrastructure.html#common-parser-idioms"><span class="secno">2.4.1</span> <span class="content">Common parser idioms</span></a>
        </li><li><a href="infrastructure.html#sec-boolean-attributes"><span class="secno">2.4.2</span> <span class="content">Boolean attributes</span></a>
        </li><li><a href="infrastructure.html#keywords-and-enumerated-attributes"><span class="secno">2.4.3</span> <span class="content">Keywords and enumerated attributes</span></a>
        </li><li>
         <a href="infrastructure.html#numbers"><span class="secno">2.4.4</span> <span class="content">Numbers</span></a>
         <ol class="toc">
          <li><a href="infrastructure.html#signed-integers"><span class="secno">2.4.4.1</span> <span class="content">Signed integers</span></a>
          </li><li><a href="infrastructure.html#non-negative-integers"><span class="secno">2.4.4.2</span> <span class="content">Non-negative integers</span></a>
          </li><li><a href="infrastructure.html#floating-point-numbers"><span class="secno">2.4.4.3</span> <span class="content">Floating-point numbers</span></a>
          </li><li><a href="infrastructure.html#percentages-and-dimensions"><span class="secno">2.4.4.4</span> <span class="content">Percentages and lengths</span></a>
          </li><li><a href="infrastructure.html#non-zero-percentages-and-lengths"><span class="secno">2.4.4.5</span> <span class="content">Non-zero percentages and lengths</span></a>
          </li><li><a href="infrastructure.html#lists-of-integers"><span class="secno">2.4.4.6</span> <span class="content">Lists of integers</span></a>
          </li><li><a href="infrastructure.html#lists-of-dimensions"><span class="secno">2.4.4.7</span> <span class="content">Lists of dimensions</span></a>
         </li></ol>
        </li><li>
         <a href="infrastructure.html#dates-and-times"><span class="secno">2.4.5</span> <span class="content">Dates and times</span></a>
         <ol class="toc">
          <li><a href="infrastructure.html#months"><span class="secno">2.4.5.1</span> <span class="content">Months</span></a>
          </li><li><a href="infrastructure.html#sec-dates"><span class="secno">2.4.5.2</span> <span class="content">Dates</span></a>
          </li><li><a href="infrastructure.html#yearless-dates"><span class="secno">2.4.5.3</span> <span class="content">Yearless dates</span></a>
          </li><li><a href="infrastructure.html#times"><span class="secno">2.4.5.4</span> <span class="content">Times</span></a>
          </li><li><a href="infrastructure.html#floating-dates-and-times"><span class="secno">2.4.5.5</span> <span class="content">Floating dates and times</span></a>
          </li><li><a href="infrastructure.html#time-zones"><span class="secno">2.4.5.6</span> <span class="content">Time zones</span></a>
          </li><li><a href="infrastructure.html#global-dates-and-times"><span class="secno">2.4.5.7</span> <span class="content">Global dates and times</span></a>
          </li><li><a href="infrastructure.html#weeks"><span class="secno">2.4.5.8</span> <span class="content">Weeks</span></a>
          </li><li><a href="infrastructure.html#durations"><span class="secno">2.4.5.9</span> <span class="content">Durations</span></a>
          </li><li><a href="infrastructure.html#vaguer-moments-in-time"><span class="secno">2.4.5.10</span> <span class="content">Vaguer moments in time</span></a>
         </li></ol>
        </li><li><a href="infrastructure.html#colors"><span class="secno">2.4.6</span> <span class="content">Colors</span></a>
        </li><li><a href="infrastructure.html#space-separated-tokens"><span class="secno">2.4.7</span> <span class="content">Space-separated tokens</span></a>
        </li><li><a href="infrastructure.html#comma-separated-tokens"><span class="secno">2.4.8</span> <span class="content">Comma-separated tokens</span></a>
        </li><li><a href="infrastructure.html#syntax-references"><span class="secno">2.4.9</span> <span class="content">References</span></a>
        </li><li><a href="infrastructure.html#mq"><span class="secno">2.4.10</span> <span class="content">Media queries</span></a>
       </li></ol>
      </li><li>
       <a href="infrastructure.html#infrastructure-urls"><span class="secno">2.5</span> <span class="content">URLs</span></a>
       <ol class="toc">
        <li><a href="infrastructure.html#urls-terminology"><span class="secno">2.5.1</span> <span class="content">Terminology</span></a>
        </li><li><a href="infrastructure.html#resolving-urls"><span class="secno">2.5.2</span> <span class="content">Resolving URLs</span></a>
        </li><li><a href="infrastructure.html#dynamic-changes-to-base-urls"><span class="secno">2.5.3</span> <span class="content">Dynamic changes to base URLs</span></a>
       </li></ol>
      </li><li>
       <a href="infrastructure.html#fetching-resources"><span class="secno">2.6</span> <span class="content">Fetching resources</span></a>
       <ol class="toc">
        <li><a href="infrastructure.html#fetching-resources-terminology"><span class="secno">2.6.1</span> <span class="content">Terminology</span></a>
        </li><li><a href="infrastructure.html#fetching-resources-processing-model"><span class="secno">2.6.2</span> <span class="content">Processing model</span></a>
        </li><li><a href="infrastructure.html#encrypted-http-and-related-security-concerns"><span class="secno">2.6.3</span> <span class="content">Encrypted HTTP and related security concerns</span></a>
        </li><li><a href="infrastructure.html#content-type-sniffing"><span class="secno">2.6.4</span> <span class="content">Determining the type of a resource</span></a>
        </li><li><a href="infrastructure.html#extracting-character-encodings-from-meta-elements"><span class="secno">2.6.5</span> <span class="content">Extracting character encodings from <code><span>meta</span></code> elements</span></a>
        </li><li><a href="infrastructure.html#cors-settings-attributes"><span class="secno">2.6.6</span> <span class="content">CORS settings attributes</span></a>
       </li></ol>
      </li><li>
       <a href="infrastructure.html#common-dom-interfaces"><span class="secno">2.7</span> <span class="content">Common DOM interfaces</span></a>
       <ol class="toc">
        <li><a href="infrastructure.html#reflecting-content-attributes-in-idl-attributes"><span class="secno">2.7.1</span> <span class="content">Reflecting content attributes in IDL attributes</span></a>
        </li><li>
         <a href="infrastructure.html#collections"><span class="secno">2.7.2</span> <span class="content">Collections</span></a>
         <ol class="toc">
          <li><a href="infrastructure.html#the-htmlallcollection-interface"><span class="secno">2.7.2.1</span> <span class="content">The <code>HTMLAllCollection</code> interface</span></a>
          </li><li><a href="infrastructure.html#the-htmlformcontrolscollection-interface"><span class="secno">2.7.2.2</span> <span class="content">The <code>HTMLFormControlsCollection</code> interface</span></a>
          </li><li><a href="infrastructure.html#the-htmloptionscollection-interface"><span class="secno">2.7.2.3</span> <span class="content">The <code>HTMLOptionsCollection</code> interface</span></a>
         </li></ol>
        </li><li><a href="infrastructure.html#the-domstringmap-interface"><span class="secno">2.7.3</span> <span class="content">The <code>DOMStringMap</code> interface</span></a>
        </li><li><a href="infrastructure.html#the-domelementmap-interface"><span class="secno">2.7.4</span> <span class="content">The <code>DOMElementMap</code> interface</span></a>
        </li><li><a href="infrastructure.html#transferable-objects"><span class="secno">2.7.5</span> <span class="content">Transferable objects</span></a>
        </li><li><a href="infrastructure.html#safe-passing-of-structured-data"><span class="secno">2.7.6</span> <span class="content">Safe passing of structured data</span></a>
        </li><li><a href="infrastructure.html#garbage-collection"><span class="secno">2.7.7</span> <span class="content">Garbage collection</span></a>
       </li></ol>
      </li><li><a href="infrastructure.html#namespaces"><span class="secno">2.8</span> <span class="content">Namespaces</span></a>
     </li></ol>
    </li></ol>
  </nav>
  <main>
   
   <section>
    <h2 class="heading settled" data-level="2" id="infrastructure"><span class="secno">2. </span><span class="content">Common infrastructure</span><a class="self-link" href="infrastructure.html#infrastructure"></a></h2>
    <h3 class="heading settled" data-level="2.1" id="infrastructure-terminology"><span class="secno">2.1. </span><span class="content">Terminology</span><a class="self-link" href="infrastructure.html#infrastructure-terminology"></a></h3>
    <p>This specification refers to both HTML and XML attributes and IDL attributes, often in the same
  context. When it is not clear which is being referred to, they are referred to as <a data-link-type="dfn" href="dom.html#content-attribute">content attributes</a> for HTML and XML attributes, and <dfn data-dfn-type="dfn" data-lt="IDL attribute|IDL attributes" data-noexport="" id="idl-attribute">IDL attributes<a class="self-link" href="infrastructure.html#idl-attribute"></a></dfn> for those
  defined on IDL interfaces. Similarly, the term "properties" is used for both JavaScript object
  properties and CSS properties. When these are ambiguous they are qualified as <dfn data-dfn-type="dfn" data-lt="object property|object properties" data-noexport="" id="object-property">object properties<a class="self-link" href="infrastructure.html#object-property"></a></dfn> and <dfn data-dfn-type="dfn" data-lt="CSS property|CSS properties" data-noexport="" id="css-property">CSS properties<a class="self-link" href="infrastructure.html#css-property"></a></dfn> respectively.</p>
    <p>Generally, when the specification states that a feature applies to <a href="syntax.html#syntax">the HTML syntax</a> or <a href="xhtml.html#xhtml">the XHTML syntax</a>, it also includes the other. When a feature specifically only applies to
  one of the two languages, it is called out by explicitly stating that it does not apply to the
  other format, as in "for HTML, ... (this does not apply to XHTML)".</p>
    <p>This specification uses the term <dfn data-dfn-type="dfn" data-lt="document|documents" data-noexport="" id="document">document<a class="self-link" href="infrastructure.html#document"></a></dfn> to refer to any use of HTML, ranging from
  short static documents to long essays or reports with rich multimedia, as well as to fully-fledged
  interactive applications. The term is used to refer both to <code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#document">Document</a></code> objects and
  their descendant DOM trees, and to serialized byte streams using the <a href="syntax.html#syntax">HTML syntax</a> or <a href="xhtml.html#xhtml">XHTML syntax</a>, depending on context.</p>
    <p>In the context of the DOM structures, the terms <dfn data-dfn-type="dfn" data-noexport="" id="html-document">HTML document<a class="self-link" href="infrastructure.html#html-document"></a></dfn> and <a data-link-type="dfn" href="infrastructure.html#xml-document">XML document</a> are
  used as defined in the DOM specification, and refer specifically to two different modes that <code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#document">Document</a></code> objects can find themselves in. <a data-link-type="biblio" href="references.html#biblio-dom">[DOM]</a> (Such uses are always hyperlinked
  to their definition.)</p>
    <p>In the context of byte streams, the term <a data-link-type="dfn" href="infrastructure.html#html-document">HTML document</a> refers to resources labeled as <a href="iana.html#text-html"><code>text/html</code></a>, and the term <dfn data-dfn-type="dfn" data-noexport="" id="xml-document">XML document<a class="self-link" href="infrastructure.html#xml-document"></a></dfn> refers to resources labeled with an <a data-link-type="dfn" href="infrastructure.html#xml-mime-type">XML MIME type</a>.</p>
    <p>The term <dfn data-dfn-type="dfn" data-lt="XHTML document|XHTML documents" data-noexport="" id="xhtml-document">XHTML document<a class="self-link" href="infrastructure.html#xhtml-document"></a></dfn> is used to refer to both <a data-link-type="dfn" href="infrastructure.html#document">documents</a> in the <a data-link-type="dfn" href="infrastructure.html#xml-document">XML document</a> mode that contains element nodes in the <a data-link-type="dfn" href="infrastructure.html#html-namespace">HTML namespace</a>, and byte
  streams labeled with an <a data-link-type="dfn" href="infrastructure.html#xml-mime-type">XML MIME type</a> that contain elements from the <a data-link-type="dfn" href="infrastructure.html#html-namespace">HTML namespace</a>,
  depending on context.</p>
    <hr>
    <p>For simplicity, terms such as <dfn data-dfn-type="dfn" data-noexport="" id="shown">shown<a class="self-link" href="infrastructure.html#shown"></a></dfn>, <dfn data-dfn-type="dfn" data-noexport="" id="displayed">displayed<a class="self-link" href="infrastructure.html#displayed"></a></dfn>, and <dfn data-dfn-type="dfn" data-noexport="" id="visible">visible<a class="self-link" href="infrastructure.html#visible"></a></dfn> might
  sometimes be used when referring to the way a document is rendered to the user. These terms are
  not meant to imply a visual medium; they must be considered to apply to other media in equivalent
  ways.</p>
    <div class="impl"> When an algorithm B says to return to another algorithm A, it implies that A called B. Upon
    returning to A, the implementation must continue from where it left off in calling B. Some
    algorithms run <dfn data-dfn-type="dfn" data-noexport="" id="in-parallel">in parallel<a class="self-link" href="infrastructure.html#in-parallel"></a></dfn>; this means that the algorithm’s subsequent steps are to
    be run, one after another, at the same time as other logic in the specification (e.g. at the
    same time as the <a data-link-type="dfn" href="webappapis.html#event-loop">event loop</a>). This specification does not define the precise mechanism by
    which this is achieved, be it time-sharing cooperative multitasking, fibers, threads, processes,
    using different hyperthreads, cores, CPUs, machines, etc. By contrast, an operation that is to
    run <dfn data-dfn-type="dfn" data-noexport="" id="immediately">immediately<a class="self-link" href="infrastructure.html#immediately"></a></dfn> must interrupt the currently running task, run itself, and then
    resume the previously running task. </div>
    <p>The term "transparent black" refers to the color with red, green, blue, and alpha channels all set
  to zero.</p>
    <h4 class="heading settled" data-level="2.1.1" id="resources"><span class="secno">2.1.1. </span><span class="content">Resources</span><a class="self-link" href="infrastructure.html#resources"></a></h4>
    <p>The specification uses the term <dfn data-dfn-type="dfn" data-noexport="" id="supported">supported<a class="self-link" href="infrastructure.html#supported"></a></dfn> when referring to whether a user agent has an
  implementation capable of decoding the semantics of an external resource. A format or type is said
  to be <i>supported</i> if the implementation can process an external resource of that format or
  type without critical aspects of the resource being ignored. Whether a specific resource is <i>supported</i> can depend on what features of the resource’s format are in use.</p>
    <p class="example" id="example-edb32f0b"><a class="self-link" href="infrastructure.html#example-edb32f0b"></a> For example, a PNG image would be considered to be in a supported format if its pixel data could
    be decoded and rendered, even if, unbeknownst to the implementation, the image also contained
    animation data. </p>
    <p class="example" id="example-fda82d15"><a class="self-link" href="infrastructure.html#example-fda82d15"></a> An MPEG-4 video file would not be considered to be in a supported format if the compression
    format used was not supported, even if the implementation could determine the dimensions of the
    movie from the file’s metadata. </p>
    <p>What some specifications, in particular the HTTP specification, refer to as a <i>representation</i> is referred to in this specification as a <dfn data-dfn-for="http" data-dfn-type="dfn" data-noexport="" id="http-resource">resource<a class="self-link" href="infrastructure.html#http-resource"></a></dfn>. <a data-link-type="biblio" href="references.html#biblio-http">[HTTP]</a></p>
    <p>The term <dfn data-dfn-type="dfn" data-lt="mime type|mime types" data-noexport="" id="mime-type">MIME type<a class="self-link" href="infrastructure.html#mime-type"></a></dfn> is used to refer to what is sometimes called an <i>Internet media
  type</i> in protocol literature. The term <dfn data-dfn-for="media type|media-type" data-dfn-type="dfn" data-noexport="" id="media-typemedia-type-media-type">media type<a class="self-link" href="infrastructure.html#media-typemedia-type-media-type"></a></dfn> in this specification is used to refer
  to the type of media intended for presentation, as used by the CSS specifications. <a data-link-type="biblio" href="references.html#biblio-rfc2046">[RFC2046]</a> <a data-link-type="biblio" href="references.html#biblio-mediaq">[MEDIAQ]</a></p>
    <p>A string is a <dfn data-dfn-type="dfn" data-noexport="" id="valid-mime-type">valid MIME type<a class="self-link" href="infrastructure.html#valid-mime-type"></a></dfn> if it matches the <a data-link-type="dfn" href="https://tools.ietf.org/html/rfc7231#section-3.1.1.1"><code>media-type</code></a> rule. In particular, a <a data-link-type="dfn" href="infrastructure.html#valid-mime-type">valid mime type</a> may include
  MIME type parameters. <a data-link-type="biblio" href="references.html#biblio-http">[HTTP]</a></p>
    <p>A string is a <dfn data-dfn-for="mime type" data-dfn-type="dfn" data-noexport="" id="mime-type-valid-mime-type-with-no-parameters">valid MIME type with no parameters<a class="self-link" href="infrastructure.html#mime-type-valid-mime-type-with-no-parameters"></a></dfn> if it matches the <a data-link-type="dfn" href="https://tools.ietf.org/html/rfc7231#section-3.1.1.1"><code>media-type</code></a> rule, but does not
  contain any U+003B SEMICOLON characters (;). In other words, if it consists only of a type and
  subtype, with no MIME Type parameters. <a data-link-type="biblio" href="references.html#biblio-http">[HTTP]</a></p>
    <p>The term <dfn data-dfn-type="dfn" data-noexport="" id="html-mime-type">HTML MIME type<a class="self-link" href="infrastructure.html#html-mime-type"></a></dfn> is used to refer to the <a data-link-type="dfn" href="infrastructure.html#mime-type">MIME type</a> <a href="iana.html#text-html"><code>text/html</code></a>.</p>
    <p>A resource’s <dfn data-dfn-type="dfn" data-lt="critical subresource|critical subresources" data-noexport="" id="critical-subresource">critical subresources<a class="self-link" href="infrastructure.html#critical-subresource"></a></dfn> are those that the resource needs to have available
  to be correctly processed. Which resources are considered critical or not is defined by the
  specification that defines the resource’s format.</p>
    <p>The term <a data-link-type="scheme" href="infrastructure.html#schemedef-data-url"><code>data:</code> URL</a> refers to [[url#urls|URLs]] that use the <a data-link-type="scheme" href="infrastructure.html#schemedef-data-url"><code>data:</code></a> scheme. <a data-link-type="biblio" href="references.html#biblio-rfc2397">[RFC2397]</a></p>
    <h4 class="heading settled" data-level="2.1.2" id="xml"><span class="secno">2.1.2. </span><span class="content">XML</span><a class="self-link" href="infrastructure.html#xml"></a></h4>
    <p>To ease migration from HTML to XHTML, user agents conforming to this specification will place elements in
  HTML in the <code>http://www.w3.org/1999/xhtml</code> namespace, at least for the purposes of the
  DOM and CSS. The term "<dfn data-dfn-type="dfn" data-lt="html element|html elements" data-noexport="" id="html-element">HTML elements<a class="self-link" href="infrastructure.html#html-element"></a></dfn>", when used in this specification, refers to any
  element in that namespace, and thus refers to both HTML and XHTML elements.</p>
    <p>Except where otherwise stated, all elements defined or mentioned in this specification are in the <a data-link-type="dfn" href="infrastructure.html#html-namespace">HTML namespace</a> ("<code>http://www.w3.org/1999/xhtml</code>"), and all attributes defined or
  mentioned in this specification have no namespace.</p>
    <p>The term <dfn data-dfn-type="dfn" data-noexport="" id="element-type">element type<a class="self-link" href="infrastructure.html#element-type"></a></dfn> is used to refer to the set of elements that have a given local
  name and namespace. For example, <code><a data-link-type="element" href="semantics.html#elementdef-button">button</a></code> elements are elements with the element type <code><a data-link-type="element" href="semantics.html#elementdef-button">button</a></code>, meaning they have the local name "<code><a data-link-type="element" href="semantics.html#elementdef-button">button</a></code>" and (implicitly as
  defined above) the <a data-link-type="dfn" href="infrastructure.html#html-namespace">HTML namespace</a>.</p>
    <p>Attribute names are said to be <dfn data-dfn-for="xml-compatible" data-dfn-type="dfn" data-noexport="" id="xml-compatible-xml-compatible">XML-compatible<a class="self-link" href="infrastructure.html#xml-compatible-xml-compatible"></a></dfn> if they match the <a data-link-type="dfn" href="http://www.w3.org/TR/xml/#NT-Name"><code>Name</code></a> production defined in XML and they contain no U+003A COLON characters
  (:). <a data-link-type="biblio" href="references.html#biblio-xml">[XML]</a></p>
    <p>The term <dfn data-dfn-type="dfn" data-noexport="" id="xml-mime-type">XML MIME type<a class="self-link" href="infrastructure.html#xml-mime-type"></a></dfn> is used to refer to the <a data-link-type="dfn" href="infrastructure.html#mime-type">MIME types</a> <code>text/xml</code>, <code>application/xml</code>, and any <a data-link-type="dfn" href="infrastructure.html#mime-type">MIME type</a> whose subtype ends with the four characters
  "<code>+xml</code>". <a data-link-type="biblio" href="references.html#biblio-rfc7303">[RFC7303]</a></p>
    <h4 class="heading settled" data-level="2.1.3" id="dom-trees"><span class="secno">2.1.3. </span><span class="content">DOM trees</span><a class="self-link" href="infrastructure.html#dom-trees"></a></h4>
    <p>The <dfn data-dfn-for="document" data-dfn-type="dfn" data-noexport="" id="document-root-element-of-a-document-object">root element of a <code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#document">Document</a></code> object<a class="self-link" href="infrastructure.html#document-root-element-of-a-document-object"></a></dfn> is that <code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#document">Document</a></code>'s
  first element child, if any. If it does not have one then the <code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#document">Document</a></code> has no root
  element.</p>
    <p>The term <dfn data-dfn-type="dfn" data-lt="root element|root elements" data-noexport="" id="root-element">root element<a class="self-link" href="infrastructure.html#root-element"></a></dfn>, when not referring to a <code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#document">Document</a></code> object’s root
  element, means the furthest ancestor element node of whatever node is being discussed, or the node
  itself if it has no ancestors. When the node is a part of the document, then the node’s <a data-link-type="dfn" href="infrastructure.html#root-element">root element</a> is indeed the document’s root element; however, if the node is not currently
  part of the document tree, the root element will be an orphaned node.</p>
    <p>When an element’s <a data-link-type="dfn" href="infrastructure.html#root-element">root element</a> is the <a data-link-type="dfn" href="infrastructure.html#document-root-element-of-a-document-object">root element of a <code>Document</code> object</a>,
  it is said to be <dfn data-dfn-type="dfn" data-lt="in the document|in a document" data-noexport="" id="in-the-document">in a <code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#document">Document</a></code><a class="self-link" href="infrastructure.html#in-the-document"></a></dfn>. An element is said to have been <dfn data-dfn-for="document" data-dfn-type="dfn" data-lt="inserted into the document|inserted into a document|inserted into" data-noexport="" id="document-inserted-into-the-document">inserted into a document<a class="self-link" href="infrastructure.html#document-inserted-into-the-document"></a></dfn> when its <a data-link-type="dfn" href="infrastructure.html#root-element">root element</a> changes and is now the document’s <a data-link-type="dfn" href="infrastructure.html#root-element">root element</a>. Analogously, an element is said to have been <dfn data-dfn-for="document" data-dfn-type="dfn" data-lt="removed from a document|removed from" data-noexport="" id="document-removed-from-a-document">removed from a document<a class="self-link" href="infrastructure.html#document-removed-from-a-document"></a></dfn> when its <a data-link-type="dfn" href="infrastructure.html#root-element">root element</a> changes from being the document’s <a data-link-type="dfn" href="infrastructure.html#root-element">root element</a> to being another element.</p>
    <p>A node’s <dfn data-dfn-type="dfn" data-lt="home subtree|home subtrees" data-noexport="" id="home-subtree">home subtree<a class="self-link" href="infrastructure.html#home-subtree"></a></dfn> is the subtree rooted at that node’s <a data-link-type="dfn" href="infrastructure.html#root-element">root element</a>. When a
  node is <a data-link-type="dfn" href="infrastructure.html#in-the-document">in a <code>Document</code></a>, its <a data-link-type="dfn" href="infrastructure.html#home-subtree">home subtree</a> is that <code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#document">Document</a></code>'s tree.</p>
    <p>The <code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#document">Document</a></code> of a <code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#node">Node</a></code> (such as an element) is the <code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#document">Document</a></code> that the <code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#node">Node</a></code>'s <code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#dom-node-ownerdocument">ownerDocument</a></code> IDL attribute returns. When a <code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#node">Node</a></code> is <a data-link-type="dfn" href="infrastructure.html#in-the-document">in a <code>Document</code></a> then that <code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#document">Document</a></code> is
  always the <code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#node">Node</a></code>'s <code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#document">Document</a></code>, and the <code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#node">Node</a></code>'s <code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#dom-node-ownerdocument">ownerDocument</a></code> IDL attribute thus always returns that <code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#document">Document</a></code>.</p>
    <p>The <code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#document">Document</a></code> of a content attribute is the <code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#document">Document</a></code> of the attribute’s
  element.</p>
    <p>The term <dfn data-dfn-type="dfn" data-noexport="" id="tree-order">tree order<a class="self-link" href="infrastructure.html#tree-order"></a></dfn> means a pre-order, depth-first traversal of DOM nodes involved
  (through the <code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#dom-node-parentnode">parentNode</a></code>/<code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#dom-node-childnodes">childNodes</a></code> relationship).</p>
    <p>When it is stated that some element or attribute is <dfn data-dfn-type="dfn" data-noexport="" id="ignored">ignored<a class="self-link" href="infrastructure.html#ignored"></a></dfn>, or treated as some other
  value, or handled as if it was something else, this refers only to the processing of the node
  after it is in the DOM. <span class="impl">A user agent must not mutate the DOM in such
  situations.</span></p>
    <p>A content attribute is said to <dfn data-dfn-type="dfn" data-noexport="" id="change">change<a class="self-link" href="infrastructure.html#change"></a></dfn> value only if its new value is different than its
  previous value; setting an attribute to a value it already has does not change it.</p>
    <p>The term <dfn data-dfn-type="dfn" data-noexport="" id="empty">empty<a class="self-link" href="infrastructure.html#empty"></a></dfn>, when used of an attribute value, <code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#text">Text</a></code> node, or string,
  means that the length of the text is zero (i.e. not even containing spaces or <a data-link-type="dfn" href="infrastructure.html#control-characters">control characters</a>).</p>
    <p>A <a data-link-type="dfn" href="http://www.w3.org/TR/dom/#concept-insert">node <var>A</var> is
  inserted</a> into a node <var>B</var> when the <a data-link-type="dfn" href="https://dom.spec.whatwg.org/#concept-node-insert-ext">insertion steps</a> are invoked with <var>A</var> as the argument and <var>A</var>’s new parent
  is <var>B</var>. Similarly, a <dfn data-dfn-type="dfn" data-noexport="" id="node-a-is-removed">node <var>A</var> is removed<a class="self-link" href="infrastructure.html#node-a-is-removed"></a></dfn> from a node <var>B</var> when the <a data-link-type="dfn" href="https://dom.spec.whatwg.org/#concept-node-remove-ext">removing steps</a> are invoked with <var>A</var> as the <var>removedNode</var> argument and <var>B</var> as the <var>oldParent</var> argument.</p>
    <h4 class="heading settled" data-level="2.1.4" id="scripting"><span class="secno">2.1.4. </span><span class="content">Scripting</span><a class="self-link" href="infrastructure.html#scripting"></a></h4>
    <p>The construction "a <code>Foo</code> object", where <code>Foo</code> is actually an interface,
  is sometimes used instead of the more accurate "an object implementing the interface <code>Foo</code>".</p>
    <p>An IDL attribute is said to be <dfn data-dfn-for="values" data-dfn-type="dfn" data-noexport="" id="values-getting">getting<a class="self-link" href="infrastructure.html#values-getting"></a></dfn> when its value is being retrieved
  (e.g. by author script), and is said to be <dfn data-dfn-for="values" data-dfn-type="dfn" data-noexport="" id="values-setting">setting<a class="self-link" href="infrastructure.html#values-setting"></a></dfn> when a new value is
  assigned to it.</p>
    <p>If a DOM object is said to be <dfn data-dfn-type="dfn" data-noexport="" id="live">live<a class="self-link" href="infrastructure.html#live"></a></dfn>, then the attributes and methods on that object <span class="impl">must</span> operate on the actual underlying data, not a snapshot of the
  data.</p>
    <p>In the contexts of events, the terms <i>fire</i> and <i>dispatch</i> are used as defined in the
  DOM specification: <dfn data-dfn-type="dfn" data-lt="fire|firing|fired|fires|fire a simple event|fires a simple event" data-noexport="" id="fire">firing<a class="self-link" href="infrastructure.html#fire"></a></dfn> an event means to create and <a data-link-type="dfn" href="infrastructure.html#dispatch">dispatch</a> it, and <dfn data-dfn-type="dfn" data-lt="dispatch|dispatching|dispatched|dom event dispatch logic|event dispatching" data-noexport="" id="dispatch">dispatching<a class="self-link" href="infrastructure.html#dispatch"></a></dfn> an event means to follow the steps that propagate the event through the
  tree. The term <dfn data-dfn-type="dfn" data-lt="trusted|trusted event" data-noexport="" id="trusted">trusted event<a class="self-link" href="infrastructure.html#trusted"></a></dfn> is used to refer to events whose <code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#dom-event-istrusted">isTrusted</a></code> attribute is initialized to true. <a data-link-type="biblio" href="references.html#biblio-dom">[DOM]</a></p>
    <h4 class="heading settled" data-level="2.1.5" id="plugin-content-handlers"><span class="secno">2.1.5. </span><span class="content"><code>Plugin</code> Content Handlers</span><a class="self-link" href="infrastructure.html#plugin-content-handlers"></a></h4>
    <p>The term <dfn data-dfn-type="dfn" data-lt="plugin|plugins" data-noexport="" id="plugin">plugin<a class="self-link" href="infrastructure.html#plugin"></a></dfn> refers to a user-agent defined set of content handlers used by the user
  agent that can take part in the user agent’s rendering of a <code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#document">Document</a></code> object, but that
  neither act as <a data-link-type="dfn" href="browsers.html#child-browsing-context">child browsing contexts</a> of the <code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#document">Document</a></code> nor introduce any <code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#node">Node</a></code> objects to the <code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#document">Document</a></code>'s DOM.</p>
    <p>Typically such content handlers are provided by third parties, though a user agent can also
  designate built-in content handlers as <a data-link-type="dfn" href="infrastructure.html#plugin">plugins</a>.</p>
    <div class="impl"> A user agent must not consider the types <code>text/plain</code> and <code>application/octet-stream</code> as having a registered <a data-link-type="dfn" href="infrastructure.html#plugin">plugin</a>. </div>
    <p class="example" id="example-a319674c"><a class="self-link" href="infrastructure.html#example-a319674c"></a> One example of a plugin would be a PDF viewer that is instantiated in a <a data-link-type="dfn" href="browsers.html#browsing-context">browsing context</a> when the user navigates to a PDF file. This would count as a
    plugin regardless of whether the party that implemented the PDF viewer component was the same as
    that which implemented the user agent itself. However, a PDF viewer application that launches
    separate from the user agent (as opposed to using the same interface) is not a plugin by this
    definition. </p>
    <p class="note" role="note"> This specification does not define a mechanism for interacting with <a data-link-type="dfn" href="infrastructure.html#plugin">plugins</a>, as it is expected
    to be user-agent- and platform-specific. Some user agents might opt to support a plugin mechanism such
    as the Netscape Plugin API; others might use remote content converters or have built-in support
    for certain types. Indeed, this specification doesn’t require user agents to support <a data-link-type="dfn" href="infrastructure.html#plugin">plugins</a> at
    all. <a data-link-type="biblio" href="references.html#biblio-npapi">[NPAPI]</a> </p>
    <p>A plugin can be <dfn data-dfn-type="dfn" data-noexport="" id="secured">secured<a class="self-link" href="infrastructure.html#secured"></a></dfn> if it honors the semantics of the <code>sandbox</code> attribute.</p>
    <p class="example" id="example-438a40c4"><a class="self-link" href="infrastructure.html#example-438a40c4"></a> For example, a secured plugin would prevent its contents from creating pop-up windows when the
    plugin is instantiated inside a sandboxed <code><a data-link-type="element" href="semantics.html#elementdef-iframe">iframe</a></code>. </p>
    <div class="impl">
     <p class="warning"> Browsers should take extreme care when interacting with external content intended for <a data-link-type="dfn" href="infrastructure.html#plugin">plugins</a>. When third-party software is run with the same privileges as the user agent
      itself, vulnerabilities in the third-party software become as dangerous as those in the user
      agent. </p>
     <p>Since different users having different sets of <a data-link-type="dfn" href="infrastructure.html#plugin">plugins</a> provides a fingerprinting vector
    that increases the chances of users being uniquely identified, user agents are encouraged to
    support the exact same set of <a data-link-type="dfn" href="infrastructure.html#plugin">plugins</a> for each user. <a class="fingerprint" href="introduction.html#fingerprinting-vector"><img alt="(This is a fingerprinting vector.)" height="21" src="images/fingerprint.png" width="15"></a></p>
    </div>
    <h4 class="heading settled" data-level="2.1.6" id="encoding-terminology"><span class="secno">2.1.6. </span><span class="content">Character encodings</span><a class="self-link" href="infrastructure.html#encoding-terminology"></a></h4>
    <p>A <dfn data-dfn-type="dfn" data-lt="character encoding|character encodings" data-noexport="" id="character-encoding">character encoding<a class="self-link" href="infrastructure.html#character-encoding"></a></dfn>, or just <i>encoding</i> where that is not ambiguous, is a defined
  way to convert between byte streams and Unicode strings, as defined in the Encoding standard. An <a data-link-type="dfn" href="http://www.w3.org/TR/dom/#concept-document-encoding">encoding</a> has an <dfn data-dfn-type="dfn" data-noexport="" id="encoding-name">encoding name<a class="self-link" href="infrastructure.html#encoding-name"></a></dfn> and one or more <dfn data-dfn-type="dfn" data-noexport="" id="encoding-labels">encoding labels<a class="self-link" href="infrastructure.html#encoding-labels"></a></dfn>,
  referred to as the encoding’s <i>name</i> and <i>labels</i> in the Encoding standard. <a data-link-type="biblio" href="references.html#biblio-encoding">[ENCODING]</a></p>
    <p>An <dfn data-dfn-type="dfn" data-lt="ASCII-compatible encoding|ASCII-compatible character encoding" data-noexport="" id="ascii-compatible-encoding">ASCII-compatible character encoding<a class="self-link" href="infrastructure.html#ascii-compatible-encoding"></a></dfn> is a single-byte or variable-length <a data-link-type="dfn" href="http://www.w3.org/TR/dom/#concept-document-encoding">encoding</a> in which the bytes 0x09, 0x0A, 0x0C, 0x0D, 0x20 - 0x22, 0x26, 0x27, 0x2C - 0x3F,
  0x41 - 0x5A, and 0x61 - 0x7A, ignoring bytes that are the second and later bytes of multibyte
  sequences, all correspond to single-byte sequences that map to the same Unicode characters as
  those bytes in Windows-1252. <a data-link-type="biblio" href="references.html#biblio-encoding">[ENCODING]</a></p>
    <p class="note" role="note"> This includes such encodings as Shift_JIS, HZ-GB-2312, and variants of ISO-2022, even though it
    is possible in these encodings for bytes like 0x70 to be part of longer sequences that are
    unrelated to their interpretation as ASCII. It excludes UTF-16 variants, as well as obsolete
    legacy encodings such as UTF-7, GSM03.38, and EBCDIC variants. </p>
    <p>The term <dfn data-dfn-type="dfn" data-lt="UTF-16 encoding|a UTF-16 encoding" data-noexport="" id="utf-16-encoding">a UTF-16 encoding<a class="self-link" href="infrastructure.html#utf-16-encoding"></a></dfn> refers to any variant of UTF-16: UTF-16LE or UTF-16BE,
  regardless of the presence or absence of a BOM. <a data-link-type="biblio" href="references.html#biblio-encoding">[ENCODING]</a></p>
    <p>The term <dfn data-dfn-type="dfn" data-lt="code unit|code units" data-noexport="" id="code-unit">code unit<a class="self-link" href="infrastructure.html#code-unit"></a></dfn> is used as defined in the Web IDL specification: a 16 bit
  unsigned integer, the smallest atomic component of a <code>DOMString</code>. (This is a narrower
  definition than the one used in Unicode, and is not the same as a <i>code point</i>.) <a data-link-type="biblio" href="references.html#biblio-webidl">[WEBIDL]</a></p>
    <p>The term <dfn data-dfn-type="dfn" data-lt="Unicode code point|Unicode code points" data-noexport="" id="unicode-code-point">Unicode code point<a class="self-link" href="infrastructure.html#unicode-code-point"></a></dfn> means a <i>Unicode scalar value</i> where possible, and an
  isolated surrogate code point when not. When a conformance requirement is defined in terms of
  characters or Unicode code points, a pair of <a data-link-type="dfn" href="infrastructure.html#code-unit">code units</a> consisting of a high surrogate
  followed by a low surrogate must be treated as the single code point represented by the surrogate
  pair, but isolated surrogates must each be treated as the single code point with the value of the
  surrogate. [[!UNICODE]</p>
    <p>In this specification, the term <dfn data-dfn-type="dfn" data-lt="character|characters" data-noexport="" id="character">character<a class="self-link" href="infrastructure.html#character"></a></dfn>, when not qualified as <em>Unicode</em> character, is synonymous with the term <a data-link-type="dfn" href="infrastructure.html#unicode-code-point">Unicode code point</a>.</p>
    <p>The term <dfn data-dfn-type="dfn" data-lt="Unicode character|Unicode characters" data-noexport="" id="unicode-character">Unicode character<a class="self-link" href="infrastructure.html#unicode-character"></a></dfn> is used to mean a <i>Unicode scalar value</i> (i.e. any
  Unicode code point that is not a surrogate code point). <a data-link-type="biblio" href="references.html#biblio-unicode">[UNICODE]</a></p>
    <p>The <dfn data-dfn-type="dfn" data-noexport="" id="code-unit-length">code-unit length<a class="self-link" href="infrastructure.html#code-unit-length"></a></dfn> of a string is the number of <a data-link-type="dfn" href="infrastructure.html#code-unit">code units</a> in that string.</p>
    <p class="note" role="note"> This complexity results from the historical decision to define the DOM API in terms of 16 bit
    (UTF-16) <a data-link-type="dfn" href="infrastructure.html#code-unit">code units</a>, rather than in terms of <a data-link-type="dfn" href="infrastructure.html#unicode-character">Unicode characters</a>. </p>
    <h3 class="heading settled" data-level="2.2" id="conformance-requirements"><span class="secno">2.2. </span><span class="content">Conformance requirements</span><a class="self-link" href="infrastructure.html#conformance-requirements"></a></h3>
    <p>All diagrams, examples, and notes in this specification are non-normative, as are all sections
  explicitly marked non-normative. Everything else in this specification is normative.</p>
    <p>The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT", "SHOULD", "SHOULD NOT",
  "RECOMMENDED", "NOT RECOMMENDED", "MAY", and "OPTIONAL" in the normative parts of this document
  are to be interpreted as described in RFC2119. The key word "OPTIONALLY" in the normative parts of
  this document is to be interpreted with the same normative meaning as "MAY" and "OPTIONAL". For
  readability, these words do not appear in all uppercase letters in this specification. <a data-link-type="biblio" href="references.html#biblio-rfc2119">[RFC2119]</a></p>
    <div class="impl">
      Requirements phrased in the imperative as part of algorithms (such as "strip any leading space
    characters" or "return false and abort these steps") are to be interpreted with the meaning of
    the key word ("must", "should", "may", etc) used in introducing the algorithm. 
     <div class="example" id="example-63b9bfdd">
      <a class="self-link" href="infrastructure.html#example-63b9bfdd"></a> For example, were the spec to say: 
<pre>To eat an orange, the user must:
1. Peel the orange.
2. Separate each slice of the orange.
3. Eat the orange slices.
</pre>
      <p>...it would be equivalent to the following:</p>
<pre>To eat an orange:
1. The user must peel the orange.
2. The user must separate each slice of the orange.
3. The user must eat the orange slices.
</pre>
      <p>Here the key word is "must".</p>
      <p>The former (imperative) style is generally preferred in this specification for stylistic
      reasons.</p>
     </div>
     <p>Conformance requirements phrased as algorithms or specific steps may be implemented in any
    manner, so long as the end result is equivalent. (In particular, the algorithms defined in this
    specification are intended to be easy to follow, and not intended to be performant.)</p>
    </div>
    <div class="impl">
     <h4 class="heading settled" data-level="2.2.1" id="conformance-classes"><span class="secno">2.2.1. </span><span class="content">Conformance classes</span><a class="self-link" href="infrastructure.html#conformance-classes"></a></h4>
     <p>This specification describes the conformance criteria for <span class="impl">user agents (relevant
  to implementors) and</span> documents<span class="impl"> (relevant to authors and authoring tool
  implementors)</span>.</p>
     <p><dfn data-dfn-type="dfn" data-lt="conforming document|conforming documents" data-noexport="" id="conforming-document">Conforming documents<a class="self-link" href="infrastructure.html#conforming-document"></a></dfn> are those that comply with all the conformance criteria for
  documents. For readability, some of these conformance requirements are phrased as conformance
  requirements on authors; such requirements are implicitly requirements on documents: by
  definition, all documents are assumed to have had an author. (In some cases, that author may
  itself be a user agent — such user agents are subject to additional rules, as explained
  below.)</p>
     <p class="example" id="example-cf97d5a1"><a class="self-link" href="infrastructure.html#example-cf97d5a1"></a> For example, if a requirement states that "authors must not use the <code>foobar</code> element", it would imply that documents are not allowed to contain elements named <code>foobar</code>. </p>
     <p class="note impl" role="note"> There is no implied relationship between document conformance requirements and implementation
    conformance requirements. User agents are not free to handle non-conformant documents as they
    please; the processing model described in this specification applies to implementations
    regardless of the conformity of the input documents. </p>
     <p>User agents fall into several (overlapping) categories with different conformance requirements.</p>
     <dl>
      <dt data-md="">
       <p>Web browsers and other interactive user agents</p>
      </dt><dd data-md="">
       <p>Web browsers that support <a href="xhtml.html#xhtml">the XHTML syntax</a> must process elements and attributes from the <a data-link-type="dfn" href="infrastructure.html#html-namespace">HTML namespace</a> found in XML documents as described in this specification, so that users
  can interact with them, unless the semantics of those elements have been overridden by other
  specifications.</p>
       <p class="example" id="example-0023f092"><a class="self-link" href="infrastructure.html#example-0023f092"></a> A conforming XHTML processor would, upon finding an XHTML <code><a data-link-type="element" href="semantics.html#elementdef-script">script</a></code> element in an
    XML document, execute the script contained in that element. However, if the element is found
    within a transformation expressed in XSLT (assuming the user agent also supports XSLT), then
    the processor would instead treat the <code><a data-link-type="element" href="semantics.html#elementdef-script">script</a></code> element as an opaque element that
    forms part of the transform. </p>
       <p>Web browsers that support <a href="syntax.html#syntax">the HTML syntax</a> must process documents labeled with an <a data-link-type="dfn" href="infrastructure.html#html-mime-type">HTML MIME type</a> as described in this specification, so that users can interact with
  them.</p>
       <p>User agents that support scripting must also be conforming implementations of the IDL
  fragments in this specification, as described in the Web IDL specification. <a data-link-type="biblio" href="references.html#biblio-webidl">[WEBIDL]</a></p>
       <p class="note" role="note"> Unless explicitly stated, specifications that override the semantics of HTML elements do not
    override the requirements on DOM objects representing those elements. For example, the <code><a data-link-type="element" href="semantics.html#elementdef-script">script</a></code> element in the example above would still implement the <code class="idl"><a data-link-type="idl" href="semantics.html#htmlscriptelement-htmlscriptelement">HTMLScriptElement</a></code> interface. </p>
      </dd><dt data-md="">
       <p>Non-interactive presentation user agents</p>
      </dt><dd data-md="">
       <p>User agents that process HTML and XHTML documents purely to render non-interactive versions
  of them must comply to the same conformance criteria as Web browsers, except that they are
  exempt from requirements regarding user interaction.</p>
       <p class="note" role="note"> Typical examples of non-interactive presentation user agents are printers (static user agents) and
    overhead displays (dynamic user agents). It is expected that most static non-interactive
    presentation user agents will also opt to <a data-link-type="dfn" href="infrastructure.html#lack-scripting-support">lack scripting support</a>. </p>
       <p class="example" id="example-84f7a997"><a class="self-link" href="infrastructure.html#example-84f7a997"></a> A non-interactive but dynamic presentation user agent would still execute scripts, allowing forms
    to be dynamically submitted, and so forth. However, since the concept of "focus" is
    irrelevant when the user cannot interact with the document, the user agent would not need to support
    any of the focus-related DOM APIs. </p>
      </dd><dt data-md="">
       <p><dfn data-dfn-for="rendering" data-dfn-type="dfn" data-lt="support the suggested default rendering|supporting the suggested default rendering|Visual user agents that support the suggested default rendering" data-noexport="" id="rendering-support-the-suggested-default-rendering">Visual user agents that support the suggested default rendering<a class="self-link" href="infrastructure.html#rendering-support-the-suggested-default-rendering"></a></dfn></p>
      </dt><dd data-md="">
       <p>User agents, whether interactive or not, may be designated (possibly as a user option) as <a data-link-type="dfn" href="infrastructure.html#rendering-support-the-suggested-default-rendering">supporting the suggested default rendering</a> defined by this specification.</p>
       <p>This is not required. In particular, even user agents that do implement the suggested default
  rendering are encouraged to offer settings that override this default to improve the
  experience for the user, e.g. changing the color contrast, using different focus styles, or
  otherwise making the experience more accessible and usable to the user.</p>
       <p>User agents that are designated as <a data-link-type="dfn" href="infrastructure.html#rendering-support-the-suggested-default-rendering">supporting the suggested default rendering</a> must, while so
  designated, implement the rules in <a href="rendering.html#rendering">§10 Rendering</a>. That section defines
  the behavior that user agents are <em>expected</em> to implement.</p>
      </dd><dt data-md="">
       <p><dfn data-dfn-type="dfn" data-lt="lack scripting support|User agents with no scripting support|do not support scripting" data-noexport="" id="lack-scripting-support">User agents with no scripting support<a class="self-link" href="infrastructure.html#lack-scripting-support"></a></dfn></p>
      </dt><dd data-md="">
       <p>Implementations that do not support scripting (or which have their scripting features disabled
  entirely) are exempt from supporting the events and DOM interfaces mentioned in this
  specification. For the parts of this specification that are defined in terms of an events
  model or in terms of the DOM, such user agents must still act as if events and the DOM were
  supported.</p>
       <p class="note" role="note"> Scripting can form an integral part of an application. Web browsers that do not support
      scripting, or that have scripting disabled, might be unable to fully convey the author’s
      intent. </p>
      </dd><dt data-md="">
       <p>Conformance checkers</p>
      </dt><dd data-md="">
       <p>Conformance checkers must verify that a document conforms to the applicable conformance
  criteria described in this specification. Automated conformance checkers are exempt from
  detecting errors that require interpretation of the author’s intent (for example, while a
  document is non-conforming if the content of a <code><a data-link-type="element" href="semantics.html#elementdef-blockquote">blockquote</a></code> element is not a quote,
  conformance checkers running without the input of human judgement do not have to check that <code><a data-link-type="element" href="semantics.html#elementdef-blockquote">blockquote</a></code> elements only contain quoted material).</p>
       <p>Conformance checkers must check that the input document conforms when parsed without a <a data-link-type="dfn" href="browsers.html#browsing-context">browsing context</a> (meaning that no scripts are run, and that the parser’s <a data-link-type="dfn" href="syntax.html#scripting-flag">scripting flag</a> is disabled), and should also check that the input document conforms
  when parsed with a <a data-link-type="dfn" href="browsers.html#browsing-context">browsing context</a> in which scripts execute, and that the scripts
  never cause non-conforming states to occur other than transiently during script execution
  itself. (This is only a "SHOULD" and not a "MUST" requirement because it has been proven to be
  impossible. <a data-link-type="biblio" href="references.html#biblio-computable">[COMPUTABLE]</a>)</p>
       <p>The term "HTML validator" can be used to refer to a conformance checker that itself conforms
  to the applicable requirements of this specification.</p>
       <div class="note" role="note">
         XML DTDs cannot express all the conformance requirements of this specification. Therefore, a
    validating XML processor and a DTD cannot constitute a conformance checker. Also, since
    neither of the two authoring formats defined in this specification are applications of SGML,
    a validating SGML system cannot constitute a conformance checker either. 
        <p>To put it another way, there are three types of conformance criteria:</p>
        <ol>
         <li data-md="">
          <p>Criteria that can be expressed in a DTD.</p>
         </li><li data-md="">
          <p>Criteria that cannot be expressed by a DTD, but can still be checked by a machine.</p>
         </li><li data-md="">
          <p>Criteria that can only be checked by a human.</p>
        </li></ol>
        <p>A conformance checker must check for the first two. A simple DTD-based validator only checks
    for the first class of errors and is therefore not a conforming conformance checker
    according to this specification.</p>
       </div>
      </dd><dt data-md="">
       <p>Data mining tools</p>
      </dt><dd data-md="">
       <p>Applications and tools that process HTML and XHTML documents for reasons other than to either
  render the documents or check them for conformance should act in accordance with the semantics
  of the documents that they process.</p>
       <p class="example" id="example-7be76795"><a class="self-link" href="infrastructure.html#example-7be76795"></a> A tool that generates <a data-link-type="dfn" href="semantics.html#outline">document outlines</a> but increases the nesting level for each
    paragraph and does not increase the nesting level for each section would not be conforming. </p>
      </dd><dt data-md="">
       <p>Authoring tools and markup generators</p>
      </dt><dd data-md="">
       <p>Authoring tools and markup generators must generate <a data-link-type="dfn" href="infrastructure.html#conforming-document">conforming documents</a>. Conformance
  criteria that apply to authors also apply to authoring tools, where appropriate.</p>
       <p>Authoring tools are exempt from the strict requirements of using elements only for their
  specified purpose, but only to the extent that authoring tools are not yet able to determine
  author intent. However, authoring tools must not automatically misuse elements or encourage
  their users to do so.</p>
       <p class="example" id="example-29bb1fbd"><a class="self-link" href="infrastructure.html#example-29bb1fbd"></a> For example, it is not conforming to use an <code><a data-link-type="element" href="semantics.html#elementdef-address">address</a></code> element for arbitrary
    contact information; that element can only be used for marking up contact information for
    the author of the document or section. However, since an authoring tool is likely unable to
    determine the difference, an authoring tool is exempt from that requirement. This does not
    mean, though, that authoring tools can use <code><a data-link-type="element" href="semantics.html#elementdef-address">address</a></code> elements for any block of
    italics text (for instance); it just means that the authoring tool doesn’t have to verify
    that when the user uses a tool for inserting contact information for a section, that the
    user really is doing that and not inserting something else instead. </p>
       <p class="note" role="note"> In terms of conformance checking, an editor has to output documents that conform to the same
    extent that a conformance checker will verify. </p>
       <p>When an authoring tool is used to edit a non-conforming document, it may preserve the
  conformance errors in sections of the document that were not edited during the editing session
  (i.e. an editing tool is allowed to round-trip erroneous content). However, an authoring tool
  must not claim that the output is conformant if errors have been so preserved.</p>
       <p>Authoring tools are expected to come in two broad varieties: tools that work from structure
  or semantic data, and tools that work on a What-You-See-Is-What-You-Get media-specific editing
  basis (WYSIWYG).</p>
       <p>The former is the preferred mechanism for tools that author HTML, since the structure in the
  source information can be used to make informed choices regarding which HTML elements and
  attributes are most appropriate.</p>
       <p>However, WYSIWYG tools are legitimate. WYSIWYG tools should use elements they know are
  appropriate, and should not use elements that they do not know to be appropriate. This might
  in certain extreme cases mean limiting the use of flow elements to just a few elements, like <code><a data-link-type="element" href="semantics.html#elementdef-div">div</a></code>, <code><a data-link-type="element" href="semantics.html#elementdef-b">b</a></code>, <code><a data-link-type="element" href="semantics.html#elementdef-i">i</a></code>, and <code><a data-link-type="element" href="semantics.html#elementdef-span">span</a></code> and making liberal use of the <code><a data-link-type="element-attr" href="dom.html#element-attrdef-global-style">style</a></code> attribute.</p>
       <p>All authoring tools, whether WYSIWYG or not, should make a best effort attempt at enabling
  users to create well-structured, semantically rich, media-independent content.</p>
     </dd></dl>
     <p><dfn data-dfn-type="dfn" data-lt="hardware limitations|practical concerns" data-noexport="" id="hardware-limitations"><a class="self-link" href="infrastructure.html#hardware-limitations"></a></dfn>User agents may impose implementation-specific limits on otherwise unconstrained inputs, e.g. to
  prevent denial of service attacks, to guard against running out of memory, or to work around
  platform-specific limitations. <a class="fingerprint" href="introduction.html#fingerprinting-vector"><img alt="(This is a fingerprinting vector.)" height="21" src="images/fingerprint.png" width="15"></a></p>
     <p>For compatibility with existing content and prior specifications, this specification describes
  two authoring formats: one based on XML (referred to as <a href="xhtml.html#xhtml">the XHTML syntax</a>), and one using a <a href="syntax.html#writing-html-documents">custom format</a> inspired by SGML (referred to as <a href="syntax.html#syntax">the HTML syntax</a>). Implementations
  must support at least one of these two formats, although supporting both is encouraged.</p>
     <p>Some conformance requirements are phrased as requirements on elements, attributes, methods or
  objects. Such requirements fall into two categories: those describing content model restrictions,
  and those describing implementation behavior. Those in the former category are requirements on
  documents and authoring tools. Those in the second category are requirements on user agents.
  Similarly, some conformance requirements are phrased as requirements on authors; such requirements
  are to be interpreted as conformance requirements on the documents that authors produce. (In other
  words, this specification does not distinguish between conformance criteria on authors and
  conformance criteria on documents.)</p>
    </div>
    <div class="impl">
     <h4 class="heading settled" data-level="2.2.2" id="conformance-requirements-dependencies"><span class="secno">2.2.2. </span><span class="content">Dependencies</span><a class="self-link" href="infrastructure.html#conformance-requirements-dependencies"></a></h4>
     <p>This specification relies on several other underlying specifications.</p>
     <dl>
      <dt data-md="">
       <p>Unicode and Encoding</p>
      </dt><dd data-md="">
       <p>The Unicode character set is used to represent textual data, and the Encoding standard defines
  requirements around <a data-link-type="dfn" href="infrastructure.html#character-encoding">character encodings</a>. <a data-link-type="biblio" href="references.html#biblio-unicode">[UNICODE]</a></p>
       <p class="note" role="note"> This specification <a data-link-type="dfn" href="infrastructure.html#character-encoding">introduces terminology</a> based on the terms defined in those
    specifications, as described earlier. </p>
       <p>The following terms are used as defined in the Encoding standard: <a data-link-type="biblio" href="references.html#biblio-encoding">[ENCODING]</a></p>
       <ul>
        <li data-md="">
         <p><dfn data-dfn-type="dfn" data-lt="getting an encoding" data-noexport="" id="getting-an-encoding">Getting an encoding<a class="self-link" href="infrastructure.html#getting-an-encoding"></a></dfn></p>
        </li><li data-md="">
         <p>The <dfn data-dfn-type="dfn" data-noexport="" id="encoder">encoder<a class="self-link" href="infrastructure.html#encoder"></a></dfn> and <dfn data-dfn-type="dfn" data-noexport="" id="decoder">decoder<a class="self-link" href="infrastructure.html#decoder"></a></dfn> algorithms for various encodings, including
the <dfn data-dfn-type="dfn" data-noexport="" id="utf-8-encoder">UTF-8 encoder<a class="self-link" href="infrastructure.html#utf-8-encoder"></a></dfn> and <dfn data-dfn-type="dfn" data-noexport="" id="utf-8-decoder">UTF-8 decoder<a class="self-link" href="infrastructure.html#utf-8-decoder"></a></dfn></p>
        </li><li data-md="">
         <p>The generic <dfn data-dfn-type="dfn" data-noexport="" id="decode">decode<a class="self-link" href="infrastructure.html#decode"></a></dfn> algorithm which takes a byte stream and an encoding and
returns a character stream</p>
        </li><li data-md="">
         <p>The <dfn data-dfn-type="dfn" data-noexport="" id="utf-8-decode">UTF-8 decode<a class="self-link" href="infrastructure.html#utf-8-decode"></a></dfn> algorithm which takes a byte stream and returns a character
stream, additionally stripping one leading UTF-8 Byte Order Mark (BOM), if any</p>
       </li></ul>
       <p class="note" role="note"> The <a data-link-type="dfn" href="infrastructure.html#utf-8-decoder">UTF-8 decoder</a> is distinct from the <i>UTF-8 decode algorithm</i>. The latter
    first strips a Byte Order Mark (BOM), if any, and then invokes the former. </p>
       <p>For readability, character encodings are sometimes referenced in this specification with a
  case that differs from the canonical case given in the Encoding standard. (For example,
  "UTF-16LE" instead of "utf-16le".)</p>
      </dd><dt data-md="">
       <p>XML and related specifications</p>
      </dt><dd data-md="">
       <p>Implementations that support <a href="xhtml.html#xhtml">the XHTML syntax</a> must support some version of XML, as
  well as its corresponding namespaces specification, because that syntax uses an XML
  serialization with namespaces. <a data-link-type="biblio" href="references.html#biblio-xml">[XML]</a> <a data-link-type="biblio" href="references.html#biblio-xml-names">[XML-NAMES]</a></p>
       <p>The attribute with the tag name <a data-link-type="dfn" href="http://www.w3.org/TR/xml/#sec-white-space"><code>xml:space</code></a> in the <a data-link-type="dfn" href="infrastructure.html#xml-namespace">XML namespace</a> is defined by the XML specification. <a data-link-type="biblio" href="references.html#biblio-xml">[XML]</a></p>
       <p>This specification also references the <a data-link-type="dfn" href="http://www.w3.org/TR/xml-stylesheet/#the-xml-stylesheet-processing-instruction"><code>&lt;?xml-stylesheet?&gt;</code></a> processing instruction, defined in the <cite>Associating Style Sheets with XML documents</cite> specification. <a data-link-type="biblio" href="references.html#biblio-xml-stylesheet">[XML-STYLESHEET]</a></p>
       <p>This specification also non-normatively mentions the <dfn class="idl-code" data-dfn-type="interface" data-export="" id="xsltprocessor"><code>XSLTProcessor</code><a class="self-link" href="infrastructure.html#xsltprocessor"></a></dfn> interface and its <dfn class="idl-code" data-dfn-for="XSLTProcessor" data-dfn-type="method" data-export="" id="dom-xsltprocessor-transformtofragment"><code>transformToFragment()</code><a class="self-link" href="infrastructure.html#dom-xsltprocessor-transformtofragment"></a></dfn> and <dfn class="idl-code" data-dfn-for="XSLTProcessor" data-dfn-type="method" data-export="" id="dom-xsltprocessor-transformtodocument"><code>transformToDocument()</code><a class="self-link" href="infrastructure.html#dom-xsltprocessor-transformtodocument"></a></dfn> methods.</p>
      </dd><dt data-md="">
       <p>URLs</p>
      </dt><dd data-md="">
       <p>The following terms are defined in the WHATWG URL standard: <a data-link-type="biblio" href="references.html#biblio-url">[URL]</a></p>
       <ul>
        <li data-md="">
         <p><a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-domain">domain</a></p>
        </li><li data-md="">
         <p><a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-url">URL</a></p>
        </li><li data-md="">
         <p><a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request-origin">Origin</a> of URLs</p>
        </li><li data-md="">
         <p><a data-link-type="dfn" href="https://url.spec.whatwg.org/#syntax-url-absolute">Absolute URL</a></p>
        </li><li data-md="">
         <p><a data-link-type="dfn" href="https://url.spec.whatwg.org/#syntax-url-relative">Relative URL</a></p>
        </li><li data-md="">
         <p><a data-link-type="dfn" href="https://url.spec.whatwg.org/#syntax-url-scheme-relative">Relative schemes</a></p>
        </li><li data-md="">
         <p>The <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-parser">URL parser</a> and <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-basic-url-parser">basic URL parser</a> as well as these parser states:</p>
         <ul>
          <li data-md="">
           <p><a data-link-type="dfn" href="https://url.spec.whatwg.org/#scheme-start-state">scheme start state</a></p>
          </li><li data-md="">
           <p><a data-link-type="dfn" href="https://url.spec.whatwg.org/#host-state">host state</a></p>
          </li><li data-md="">
           <p><a data-link-type="dfn" href="https://url.spec.whatwg.org/#hostname-state">hostname state</a></p>
          </li><li data-md="">
           <p><a data-link-type="dfn" href="https://url.spec.whatwg.org/#port-state">port state</a></p>
          </li><li data-md="">
           <p><a data-link-type="dfn" href="https://url.spec.whatwg.org/#path-start-state">path start state</a></p>
          </li><li data-md="">
           <p><a data-link-type="dfn" href="https://url.spec.whatwg.org/#query-state">query state</a></p>
          </li><li data-md="">
           <p><a data-link-type="dfn" href="https://url.spec.whatwg.org/#fragment-state">fragment state</a></p>
         </li></ul>
        </li><li data-md="">
         <p><a data-link-type="dfn" href="https://url.spec.whatwg.org/#url-parsing">Parsed URL</a></p>
        </li><li data-md="">
         <p>The <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-scheme">scheme</a> component of a <a data-link-type="dfn" href="https://url.spec.whatwg.org/#url-parsing">parsed URL</a></p>
        </li><li data-md="">
         <p>The <a data-link-type="dfn" href="https://url.spec.whatwg.org/#syntax-url-scheme">scheme data</a> component of a <a data-link-type="dfn" href="https://url.spec.whatwg.org/#url-parsing">parsed URL</a></p>
        </li><li data-md="">
         <p>The <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-username">username</a> component of a <a data-link-type="dfn" href="https://url.spec.whatwg.org/#url-parsing">parsed URL</a></p>
        </li><li data-md="">
         <p>The <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-password">password</a> component of a <a data-link-type="dfn" href="https://url.spec.whatwg.org/#url-parsing">parsed URL</a></p>
        </li><li data-md="">
         <p>The <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-host">host</a> component of a <a data-link-type="dfn" href="https://url.spec.whatwg.org/#url-parsing">parsed URL</a></p>
        </li><li data-md="">
         <p>The <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-port">port</a> component of a <a data-link-type="dfn" href="https://url.spec.whatwg.org/#url-parsing">parsed URL</a></p>
        </li><li data-md="">
         <p>The <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-path">path</a> component of a <a data-link-type="dfn" href="https://url.spec.whatwg.org/#url-parsing">parsed URL</a></p>
        </li><li data-md="">
         <p>The <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-query">query</a> component of a <a data-link-type="dfn" href="https://url.spec.whatwg.org/#url-parsing">parsed URL</a></p>
        </li><li data-md="">
         <p>The <a data-link-type="dfn" href="https://url.spec.whatwg.org/#syntax-url-fragment">fragment</a> component of a <a data-link-type="dfn" href="https://url.spec.whatwg.org/#url-parsing">parsed URL</a></p>
        </li><li data-md="">
         <p><a data-link-type="dfn" href="https://url.spec.whatwg.org/#non-relative-flag">non-relative flag</a></p>
        </li><li data-md="">
         <p><a data-link-type="dfn" href="https://url.spec.whatwg.org/#syntax-violation">Parse errors</a> from the <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-parser">URL parser</a></p>
        </li><li data-md="">
         <p>The <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-serializer">URL serializer</a></p>
        </li><li data-md="">
         <p>The <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-host-serializer">host serializer</a></p>
        </li><li data-md="">
         <p>The <a data-link-type="dfn" href="https://url.spec.whatwg.org/#serialize-an-integer">serialize an integer</a></p>
        </li><li data-md="">
         <p><a data-link-type="dfn" href="https://url.spec.whatwg.org/#default-encode-set">Default encode set</a></p>
        </li><li data-md="">
         <p><a data-link-type="dfn" href="https://url.spec.whatwg.org/#percent-encode">Percent encode</a></p>
        </li><li data-md="">
         <p><a data-link-type="dfn" href="https://url.spec.whatwg.org/#utf-8-percent-encode">UTF-8 percent encode</a></p>
        </li><li data-md="">
         <p><a data-link-type="dfn" href="https://url.spec.whatwg.org/#percent-decode">Percent decode</a></p>
        </li><li data-md="">
         <p><a data-link-type="dfn" href="https://encoding.spec.whatwg.org/#error">Decoder error</a></p>
        </li><li data-md="">
         <p><a data-link-type="dfn" href="https://url.spec.whatwg.org/#set-the-username">set the username</a></p>
        </li><li data-md="">
         <p><a data-link-type="dfn" href="https://url.spec.whatwg.org/#set-the-password">set the password</a></p>
        </li><li data-md="">
         <p>The <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-domain-to-ascii">domain to ASCII</a> algorithm</p>
        </li><li data-md="">
         <p>The <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-domain-to-unicode">domain to Unicode</a> algorithm</p>
       </li></ul>
       <p>A number of schemes and protocols are referenced by this specification also:</p>
       <ul>
        <li data-md="">
         <p>The <dfn data-dfn-type="scheme" data-export="" data-lt="about:|about:blank" id="schemedef-about"><a data-link-type="scheme" href="infrastructure.html#schemedef-about"><code>about:</code></a><a class="self-link" href="infrastructure.html#schemedef-about"></a></dfn> scheme <a data-link-type="biblio" href="references.html#biblio-rfc6694">[RFC6694]</a></p>
        </li><li data-md="">
         <p>The <dfn data-dfn-type="scheme" data-export="" id="schemedef-blob"><a data-link-type="scheme" href="infrastructure.html#schemedef-blob"><code>blob:</code></a><a class="self-link" href="infrastructure.html#schemedef-blob"></a></dfn> scheme <a data-link-type="biblio" href="references.html#biblio-fileapi">[FILEAPI]</a></p>
        </li><li data-md="">
         <p>The <dfn data-dfn-type="scheme" data-export="" data-lt="data: url|data:|data url" id="schemedef-data-url"><code>data:</code><a class="self-link" href="infrastructure.html#schemedef-data-url"></a></dfn> scheme <a data-link-type="biblio" href="references.html#biblio-rfc2397">[RFC2397]</a></p>
        </li><li data-md="">
         <p>The <dfn data-dfn-type="scheme" data-export="" id="schemedef-http"><code>http:</code><a class="self-link" href="infrastructure.html#schemedef-http"></a></dfn> scheme <a data-link-type="biblio" href="references.html#biblio-http">[HTTP]</a></p>
        </li><li data-md="">
         <p>The <dfn data-dfn-type="scheme" data-export="" id="schemedef-https"><code>https:</code><a class="self-link" href="infrastructure.html#schemedef-https"></a></dfn> scheme <a data-link-type="biblio" href="references.html#biblio-http">[HTTP]</a></p>
        </li><li data-md="">
         <p>The <dfn data-dfn-type="scheme" data-export="" id="schemedef-mailto"><code>mailto:</code><a class="self-link" href="infrastructure.html#schemedef-mailto"></a></dfn> scheme <a data-link-type="biblio" href="references.html#biblio-rfc6068">[RFC6068]</a></p>
        </li><li data-md="">
         <p>The <dfn data-dfn-type="scheme" data-export="" id="schemedef-sms"><code>sms:</code><a class="self-link" href="infrastructure.html#schemedef-sms"></a></dfn> scheme <a data-link-type="biblio" href="references.html#biblio-rfc5724">[RFC5724]</a></p>
        </li><li data-md="">
         <p>The <dfn data-dfn-type="scheme" data-export="" id="schemedef-urn"><code>urn:</code><a class="self-link" href="infrastructure.html#schemedef-urn"></a></dfn> scheme <a data-link-type="biblio" href="references.html#biblio-urn">[URN]</a></p>
       </li></ul>
      </dd><dt data-md="">
       <p>HTTP and related specifications</p>
      </dt><dd data-md="">
       <p>The following terms are defined in the HTTP specifications: <a data-link-type="biblio" href="references.html#biblio-http">[HTTP]</a></p>
       <ul>
        <li data-md="">
         <p><a data-link-type="dfn" href="http://tools.ietf.org/html/rfc7231#section-5.3.2"><code>Accept</code></a> header</p>
        </li><li data-md="">
         <p><a data-link-type="dfn" href="http://tools.ietf.org/html/rfc7231#section-5.3.5"><code>Accept-Language</code></a> header</p>
        </li><li data-md="">
         <p><a data-link-type="dfn" href="http://tools.ietf.org/html/rfc7234#section-5.2"><code>Cache-Control</code></a> header</p>
        </li><li data-md="">
         <p><a data-link-type="dfn" href="http://tools.ietf.org/html/rfc6266#content-disposition"><code>Content-Disposition</code></a> header</p>
        </li><li data-md="">
         <p><a data-link-type="dfn" href="http://tools.ietf.org/html/rfc7231#section-3.1.3.2"><code>Content-Language</code></a> header</p>
        </li><li data-md="">
         <p><a data-link-type="dfn" href="http://tools.ietf.org/html/rfc7230#section-3.3.2"><code>Content-Length</code></a> header</p>
        </li><li data-md="">
         <p><a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-host"><code>Host</code></a> header</p>
        </li><li data-md="">
         <p><a data-link-type="dfn" href="http://tools.ietf.org/html/rfc7232#section-2.2"><code>Last-Modified</code></a> header</p>
        </li><li data-md="">
         <p><a data-link-type="dfn" href="http://tools.ietf.org/html/rfc7231#section-5.5.2"><code>Referer</code></a> header</p>
       </li></ul>
       <p>The following terms are defined in the Cookie specification: <a data-link-type="biblio" href="references.html#biblio-cookies">[COOKIES]</a></p>
       <ul>
        <li data-md="">
         <p><dfn data-dfn-type="dfn" data-noexport="" id="cookie-string">cookie-string<a class="self-link" href="infrastructure.html#cookie-string"></a></dfn></p>
        </li><li data-md="">
         <p><a data-link-type="dfn" href="http://tools.ietf.org/html/rfc6265#section-4.1">receives a set-cookie-string</a></p>
        </li><li data-md="">
         <p><a data-link-type="dfn" href="http://tools.ietf.org/html/rfc6265#section-5.4"><code>Cookie</code> header</a></p>
       </li></ul>
       <p>The following term is defined in the Web Linking specification: <a data-link-type="biblio" href="references.html#biblio-rfc5988">[RFC5988]</a></p>
       <ul>
        <li data-md="">
         <p><a data-link-type="dfn" href="http://tools.ietf.org/html/rfc5988#section-5"><code>Link</code> header</a></p>
       </li></ul>
      </dd><dt data-md="">
       <p>Fetch</p>
      </dt><dd data-md="">
       <p>The following terms are defined in the WHATWG Fetch specification: <a data-link-type="biblio" href="references.html#biblio-fetch">[FETCH]</a></p>
       <ul>
        <li data-md="">
         <p><a data-link-type="scheme" href="infrastructure.html#schemedef-about"><code>about:blank</code></a></p>
        </li><li data-md="">
         <p><a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-fetch">fetch</a></p>
        </li><li data-md="">
         <p><a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#ok-status">ok status</a></p>
        </li><li data-md="">
         <p><a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#origin-header"><code>Origin</code> header</a></p>
        </li><li data-md="">
         <p><a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-header-list-set">set</a></p>
        </li><li data-md="">
         <p><a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-response">response</a> and its associated:</p>
         <ul>
          <li data-md="">
           <p><a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-response-type">type</a></p>
          </li><li data-md="">
           <p><a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-url">URL</a></p>
          </li><li data-md="">
           <p><a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-response-url-list">url list</a></p>
          </li><li data-md="">
           <p><a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-status">status</a></p>
          </li><li data-md="">
           <p><a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-header-list">header list</a></p>
          </li><li data-md="">
           <p><a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-body">body</a></p>
          </li><li data-md="">
           <p><a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-internal-response">internal response</a></p>
          </li><li data-md="">
           <p><a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-response-https-state">HTTPS state</a></p>
         </li></ul>
        </li><li data-md="">
         <p><a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request">request</a> and its associated:</p>
         <ul>
          <li data-md="">
           <p><a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-url">URL</a></p>
          </li><li data-md="">
           <p><a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-method">method</a></p>
          </li><li data-md="">
           <p><a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-header-list">header list</a></p>
          </li><li data-md="">
           <p><a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-body">body</a></p>
          </li><li data-md="">
           <p><a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request-client">client</a></p>
          </li><li data-md="">
           <p><a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request-target-browsing-context">target browsing context</a></p>
          </li><li data-md="">
           <p><a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request-initiator">initiator</a></p>
          </li><li data-md="">
           <p><a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request-type">type</a></p>
          </li><li data-md="">
           <p><a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request-destination">destination</a></p>
          </li><li data-md="">
           <p><a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request-origin">origin</a></p>
          </li><li data-md="">
           <p><a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request-omit-origin-header-flag">omit-<code>Origin</code>-header flag</a></p>
          </li><li data-md="">
           <p><a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request-referrer">referrer</a></p>
          </li><li data-md="">
           <p><a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#synchronous-flag">synchronous flag</a></p>
          </li><li data-md="">
           <p><a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request-mode">mode</a></p>
          </li><li data-md="">
           <p><a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request-credentials-mode">credentials mode</a></p>
          </li><li data-md="">
           <p><a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request-use-url-credentials-flag">use-URL-credentials flag</a></p>
          </li><li data-md="">
           <p><a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request-cache-mode">cache mode</a></p>
          </li><li data-md="">
           <p><a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request-redirect-mode">redirect mode</a></p>
         </li></ul>
       </li></ul>
      </dd><dt data-md="">
       <p>Web IDL</p>
      </dt><dd data-md="">
       <p>The IDL fragments in this specification must be interpreted as required for conforming IDL
  fragments, as described in the Web IDL specification. <a data-link-type="biblio" href="references.html#biblio-webidl">[WEBIDL]</a></p>
       <p>The following terms are defined in the Web IDL specification:</p>
       <ul>
        <li data-md="">
         <p><a data-link-type="dfn" href="http://www.w3.org/TR/WebIDL/#dfn-supported-property-indices">Supported property indices</a></p>
        </li><li data-md="">
         <p><a data-link-type="dfn" href="http://www.w3.org/TR/WebIDL/#dfn-determine-the-value-of-an-indexed-property">Determine the value of an indexed property</a></p>
        </li><li data-md="">
         <p><a data-link-type="dfn" href="http://www.w3.org/TR/WebIDL/#dfn-support-named-properties">Support named properties</a></p>
        </li><li data-md="">
         <p><a data-link-type="dfn" href="http://www.w3.org/TR/WebIDL/#dfn-supported-property-names">Supported property names</a></p>
        </li><li data-md="">
         <p><a data-link-type="dfn" href="https://heycam.github.io/webidl/#dfn-unenumerable">Unenumerable</a></p>
        </li><li data-md="">
         <p><a data-link-type="dfn" href="http://www.w3.org/TR/WebIDL/#dfn-determine-the-value-of-a-named-property">Determine the value of a named property</a></p>
        </li><li data-md="">
         <p><a data-link-type="dfn" href="http://www.w3.org/TR/WebIDL/#dfn-platform-array-object">Platform array objects</a></p>
        </li><li data-md="">
         <p><a data-link-type="dfn" href="http://www.w3.org/TR/WebIDL/#dfn-read-only">Read only</a> (when applied to arrays)</p>
        </li><li data-md="">
         <p><a data-link-type="dfn" href="http://www.w3.org/TR/WebIDL/#dfn-callback-this-value">Callback this value</a></p>
        </li><li data-md="">
         <p><a data-link-type="dfn" href="http://www.w3.org/TR/WebIDL/#es-type-mapping">Converting</a> between WebIDL types and JS types</p>
        </li><li data-md="">
         <p><a data-link-type="dfn" href="http://www.w3.org/TR/WebIDL/#es-invoking-callback-functions">invoke the Web IDL callback function</a></p>
       </li></ul>
       <p>The Web IDL specification also defines the following types that are used in Web IDL fragments
  in this specification:</p>
       <ul>
        <li data-md="">
         <p><a data-link-type="dfn" href="http://www.ecma-international.org/ecma-262/6.0/#sec-array-constructor"><code>Array</code></a></p>
        </li><li data-md="">
         <p><a class="css" data-link-type="type" href="http://www.w3.org/TR/WebIDL/#idl-boolean"><code>boolean</code></a></p>
        </li><li data-md="">
         <p><a data-link-type="dfn" href="http://www.ecma-international.org/ecma-262/6.0/#sec-boolean-constructor"><code>Boolean</code></a></p>
        </li><li data-md="">
         <p><a class="css" data-link-type="type" href="http://www.w3.org/TR/WebIDL/#idl-domstring" title="Expands to: validation steps"><code>DOMString</code></a></p>
        </li><li data-md="">
         <p><a class="css" data-link-type="type" href="http://www.w3.org/TR/WebIDL/#idl-usvstring"><code>USVString</code></a></p>
        </li><li data-md="">
         <p><a class="css" data-link-type="type" href="http://www.w3.org/TR/WebIDL/#idl-double"><code>double</code></a></p>
        </li><li data-md="">
         <p><a class="css" data-link-type="type" href="http://www.w3.org/TR/WebIDL/#idl-error"><code>Error</code></a></p>
        </li><li data-md="">
         <p><a data-link-type="dfn" href="http://www.ecma-international.org/ecma-262/6.0/#sec-function-constructor"><code>Function</code></a></p>
        </li><li data-md="">
         <p><a class="css" data-link-type="type" href="http://www.w3.org/TR/WebIDL/#idl-long"><code>long</code></a></p>
        </li><li data-md="">
         <p><a data-link-type="dfn" href="http://www.ecma-international.org/ecma-262/6.0/#sec-map-constructor"><code>Map</code></a></p>
        </li><li data-md="">
         <p><a data-link-type="dfn" href="http://www.ecma-international.org/ecma-262/6.0/#sec-number-constructor"><code>Number</code></a></p>
        </li><li data-md="">
         <p><a data-link-type="dfn" href="http://www.ecma-international.org/ecma-262/6.0/#sec-object-constructor"><code>Object</code></a></p>
        </li><li data-md="">
         <p><a data-link-type="dfn" href="http://www.ecma-international.org/ecma-262/6.0/#sec-regexp-constructor"><code>RegExp</code></a></p>
        </li><li data-md="">
         <p><a class="css" data-link-type="type" href="http://www.ecma-international.org/ecma-262/6.0/#sec-set-constructor"><code>Set</code></a></p>
        </li><li data-md="">
         <p><a data-link-type="dfn" href="http://www.ecma-international.org/ecma-262/6.0/#sec-string-constructor"><code>String</code></a></p>
        </li><li data-md="">
         <p><a class="css" data-link-type="type" href="http://www.w3.org/TR/WebIDL/#idl-unrestricted-double"><code>unrestricted double</code></a></p>
        </li><li data-md="">
         <p><a class="css" data-link-type="type" href="http://www.w3.org/TR/WebIDL/#idl-unsigned-long"><code>unsigned long</code></a></p>
       </li></ul>
       <p>The term <dfn data-dfn-type="dfn" data-noexport="" id="throw">throw<a class="self-link" href="infrastructure.html#throw"></a></dfn> in this specification is used as defined in the WebIDL
  specification. The following exception names are defined by WebIDL and used by this
  specification:</p>
       <ul>
        <li data-md="">
         <p><a data-link-type="dfn" href="https://heycam.github.io/webidl/#indexsizeerror"><code>IndexSizeError</code></a></p>
        </li><li data-md="">
         <p><a data-link-type="dfn" href="https://heycam.github.io/webidl/#hierarchyrequesterror"><code>HierarchyRequestError</code></a></p>
        </li><li data-md="">
         <p><a data-link-type="dfn" href="https://heycam.github.io/webidl/#invalidcharactererror"><code>InvalidCharacterError</code></a></p>
        </li><li data-md="">
         <p><a data-link-type="dfn" href="https://heycam.github.io/webidl/#notfounderror"><code>NotFoundError</code></a></p>
        </li><li data-md="">
         <p><a data-link-type="dfn" href="https://heycam.github.io/webidl/#notsupportederror"><code>NotSupportedError</code></a></p>
        </li><li data-md="">
         <p><a data-link-type="dfn" href="https://heycam.github.io/webidl/#invalidstateerror"><code>InvalidStateError</code></a></p>
        </li><li data-md="">
         <p><a data-link-type="dfn" href="http://www.ecma-international.org/ecma-262/6.0/#sec-native-error-types-used-in-this-standard-syntaxerror"><code>SyntaxError</code></a></p>
        </li><li data-md="">
         <p><a data-link-type="dfn" href="https://heycam.github.io/webidl/#invalidaccesserror"><code>InvalidAccessError</code></a></p>
        </li><li data-md="">
         <p><a data-link-type="dfn" href="https://heycam.github.io/webidl/#securityerror"><code>SecurityError</code></a></p>
        </li><li data-md="">
         <p><a data-link-type="dfn" href="https://heycam.github.io/webidl/#networkerror"><code>NetworkError</code></a></p>
        </li><li data-md="">
         <p><a data-link-type="dfn" href="https://heycam.github.io/webidl/#quotaexceedederror"><code>QuotaExceededError</code></a></p>
        </li><li data-md="">
         <p><a data-link-type="dfn" href="https://heycam.github.io/webidl/#timeouterror"><code>TimeoutError</code></a></p>
        </li><li data-md="">
         <p><a data-link-type="dfn" href="https://heycam.github.io/webidl/#datacloneerror"><code>DataCloneError</code></a></p>
        </li><li data-md="">
         <p><a data-link-type="dfn" href="http://www.ecma-international.org/ecma-262/6.0/#sec-native-error-types-used-in-this-standard-typeerror"><code>TypeError</code></a></p>
       </li></ul>
       <p>When this specification requires a user agent to <dfn data-dfn-type="dfn" data-lt="date object|a new date object" data-noexport="" id="date-object">create a <code class="idl"><a data-link-type="idl" href="http://www.ecma-international.org/ecma-262/6.0/#sec-date-constructor">Date</a></code> object<a class="self-link" href="infrastructure.html#date-object"></a></dfn> representing a particular time (which could be the special value Not-a-Number), the
  milliseconds component of that time, if any, must be truncated to an integer, and the time
  value of the newly created <code class="idl"><a data-link-type="idl" href="http://www.ecma-international.org/ecma-262/6.0/#sec-date-constructor">Date</a></code> object must represent the resulting truncated
  time.</p>
       <p class="example" id="example-0857a0a2"><a class="self-link" href="infrastructure.html#example-0857a0a2"></a> For instance, given the time 23045 millionths of a second after 01:00 UTC on
    January 1st 2000, i.e. the time 2000-01-01T00:00:00.023045Z, then the <code class="idl"><a data-link-type="idl" href="http://www.ecma-international.org/ecma-262/6.0/#sec-date-constructor">Date</a></code> object
    created representing that time would represent the same time as that created representing the
    time 2000-01-01T00:00:00.023Z, 45 millionths earlier. If the given time is NaN, then the result
    is a <code class="idl"><a data-link-type="idl" href="http://www.ecma-international.org/ecma-262/6.0/#sec-date-constructor">Date</a></code> object that represents a time value NaN (indicating that the object does
    not represent a specific instant of time). </p>
      </dd><dt data-md="">
       <p>JavaScript</p>
      </dt><dd data-md="">
       <p>Some parts of the language described by this specification only support JavaScript as the
  underlying scripting language. <a data-link-type="biblio" href="references.html#biblio-ecma-262">[ECMA-262]</a></p>
       <p class="note" role="note"> The term "JavaScript" is used to refer to ECMA262, rather than the official term ECMAScript,
    since the term JavaScript is more widely known. Similarly, the <a data-link-type="dfn" href="infrastructure.html#mime-type">MIME type</a> used to
    refer to JavaScript in this specification is <code>text/javascript</code>, since that is the
    most commonly used type, <a data-link-type="dfn" href="introduction.html#willful-violation">despite it being an officially obsoleted type</a> according to
    RFC 4329. <a data-link-type="biblio" href="references.html#biblio-rfc4329">[RFC4329]</a> </p>
       <p>The term <dfn data-dfn-type="dfn" data-lt="JavaScript global environment|JavaScript global environments" data-noexport="" id="javascript-global-environment">JavaScript global environment<a class="self-link" href="infrastructure.html#javascript-global-environment"></a></dfn> refers to the <i>global environment</i> concept defined in the ECMAScript specification.</p>
       <p>The ECMAScript <a data-link-type="dfn" href="http://www.ecma-international.org/ecma-262/6.0/#sec-native-error-types-used-in-this-standard-syntaxerror"><code>SyntaxError</code></a> exception is also defined in the ECMAScript
  specification. <a data-link-type="biblio" href="references.html#biblio-ecma-262">[ECMA-262]</a></p>
       <p>The <a data-link-type="dfn" href="http://www.ecma-international.org/ecma-262/6.0/#sec-arraybuffer-constructor">ArrayBuffer</a> and related object types and underlying concepts from the
  ECMAScript Specification are used for several features in this specification. <a data-link-type="biblio" href="references.html#biblio-ecma-262">[ECMA-262]</a></p>
       <p>The <code class="idl"><a data-link-type="idl" href="http://www.ecma-international.org/ecma-262/6.0/#sec-date-constructor">Date</a></code> object type from the ECMAScript Specification is used for
  several features of this specification. <a data-link-type="biblio" href="references.html#biblio-ecma-262">[ECMA-262]</a></p>
       <p>The following helper IDL is used for referring to <code>ArrayBuffer</code>-related types:</p>
<pre class="idl-ignore" data-highlight="webidl">typedef (Int8Array or Uint8Array or Uint8ClampedArray or Int16Array or Uint16Array or Int32Array or Uint32Array or Float32Array or Float64Array or DataView) ArrayBufferView;
</pre>
       <p class="note" role="note"> In particular, the <a data-link-type="dfn" href="http://www.ecma-international.org/ecma-262/6.0/#sec-typedarray-constructors"><code>Uint8ClampedArray</code></a> type is used by some <a data-link-type="dfn" href="#http://www.w3.org/TR/2dcontext/">2D canvas APIs</a>, and the <a class="idl-code" data-link-type="interface" href="https://html.spec.whatwg.org/multipage/comms.html#websocket"><code>WebSocket</code></a> API uses <a data-link-type="dfn" href="http://www.ecma-international.org/ecma-262/6.0/#sec-arraybuffer-constructor"><code>ArrayBuffer</code></a> objects for handling binary frames. </p>
      </dd><dt data-md="">
       <p>DOM</p>
      </dt><dd data-md="">
       <p>The Document Object Model (DOM) is a representation — a model — of a document and
  its content. The DOM is not just an API; the conformance criteria of HTML implementations are
  defined, in this specification, in terms of operations on the DOM. <a data-link-type="biblio" href="references.html#biblio-dom">[DOM]</a></p>
       <p>Implementations must support DOM and the events defined in UI Events, because this
  specification is defined in terms of the DOM, and some of the features are defined as
  extensions to the DOM interfaces. <a data-link-type="biblio" href="references.html#biblio-dom">[DOM]</a> <a data-link-type="biblio" href="references.html#biblio-uievents">[UIEVENTS]</a></p>
       <p>In particular, the following features are defined in the DOM specification: <a data-link-type="biblio" href="references.html#biblio-dom">[DOM]</a></p>
       <ul>
        <li data-md="">
         <p><code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#attr">Attr</a></code> interface</p>
        </li><li data-md="">
         <p><code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#comment">Comment</a></code> interface</p>
        </li><li data-md="">
         <p><code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#domimplementation">DOMImplementation</a></code> interface</p>
        </li><li data-md="">
         <p><code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#document">Document</a></code> interface</p>
        </li><li data-md="">
         <p><code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#xmldocument">XMLDocument</a></code> interface</p>
        </li><li data-md="">
         <p><code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#documentfragment">DocumentFragment</a></code> interface</p>
        </li><li data-md="">
         <p><code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#documenttype">DocumentType</a></code> interface</p>
        </li><li data-md="">
         <p><code class="idl"><a data-link-type="idl" href="http://www.w3.org/TR/WebIDL/#dfn-domexception">DOMException</a></code> interface</p>
        </li><li data-md="">
         <p><code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#childnode">ChildNode</a></code> interface</p>
        </li><li data-md="">
         <p><code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#element">Element</a></code> interface</p>
        </li><li data-md="">
         <p><code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#node">Node</a></code> interface</p>
        </li><li data-md="">
         <p><code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#nodelist">NodeList</a></code> interface</p>
        </li><li data-md="">
         <p><code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#processinginstruction">ProcessingInstruction</a></code> interface</p>
        </li><li data-md="">
         <p><code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#text">Text</a></code> interface</p>
        </li><li data-md="">
         <p><code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#htmlcollection">HTMLCollection</a></code> interface</p>
        </li><li data-md="">
         <p><code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#dom-nodelist-item">item()</a></code> method</p>
        </li><li data-md="">
         <p>The terms <a data-link-type="dfn" href="http://www.w3.org/TR/dom/#concept-collection">collections</a> and <a data-link-type="dfn" href="http://www.w3.org/TR/dom/#represented-by-the-collection">represented by the collection</a></p>
        </li><li data-md="">
         <p><code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#domtokenlist">DOMTokenList</a></code> interface</p>
        </li><li data-md="">
         <p><code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#domsettabletokenlist">DOMSettableTokenList</a></code> interface</p>
        </li><li data-md="">
         <p><code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#domtokenlist">DOMTokenList</a></code> interface</p>
        </li><li data-md="">
         <p><code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#domsettabletokenlist">DOMSettableTokenList</a></code> interface</p>
        </li><li data-md="">
         <p><code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#dom-domsettabletokenlist-value">DOMSettableTokenList.value</a></code> attribute</p>
        </li><li data-md="">
         <p><code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#dom-domimplementation-createdocument">createDocument()</a></code> method</p>
        </li><li data-md="">
         <p><code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#dom-domimplementation-createhtmldocument">createHTMLDocument()</a></code> method</p>
        </li><li data-md="">
         <p><code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#dom-document-createelement">createElement()</a></code> method</p>
        </li><li data-md="">
         <p><code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#dom-document-createelementns">createElementNS()</a></code> method</p>
        </li><li data-md="">
         <p><code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#dom-nonelementparentnode-getelementbyid">getElementById()</a></code> method</p>
        </li><li data-md="">
         <p><code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#dom-element-getelementsbyclassname">getElementsByClassName()</a></code> method</p>
        </li><li data-md="">
         <p><code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#dom-node-insertbefore">insertBefore()</a></code> method</p>
        </li><li data-md="">
         <p><code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#dom-node-appendchild">appendChild()</a></code> method</p>
        </li><li data-md="">
         <p><code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#dom-node-clonenode">cloneNode()</a></code> method</p>
        </li><li data-md="">
         <p><code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#dom-document-importnode">importNode()</a></code> method</p>
        </li><li data-md="">
         <p><code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#dom-node-childnodes">childNodes</a></code> attribute</p>
        </li><li data-md="">
         <p><code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#dom-element-localname">localName</a></code> attribute</p>
        </li><li data-md="">
         <p><code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#dom-node-parentnode">parentNode</a></code> attribute</p>
        </li><li data-md="">
         <p><code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#dom-element-namespaceuri">namespaceURI</a></code> attribute</p>
        </li><li data-md="">
         <p><code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#dom-element-tagname">tagName</a></code> attribute</p>
        </li><li data-md="">
         <p><code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#dom-element-id">id</a></code> attribute</p>
        </li><li data-md="">
         <p><code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#dom-node-textcontent">textContent</a></code> attribute</p>
        </li><li data-md="">
         <p>The <a data-link-type="dfn" href="http://www.w3.org/TR/dom/#concept-insert">insert</a>, <a data-link-type="dfn" href="http://www.w3.org/TR/dom/#concept-append">append</a>, <a data-link-type="dfn" href="http://www.w3.org/TR/dom/#concept-remove">remove</a>, <a data-link-type="dfn" href="http://www.w3.org/TR/dom/#concept-replace">replace</a>, and <a data-link-type="dfn" href="http://www.w3.org/TR/dom/#concept-adopt">adopt</a> algorithms for nodes</p>
        </li><li data-md="">
         <p>The <a data-link-type="dfn" href="http://www.w3.org/TR/dom/#concept-insert">insertion steps</a>, <a data-link-type="dfn" href="http://www.w3.org/TR/dom/#concept-remove">removing steps</a>, and <a data-link-type="dfn" href="http://www.w3.org/TR/dom/#concept-adopt">adopting steps</a> hooks</p>
        </li><li data-md="">
         <p>The <a data-link-type="dfn" href="http://www.w3.org/TR/dom/#concept-element-attribute">attribute list</a> concept.</p>
        </li><li data-md="">
         <p>The <a data-link-type="dfn" href="http://www.w3.org/TR/dom/#concept-cd-data">data</a> of a text node.</p>
        </li><li data-md="">
         <p><code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#event">Event</a></code> interface</p>
        </li><li data-md="">
         <p><code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#eventtarget">EventTarget</a></code> interface</p>
        </li><li data-md="">
         <p><code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#dictdef-eventinit">EventInit</a></code> dictionary type</p>
        </li><li data-md="">
         <p><code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#dom-event-target">target</a></code> attribute</p>
        </li><li data-md="">
         <p><code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#dom-event-currenttarget">currentTarget</a></code> attribute</p>
        </li><li data-md="">
         <p><code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#dom-event-istrusted">isTrusted</a></code> attribute</p>
        </li><li data-md="">
         <p><code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#dom-event-initevent">initEvent()</a></code> method</p>
        </li><li data-md="">
         <p><code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#dom-eventtarget-addeventlistener">addEventListener()</a></code> method</p>
        </li><li data-md="">
         <p>The <code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#dom-event-type">type</a></code> of an event</p>
        </li><li data-md="">
         <p>The concept of an <a data-link-type="dfn" href="http://www.w3.org/TR/dom/#concept-event-listener">event listener</a> and the <a data-link-type="dfn" href="http://www.w3.org/TR/dom/#concept-event-listener">event listeners</a> associated with
an <code>EventTarget</code></p>
        </li><li data-md="">
         <p>The concept of a <dfn data-dfn-type="dfn" data-noexport="" id="target-override">target override<a class="self-link" href="infrastructure.html#target-override"></a></dfn></p>
        </li><li data-md="">
         <p>The concept of a regular <dfn data-dfn-type="dfn" data-noexport="" id="event-parent">event parent<a class="self-link" href="infrastructure.html#event-parent"></a></dfn> and a <dfn data-dfn-type="dfn" data-noexport="" id="cross-boundary-event-parent">cross-boundary event parent<a class="self-link" href="infrastructure.html#cross-boundary-event-parent"></a></dfn></p>
        </li><li data-md="">
         <p>The <a data-link-type="dfn" href="http://www.w3.org/TR/dom/#concept-document-encoding">encoding</a> (herein the <i>character encoding</i>) and <a data-link-type="dfn" href="http://www.w3.org/TR/dom/#concept-document-content-type">content type</a> of a <code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#document">Document</a></code></p>
        </li><li data-md="">
         <p>The distinction between <a data-link-type="dfn" href="infrastructure.html#xml-document">XML documents</a> and <a data-link-type="dfn" href="infrastructure.html#html-document">HTML documents</a></p>
        </li><li data-md="">
         <p>The terms <dfn data-dfn-type="dfn" data-noexport="" id="quirks-mode">quirks mode<a class="self-link" href="infrastructure.html#quirks-mode"></a></dfn>, <dfn data-dfn-type="dfn" data-noexport="" id="limited-quirks-mode">limited-quirks mode<a class="self-link" href="infrastructure.html#limited-quirks-mode"></a></dfn>, and <dfn data-dfn-type="dfn" data-noexport="" id="no-quirks-mode">no-quirks mode<a class="self-link" href="infrastructure.html#no-quirks-mode"></a></dfn></p>
        </li><li data-md="">
         <p>The algorithm to <a data-link-type="dfn" href="http://www.w3.org/TR/dom/#concept-clone">clone</a> a <code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#node">Node</a></code>, and the concept of <a data-link-type="dfn" href="http://www.w3.org/TR/dom/#concept-clone">cloning steps</a> used by that algorithm</p>
        </li><li data-md="">
         <p>The concept of <dfn data-dfn-type="dfn" data-noexport="" id="base-url-change-steps">base URL change steps<a class="self-link" href="infrastructure.html#base-url-change-steps"></a></dfn> and the definition of what happens when an
element is <dfn data-dfn-type="dfn" data-noexport="" id="affected-by-a-base-url-change">affected by a base URL change<a class="self-link" href="infrastructure.html#affected-by-a-base-url-change"></a></dfn></p>
        </li><li data-md="">
         <p>The concept of an element’s <a data-link-type="dfn" href="http://www.w3.org/TR/dom/#concept-id">unique identifier (ID)</a></p>
        </li><li data-md="">
         <p>The term <dfn data-dfn-type="dfn" data-lt="supported tokens|supported token" data-noexport="" id="supported-tokens">supported tokens<a class="self-link" href="infrastructure.html#supported-tokens"></a></dfn></p>
        </li><li data-md="">
         <p>The concept of a DOM <a data-link-type="dfn" href="http://www.w3.org/TR/dom/#concept-range">range</a>, and the terms <a data-link-type="dfn" href="http://www.w3.org/TR/dom/#concept-range-start">start</a>, <a data-link-type="dfn" href="http://www.w3.org/TR/dom/#concept-range-end">end</a>, and <a data-link-type="dfn" href="http://www.w3.org/TR/dom/#concept-range-bp">boundary point</a> as applied to ranges.</p>
        </li><li data-md="">
         <p><code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#mutationobserver">MutationObserver</a></code> interface and <dfn data-dfn-type="dfn" data-noexport="" id="mutation-observers">mutation observers<a class="self-link" href="infrastructure.html#mutation-observers"></a></dfn> in
general</p>
       </li></ul>
       <p>The term <a data-link-type="dfn" href="infrastructure.html#throw">throw</a> in this specification is used as defined in the DOM specification.
  The following <a data-link-type="dfn" href="https://heycam.github.io/webidl/#dfn-DOMException">DOMException</a> types are defined in the DOM specification: <a data-link-type="biblio" href="references.html#biblio-dom">[DOM]</a></p>
       <ul>
        <li data-md="">
         <p><code class="idl"><a data-link-type="idl" href="http://www.w3.org/TR/dom/#indexsizeerror">IndexSizeError</a></code></p>
        </li><li data-md="">
         <p><code class="idl"><a data-link-type="idl" href="http://www.w3.org/TR/dom/#hierarchyrequesterror">HierarchyRequestError</a></code></p>
        </li><li data-md="">
         <p><code class="idl"><a data-link-type="idl" href="http://www.w3.org/TR/dom/#wrongdocumenterror">WrongDocumentError</a></code></p>
        </li><li data-md="">
         <p><code class="idl"><a data-link-type="idl" href="http://www.w3.org/TR/dom/#invalidcharactererror">InvalidCharacterError</a></code></p>
        </li><li data-md="">
         <p><code class="idl"><a data-link-type="idl" href="http://www.w3.org/TR/dom/#nomodificationallowederror">NoModificationAllowedError</a></code></p>
        </li><li data-md="">
         <p><code class="idl"><a data-link-type="idl" href="http://www.w3.org/TR/dom/#notfounderror">NotFoundError</a></code></p>
        </li><li data-md="">
         <p><code class="idl"><a data-link-type="idl" href="http://www.w3.org/TR/dom/#notsupportederror">NotSupportedError</a></code></p>
        </li><li data-md="">
         <p><code class="idl"><a data-link-type="idl" href="http://www.w3.org/TR/dom/#invalidstateerror">InvalidStateError</a></code></p>
        </li><li data-md="">
         <p><code class="idl"><a data-link-type="idl" href="http://www.w3.org/TR/dom/#syntaxerror">SyntaxError</a></code></p>
        </li><li data-md="">
         <p><code class="idl"><a data-link-type="idl" href="http://www.w3.org/TR/dom/#invalidmodificationerror">InvalidModificationError</a></code></p>
        </li><li data-md="">
         <p><code class="idl"><a data-link-type="idl" href="http://www.w3.org/TR/dom/#namespaceerror">NamespaceError</a></code></p>
        </li><li data-md="">
         <p><code class="idl"><a data-link-type="idl" href="http://www.w3.org/TR/dom/#invalidaccesserror">InvalidAccessError</a></code></p>
        </li><li data-md="">
         <p><code class="idl"><a data-link-type="idl" href="http://www.w3.org/TR/dom/#securityerror">SecurityError</a></code></p>
        </li><li data-md="">
         <p><code class="idl"><a data-link-type="idl" href="http://www.w3.org/TR/dom/#networkerror">NetworkError</a></code></p>
        </li><li data-md="">
         <p><code class="idl"><a data-link-type="idl" href="http://www.w3.org/TR/dom/#aborterror">AbortError</a></code></p>
        </li><li data-md="">
         <p><code class="idl"><a data-link-type="idl" href="http://www.w3.org/TR/dom/#urlmismatcherror">URLMismatchError</a></code></p>
        </li><li data-md="">
         <p><code class="idl"><a data-link-type="idl" href="http://www.w3.org/TR/dom/#quotaexceedederror">QuotaExceededError</a></code></p>
        </li><li data-md="">
         <p><code class="idl"><a data-link-type="idl" href="http://www.w3.org/TR/dom/#timeouterror">TimeoutError</a></code></p>
        </li><li data-md="">
         <p><code class="idl"><a data-link-type="idl" href="http://www.w3.org/TR/dom/#invalidnodetypeerror">InvalidNodeTypeError</a></code></p>
        </li><li data-md="">
         <p><code class="idl"><a data-link-type="idl" href="http://www.w3.org/TR/dom/#datacloneerror">DataCloneError</a></code></p>
       </li></ul>
       <p class="example" id="example-baa01e35"><a class="self-link" href="infrastructure.html#example-baa01e35"></a> For example, to <i>throw a <code class="idl"><a data-link-type="idl" href="http://www.w3.org/TR/dom/#timeouterror">TimeoutError</a></code> exception</i>, a user agent would
    construct a <a data-link-type="dfn" href="https://heycam.github.io/webidl/#dfn-DOMException">DOMException</a> object whose type was the string
    "<code>TimeoutError</code>" (and whose code was the number 23, for legacy reasons) and
    actually throw that object as an exception. </p>
       <p>The following features are defined in the UI Events specification: <a data-link-type="biblio" href="references.html#biblio-uievents">[UIEVENTS]</a></p>
       <ul>
        <li data-md="">
         <p><code class="idl"><a data-link-type="idl" href="http://www.w3.org/TR/uievents/#interface-mouseevent">MouseEvent</a></code> interface</p>
        </li><li data-md="">
         <p><code class="idl"><a data-link-type="idl" href="http://www.w3.org/TR/uievents/#interface-mouseeventinit">MouseEventInit</a></code> dictionary type</p>
        </li><li data-md="">
         <p>The <code class="idl"><a data-link-type="idl" href="http://www.w3.org/TR/uievents/#interface-focusevent">FocusEvent</a></code> interface and its <code class="idl"><a data-link-type="idl" href="http://www.w3.org/TR/uievents/#widl-FocusEvent-relatedtarget">relatedTarget</a></code> attribute</p>
        </li><li data-md="">
         <p>The <code class="idl"><a data-link-type="idl" href="http://www.w3.org/TR/uievents/#interface-uievent">UIEvent</a></code> interface’s <code class="idl"><a data-link-type="idl" href="http://www.w3.org/TR/uievents/#widl-UIEvent-detail">detail</a></code> attribute</p>
        </li><li data-md="">
         <p><a class="idl-code" data-link-type="event" href="http://www.w3.org/TR/uievents/#event-type-click">click</a> event</p>
        </li><li data-md="">
         <p><a class="idl-code" data-link-type="event" href="http://www.w3.org/TR/uievents/#event-type-dblclick">dblclick</a> event</p>
        </li><li data-md="">
         <p><a class="idl-code" data-link-type="event" href="http://www.w3.org/TR/uievents/#event-type-mousedown">mousedown</a> event</p>
        </li><li data-md="">
         <p><a class="idl-code" data-link-type="event" href="http://www.w3.org/TR/uievents/#event-type-mouseenter">mouseenter</a> event</p>
        </li><li data-md="">
         <p><a class="idl-code" data-link-type="event" href="http://www.w3.org/TR/uievents/#event-type-mouseleave">mouseleave</a> event</p>
        </li><li data-md="">
         <p><a class="idl-code" data-link-type="event" href="http://www.w3.org/TR/uievents/#event-type-mousemove">mousemove</a> event</p>
        </li><li data-md="">
         <p><a class="idl-code" data-link-type="event" href="http://www.w3.org/TR/uievents/#event-type-mouseout">mouseout</a> event</p>
        </li><li data-md="">
         <p><a class="idl-code" data-link-type="event" href="http://www.w3.org/TR/uievents/#event-type-mouseover">mouseover</a> event</p>
        </li><li data-md="">
         <p><a class="idl-code" data-link-type="event" href="http://www.w3.org/TR/uievents/#event-type-mouseup">mouseup</a> event</p>
        </li><li data-md="">
         <p><a class="idl-code" data-link-type="event" href="http://www.w3.org/TR/uievents/#event-type-mousewheel">mousewheel</a> event</p>
        </li><li data-md="">
         <p><a class="idl-code" data-link-type="event" href="http://www.w3.org/TR/uievents/#event-type-keydown">keydown</a> event</p>
        </li><li data-md="">
         <p><a class="idl-code" data-link-type="event" href="http://www.w3.org/TR/uievents/#event-type-keyup">keyup</a> event</p>
        </li><li data-md="">
         <p><a class="idl-code" data-link-type="event" href="http://www.w3.org/TR/uievents/#event-type-keypress">keypress</a> event</p>
       </li></ul>
       <p>The following features are defined in the Touch Events specification: <a data-link-type="biblio" href="references.html#biblio-touch-events">[TOUCH-EVENTS]</a></p>
       <ul>
        <li data-md="">
         <p><code class="idl"><a data-link-type="idl" href="http://www.w3.org/TR/touch-events/#touch-interfacetouch">Touch</a></code> interface</p>
        </li><li data-md="">
         <p><a data-link-type="dfn" href="https://w3c.github.io/touch-events/#dfn-touch-point">Touch point</a> concept</p>
       </li></ul>
       <p>This specification sometimes uses the term <dfn class="idl-code" data-dfn-for="global" data-dfn-type="event" data-export="" id="eventdef-global-name">name<a class="self-link" href="infrastructure.html#eventdef-global-name"></a></dfn> to refer to the event’s <code>type</code>; as in, "an event named <code>click</code>" or "if the event name is <code>keypress</code>". The terms "name" and "type" for events are synonymous.</p>
       <p>The following features are defined in the DOM Parsing and Serialization specification: <a data-link-type="biblio" href="references.html#biblio-domparsing">[DOMPARSING]</a></p>
       <ul>
        <li data-md="">
         <p><code class="idl"><a data-link-type="idl" href="https://w3c.github.io/DOM-Parsing/#widl-Element-innerhtml">innerHTML</a></code></p>
        </li><li data-md="">
         <p><code class="idl"><a data-link-type="idl" href="https://w3c.github.io/DOM-Parsing/#widl-Element-outerhtml">outerHTML</a></code></p>
       </li></ul>
       <p class="note" role="note"> User agents are also encouraged to implement the features described in the <cite>HTML Editing APIs</cite> and <cite><code>UndoManager</code> and DOM Transaction</cite> specifications. <a data-link-type="biblio" href="references.html#biblio-editing">[EDITING]</a> <a data-link-type="biblio" href="references.html#biblio-undo">[UNDO]</a> </p>
       <p>The following parts of the Fullscreen specification are referenced from this specification, in
  part to define the rendering of <code><a data-link-type="element" href="semantics.html#elementdef-dialog">dialog</a></code> elements, and also to define how the
  Fullscreen API interacts with the sandboxing features in HTML: <a data-link-type="biblio" href="references.html#biblio-fullscreen">[FULLSCREEN]</a></p>
       <ul>
        <li data-md="">
         <p>The <a data-link-type="dfn" href="https://fullscreen.spec.whatwg.org/#top-layer">top layer</a> concept</p>
        </li><li data-md="">
         <p><code class="idl"><a data-link-type="idl" href="https://fullscreen.spec.whatwg.org/#dom-element-requestfullscreen">requestFullscreen()</a></code></p>
        </li><li data-md="">
         <p>The <a data-link-type="dfn" href="https://fullscreen.spec.whatwg.org/#fullscreen-enabled-flag">fullscreen enabled flag</a></p>
        </li><li data-md="">
         <p>The <a data-link-type="dfn" href="https://fullscreen.spec.whatwg.org/#fully-exit-fullscreen">fully exit fullscreen</a> algorithm</p>
       </li></ul>
       <p>The <cite>High Resolution Time</cite> specification provides the <code class="idl"><a data-link-type="idl" href="http://www.w3.org/TR/hr-time/#dom-domhighrestimestamp">DOMHighResTimeStamp</a></code> typedef and the <code class="idl"><a data-link-type="idl" href="http://www.w3.org/TR/hr-time/#the-performance-interface">Performance</a></code> object’s <code class="idl"><a data-link-type="idl" href="http://www.w3.org/TR/hr-time/#the-performance-now">now()</a></code> method. <a data-link-type="biblio" href="references.html#biblio-hr-time-2">[HR-TIME-2]</a></p>
      </dd><dt data-md="">
       <p>File API</p>
      </dt><dd data-md="">
       <p>This specification uses the following features defined in the File API specification: <a data-link-type="biblio" href="references.html#biblio-fileapi">[FILEAPI]</a></p>
       <ul>
        <li data-md="">
         <p><code class="idl"><a data-link-type="idl" href="http://www.w3.org/TR/FileAPI/#dfn-blob">Blob</a></code> interface</p>
        </li><li data-md="">
         <p><code class="idl"><a data-link-type="idl" href="http://www.w3.org/TR/FileAPI/#dfn-file">File</a></code> interface</p>
        </li><li data-md="">
         <p><code class="idl"><a data-link-type="idl" href="http://www.w3.org/TR/FileAPI/#dfn-filelist">FileList</a></code> interface</p>
        </li><li data-md="">
         <p><a class="idl-code" data-link-type="method" href="http://www.w3.org/TR/FileAPI/#dfn-close"><code>Blob.close()</code></a></p>
        </li><li data-md="">
         <p><a class="idl-code" data-link-type="attribute" href="http://www.w3.org/TR/FileAPI/#dfn-type"><code>Blob.type</code></a></p>
        </li><li data-md="">
         <p>The concept of <dfn data-dfn-type="dfn" data-lt="error occurs during reading of the object|read errors" data-noexport="" id="error-occurs-during-reading-of-the-object">read errors<a class="self-link" href="infrastructure.html#error-occurs-during-reading-of-the-object"></a></dfn></p>
       </li></ul>
      </dd><dt data-md="">
       <p>Media Providers</p>
      </dt><dd data-md="">
       <p>This specification references the following interfaces:</p>
       <ul>
        <li data-md="">
         <p><code class="idl"><a data-link-type="idl" href="https://w3c.github.io/mediacapture-main/getusermedia.html#idl-def-mediastream">MediaStream</a></code> <a data-link-type="biblio" href="references.html#biblio-mediacapture-streams">[MEDIACAPTURE-STREAMS]</a></p>
        </li><li data-md="">
         <p><code class="idl"><a data-link-type="idl" href="https://w3c.github.io/media-source/#idl-def-mediasource">MediaSource</a></code> <a data-link-type="biblio" href="references.html#biblio-media-source">[MEDIA-SOURCE]</a></p>
       </li></ul>
      </dd><dt data-md="">
       <p>XMLHttpRequest</p>
      </dt><dd data-md="">
       <p>This specification references the XMLHttpRequest specification to describe how the two
  specifications interact and to use its <code class="idl"><a data-link-type="idl" href="https://xhr.spec.whatwg.org/#interface-progressevent">ProgressEvent</a></code> features. The following
  features and terms are defined in the XMLHttpRequest specification: <a data-link-type="biblio" href="references.html#biblio-xhr">[XHR]</a></p>
       <ul>
        <li data-md="">
         <p><code class="idl"><a data-link-type="idl" href="https://xhr.spec.whatwg.org/#interface-xmlhttprequest">XMLHttpRequest</a></code> interface</p>
        </li><li data-md="">
         <p><a class="idl-code" data-link-type="attribute" href="https://xhr.spec.whatwg.org/#the-responsexml-attribute"><code>XMLHttpRequest.responseXML</code></a> attribute</p>
        </li><li data-md="">
         <p><code class="idl"><a data-link-type="idl" href="https://xhr.spec.whatwg.org/#interface-progressevent">ProgressEvent</a></code> interface</p>
        </li><li data-md="">
         <p><a class="idl-code" data-link-type="attribute" href="https://xhr.spec.whatwg.org/#dom-progressevent-lengthcomputable"><code>ProgressEvent.lengthComputable</code></a> attribute</p>
        </li><li data-md="">
         <p><a class="idl-code" data-link-type="attribute" href="https://xhr.spec.whatwg.org/#dom-progressevent-loaded"><code>ProgressEvent.loaded</code></a> attribute</p>
        </li><li data-md="">
         <p><a class="idl-code" data-link-type="attribute" href="https://xhr.spec.whatwg.org/#dom-progressevent-total"><code>ProgressEvent.total</code></a> attribute</p>
        </li><li data-md="">
         <p><a data-link-type="dfn" href="https://xhr.spec.whatwg.org/#concept-event-fire-progress">Fire a progress event named <var>e</var></a></p>
       </li></ul>
      </dd><dt data-md="">
       <p>Server-Sent Events</p>
      </dt><dd data-md="">
       <p>This specification references <code class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/comms.html#eventsource">EventSource</a></code> which is specified in the
  Server-Sent Events specification <a data-link-type="biblio" href="references.html#biblio-eventsource">[EVENTSOURCE]</a></p>
      </dd><dt data-md="">
       <p>Media Queries</p>
      </dt><dd data-md="">
       <p>Implementations must support the Media Queries language. <a data-link-type="biblio" href="references.html#biblio-mediaq">[MEDIAQ]</a></p>
      </dd><dt data-md="">
       <p>CSS modules</p>
      </dt><dd data-md="">
       <p>While support for CSS as a whole is not required of implementations of this specification
  (though it is encouraged, at least for Web browsers), some features are defined in terms of
  specific CSS requirements.</p>
       <p>In particular, some features require that a string be <dfn data-dfn-type="dfn" data-noexport="" id="parsed-as-a-css-color-value">parsed as a CSS &lt;color&gt; value<a class="self-link" href="infrastructure.html#parsed-as-a-css-color-value"></a></dfn>. When parsing a CSS value, user agents are
  required by the CSS specifications to apply some error handling rules. These apply to this
  specification also. <a data-link-type="biblio" href="references.html#biblio-css3color">[CSS3COLOR]</a> <a data-link-type="biblio" href="references.html#biblio-css-2015">[CSS-2015]</a></p>
       <p class="example" id="example-1b106b1b"><a class="self-link" href="infrastructure.html#example-1b106b1b"></a> For example, user agents are required to close all open constructs upon finding the end of a
    style sheet unexpectedly. Thus, when parsing the string "<code>rgb(0,0,0</code>" (with a
    missing close-parenthesis) for a color value, the close parenthesis is implied by this error
    handling rule, and a value is obtained (the color <a class="css" data-link-type="maybe" href="https://drafts.csswg.org/css-color-4/#valdef-color-black">black</a>). However, the similar construct
    "<code>rgb(0,0,</code>" (with both a missing parenthesis and a missing "blue" value) cannot
    be parsed, as closing the open construct does not result in a viable value. </p>
       <p>The term <dfn data-dfn-type="dfn" data-lt="named color|named colors" data-noexport="" id="named-color">named color<a class="self-link" href="infrastructure.html#named-color"></a></dfn> is defined in the CSS Color specification. <a data-link-type="biblio" href="references.html#biblio-css3color">[CSS3COLOR]</a></p>
       <p>The terms <dfn data-dfn-type="dfn" data-lt="replaced element|replaced elements" data-noexport="" id="replaced-element">replaced element<a class="self-link" href="infrastructure.html#replaced-element"></a></dfn> and <dfn data-dfn-type="dfn" data-noexport="" id="intrinsic-dimensions">intrinsic dimensions<a class="self-link" href="infrastructure.html#intrinsic-dimensions"></a></dfn> are defined in the
  CSS specification. <a data-link-type="biblio" href="references.html#biblio-css-2015">[CSS-2015]</a></p>
       <p>The terms <dfn data-dfn-for="css" data-dfn-type="dfn" data-noexport="" id="css-intrinsic-width">intrinsic width<a class="self-link" href="infrastructure.html#css-intrinsic-width"></a></dfn> and <dfn data-dfn-for="css" data-dfn-type="dfn" data-noexport="" id="css-intrinsic-height">intrinsic height<a class="self-link" href="infrastructure.html#css-intrinsic-height"></a></dfn> refer to the width
  dimension and the height dimension, respectively, of <a data-link-type="dfn" href="infrastructure.html#intrinsic-dimensions">intrinsic dimensions</a>.</p>
       <p>The term <dfn data-dfn-type="dfn" data-noexport="" id="provides-a-paint-source">provides a paint source<a class="self-link" href="infrastructure.html#provides-a-paint-source"></a></dfn> is used as defined in the <cite>CSS Image Values and Replaced Content</cite> specification to define the interaction of
  certain HTML elements with the CSS 'element()' function. <a data-link-type="biblio" href="references.html#biblio-css3-images">[CSS3-IMAGES]</a></p>
       <p>The term <dfn data-dfn-type="dfn" data-noexport="" id="default-object-size">default object size<a class="self-link" href="infrastructure.html#default-object-size"></a></dfn> is also defined in the <cite>CSS Image Values and Replaced Content</cite> specification. <a data-link-type="biblio" href="references.html#biblio-css3-images">[CSS3-IMAGES]</a></p>
       <p>Implementations that support scripting must support the CSS Object Model. The following
  features and terms are defined in the CSSOM specifications: <a data-link-type="biblio" href="references.html#biblio-cssom">[CSSOM]</a> <a data-link-type="biblio" href="references.html#biblio-cssom-view">[CSSOM-VIEW]</a></p>
       <ul>
        <li data-md="">
         <p><a class="idl-code" data-link-type="interface" href="http://www.w3.org/TR/cssom-view/#screen"><code>Screen</code></a></p>
        </li><li data-md="">
         <p><a class="idl-code" data-link-type="interface" href="http://www.w3.org/TR/cssom/#linkstyle"><code>LinkStyle</code></a></p>
        </li><li data-md="">
         <p><a class="idl-code" data-link-type="interface" href="http://www.w3.org/TR/cssom/#cssstyledeclaration"><code>CSSStyleDeclaration</code></a></p>
        </li><li data-md="">
         <p><a class="idl-code" data-link-type="attribute" href="https://drafts.csswg.org/cssom-1/#dom-cssstyledeclaration-csstext"><code>cssText</code></a> attribute of <a class="idl-code" data-link-type="interface" href="http://www.w3.org/TR/cssom/#cssstyledeclaration"><code>CSSStyleDeclaration</code></a></p>
        </li><li data-md="">
         <p><a class="idl-code" data-link-type="interface" href="http://www.w3.org/TR/cssom/#stylesheet"><code>StyleSheet</code></a></p>
        </li><li data-md="">
         <p>The terms <a data-link-type="dfn" href="http://www.w3.org/TR/cssom/#create-a-css-style-sheet">create a CSS style sheet</a>, <a data-link-type="dfn" href="http://www.w3.org/TR/cssom/#remove-a-css-style-sheet">remove a CSS style sheet</a>, and <a data-link-type="dfn" href="http://www.w3.org/TR/cssom/#associated-css-style-sheet">associated CSS style sheet</a></p>
        </li><li data-md="">
         <p><a data-link-type="dfn" href="http://www.w3.org/TR/cssom/#css-style-sheet">CSS style sheets</a> and their properties: <a data-link-type="dfn" href="https://drafts.csswg.org/cssom/#concept-stylesheet-type">type</a>, <a data-link-type="dfn" href="https://drafts.csswg.org/cssom-1/#concept-css-style-sheet-location">location</a>, <a data-link-type="dfn" href="https://drafts.csswg.org/cssom/#concept-stylesheet-parent-css-style-sheet">parent CSS style sheet</a>, <a data-link-type="dfn" href="https://drafts.csswg.org/cssom/#concept-stylesheet-owner-node">owner node</a>, <a data-link-type="dfn" href="https://drafts.csswg.org/cssom/#concept-stylesheet-owner-css-rule">owner CSS rule</a>, <a data-link-type="dfn" href="https://drafts.csswg.org/cssom/#concept-stylesheet-media">media</a>, <a data-link-type="dfn" href="https://drafts.csswg.org/cssom/#concept-stylesheet-title">title</a>, <a data-link-type="dfn" href="https://drafts.csswg.org/cssom/#concept-stylesheet-alternate-flag">alternate flag</a>, <a data-link-type="dfn" href="https://drafts.csswg.org/cssom/#concept-stylesheet-disabled-flag">disabled flag</a>, <a data-link-type="dfn" href="https://drafts.csswg.org/cssom/#concept-stylesheet-css-rules">CSS rules</a>, <a data-link-type="dfn" href="https://drafts.csswg.org/cssom/#concept-stylesheet-origin-clean-flag">origin-clean flag</a></p>
        </li><li data-md="">
         <p><a data-link-type="dfn" href="https://drafts.csswg.org/cssom/#enabled-css-style-sheet-set">Alternative style sheet sets</a> and the <a data-link-type="dfn" href="https://drafts.csswg.org/cssom/#enabled-css-style-sheet-set">preferred style sheet set</a></p>
        </li><li data-md="">
         <p><a data-link-type="dfn" href="https://drafts.csswg.org/cssom/#serializing-css-values">Serializing a CSS value</a></p>
        </li><li data-md="">
         <p><a data-link-type="dfn" href="http://www.w3.org/TR/cssom-view/#scroll-an-element-into-view">Scroll an element into view</a></p>
        </li><li data-md="">
         <p><a data-link-type="dfn" href="http://www.w3.org/TR/cssom-view/#scroll-to-the-beginning-of-the-document">Scroll to the beginning of the document</a></p>
        </li><li data-md="">
         <p>The <a class="idl-code" data-link-type="event" href="http://www.w3.org/TR/uievents/#event-type-resize"><code>resize</code></a> event</p>
        </li><li data-md="">
         <p>The <a class="idl-code" data-link-type="event" href="http://www.w3.org/TR/uievents/#event-type-scroll"><code>scroll</code></a> event</p>
       </li></ul>
       <p>The following features and terms are defined in the <cite>CSS Syntax</cite> specifications: <a data-link-type="biblio" href="references.html#biblio-css3-syntax">[CSS3-SYNTAX]</a></p>
       <ul>
        <li data-md="">
         <p><a data-link-type="dfn" href="http://www.w3.org/TR/css3-syntax/#consume-a-component-value">Parse a comma-separated list of component values</a></p>
        </li><li data-md="">
         <p><a data-link-type="dfn" href="http://www.w3.org/TR/css3-syntax/#component-value">component value</a></p>
        </li><li data-md="">
         <p><a data-link-type="dfn" href="http://www.w3.org/TR/css3-syntax/#environment-encoding">environment encoding</a></p>
        </li><li data-md="">
         <p><a class="css" data-link-type="type" href="http://www.w3.org/TR/css3-syntax/#typedef-whitespace-token">&lt;whitespace-token&gt;</a></p>
       </li></ul>
       <p>The feature <a class="css" data-link-type="type" href="http://www.w3.org/TR/css3-values/#length-value">&lt;length&gt;</a> is defined in the <cite>CSS Values and Units</cite> specification. <a data-link-type="biblio" href="references.html#biblio-css-values">[CSS-VALUES]</a></p>
       <p>The term <a data-link-type="dfn" href="http://www.w3.org/TR/css-style-attr/#syntax">CSS styling attribute</a> is defined in the <cite>CSS Style Attributes</cite> specification. <a data-link-type="biblio" href="references.html#biblio-css-style-attr">[CSS-STYLE-ATTR]</a></p>
       <p>The <code>CanvasRenderingContext2D</code> object’s use of fonts depends on the features
  described in the CSS <cite>Fonts</cite> and <cite>Font Loading</cite> specifications,
  including in particular <a class="idl-code" data-link-type="interface" href="http://www.w3.org/TR/css-font-loading-3/#dom-fontface"><code>FontFace</code></a> objects and the <a data-link-type="dfn" href="http://www.w3.org/TR/css-font-loading-3/#font-source">font source</a> concept. <a data-link-type="biblio" href="references.html#biblio-css3-fonts">[CSS3-FONTS]</a> <a data-link-type="biblio" href="references.html#biblio-css-font-loading-3">[CSS-FONT-LOADING-3]</a></p>
       <p>The following interface is defined in the Geometry Interfaces Module specification: <a data-link-type="biblio" href="references.html#biblio-geometry-1">[GEOMETRY-1]</a></p>
       <ul>
        <li data-md="">
         <p><code class="idl"><a data-link-type="idl" href="http://www.w3.org/TR/geometry-1/#dom-dommatrix">DOMMatrix</a></code> interface</p>
       </li></ul>
      </dd><dt data-md="">
       <p>SVG</p>
      </dt><dd data-md="">
       <p>The <code>CanvasRenderingContext2D</code> object’s use of fonts depends on the features
  described in the CSS <cite>Fonts</cite> and <cite>Font Loading</cite> specifications,
  including in particular <a class="idl-code" data-link-type="interface" href="http://www.w3.org/TR/css-font-loading-3/#dom-fontface"><code>FontFace</code></a> objects and the <a data-link-type="dfn" href="http://www.w3.org/TR/css-font-loading-3/#font-source">font source</a> concept. <a data-link-type="biblio" href="references.html#biblio-css3-fonts">[CSS3-FONTS]</a> <a data-link-type="biblio" href="references.html#biblio-css-font-loading-3">[CSS-FONT-LOADING-3]</a></p>
       <p>The following interface is defined in the SVG specification: <a data-link-type="biblio" href="references.html#biblio-svg">[SVG]</a></p>
       <ul>
        <li data-md="">
         <p><code class="idl"><a data-link-type="idl" href="http://www.w3.org/TR/SVG/coords.html#InterfaceSVGMatrix">SVGMatrix</a></code></p>
       </li></ul>
      </dd><dt data-md="">
       <p>WebGL</p>
      </dt><dd data-md="">
       <p>The following interface is defined in the WebGL specification: <a data-link-type="biblio" href="references.html#biblio-webgl">[WEBGL]</a></p>
       <ul>
        <li data-md="">
         <p><code class="idl"><a data-link-type="idl" href="https://www.khronos.org/registry/webgl/specs/1.0/#5.14">WebGLRenderingContext</a></code></p>
       </li></ul>
      </dd><dt data-md="">
       <p>WebVTT</p>
      </dt><dd data-md="">
       <p>Implementations may support <dfn data-dfn-type="dfn" data-noexport="" id="webvtt">WebVTT<a class="self-link" href="infrastructure.html#webvtt"></a></dfn> as a text track format for subtitles, captions,
  chapter titles, metadata, etc, for media resources. <a data-link-type="biblio" href="references.html#biblio-webvtt">[WEBVTT]</a></p>
       <p>The following terms, used in this specification, are defined in the WebVTT specification:</p>
       <ul>
        <li data-md="">
         <p><dfn data-dfn-type="dfn" data-noexport="" id="webvtt-file">WebVTT file<a class="self-link" href="infrastructure.html#webvtt-file"></a></dfn></p>
        </li><li data-md="">
         <p><dfn data-dfn-type="dfn" data-noexport="" id="webvtt-file-using-cue-text">WebVTT file using cue text<a class="self-link" href="infrastructure.html#webvtt-file-using-cue-text"></a></dfn></p>
        </li><li data-md="">
         <p><dfn data-dfn-type="dfn" data-noexport="" id="webvtt-file-using-chapter-title-text">WebVTT file using chapter title text<a class="self-link" href="infrastructure.html#webvtt-file-using-chapter-title-text"></a></dfn></p>
        </li><li data-md="">
         <p><dfn data-dfn-type="dfn" data-noexport="" id="webvtt-file-using-only-nested-cues">WebVTT file using only nested cues<a class="self-link" href="infrastructure.html#webvtt-file-using-only-nested-cues"></a></dfn></p>
        </li><li data-md="">
         <p><dfn data-dfn-type="dfn" data-noexport="" id="webvtt-parser">WebVTT parser<a class="self-link" href="infrastructure.html#webvtt-parser"></a></dfn></p>
        </li><li data-md="">
         <p>The <dfn data-dfn-type="dfn" data-noexport="" id="rules-for-updating-the-display-of-webvtt-text-tracks">rules for updating the display of WebVTT text tracks<a class="self-link" href="infrastructure.html#rules-for-updating-the-display-of-webvtt-text-tracks"></a></dfn></p>
        </li><li data-md="">
         <p>The <dfn data-dfn-type="dfn" data-noexport="" id="rules-for-interpreting-webvtt-cue-text">rules for interpreting WebVTT cue text<a class="self-link" href="infrastructure.html#rules-for-interpreting-webvtt-cue-text"></a></dfn></p>
        </li><li data-md="">
         <p>The WebVTT <dfn data-dfn-type="dfn" data-noexport="" id="text-track-cue-writing-direction">text track cue writing direction<a class="self-link" href="infrastructure.html#text-track-cue-writing-direction"></a></dfn></p>
       </li></ul>
      </dd><dt data-md="">
       <p>The WebSocket protocol</p>
      </dt><dd data-md="">
       <p>The following terms are defined in the WebSocket protocol specification: <a data-link-type="biblio" href="references.html#biblio-rfc6455">[RFC6455]</a></p>
       <ul>
        <li data-md="">
         <p><dfn data-dfn-type="dfn" data-noexport="" id="establish-a-websocket-connection">establish a WebSocket connection<a class="self-link" href="infrastructure.html#establish-a-websocket-connection"></a></dfn></p>
        </li><li data-md="">
         <p><dfn data-dfn-type="dfn" data-noexport="" id="the-websocket-connection-is-established">the WebSocket connection is established<a class="self-link" href="infrastructure.html#the-websocket-connection-is-established"></a></dfn></p>
        </li><li data-md="">
         <p><dfn data-dfn-type="dfn" data-noexport="" id="validate-the-servers-response">validate the server’s response<a class="self-link" href="infrastructure.html#validate-the-servers-response"></a></dfn></p>
        </li><li data-md="">
         <p><dfn data-dfn-type="dfn" data-noexport="" id="extensions-in-use">extensions in use<a class="self-link" href="infrastructure.html#extensions-in-use"></a></dfn></p>
        </li><li data-md="">
         <p><dfn data-dfn-type="dfn" data-noexport="" id="subprotocol-in-use">subprotocol in use<a class="self-link" href="infrastructure.html#subprotocol-in-use"></a></dfn></p>
        </li><li data-md="">
         <p><dfn data-dfn-type="dfn" data-noexport="" id="headers-to-send-appropriate-cookies">headers to send appropriate cookies<a class="self-link" href="infrastructure.html#headers-to-send-appropriate-cookies"></a></dfn></p>
        </li><li data-md="">
         <p><dfn data-dfn-type="dfn" data-noexport="" id="cookies-set-during-the-servers-opening-handshake">cookies set during the server’s opening handshake<a class="self-link" href="infrastructure.html#cookies-set-during-the-servers-opening-handshake"></a></dfn></p>
        </li><li data-md="">
         <p><dfn data-dfn-type="dfn" data-noexport="" id="a-websocket-message-has-been-received">a WebSocket message has been received<a class="self-link" href="infrastructure.html#a-websocket-message-has-been-received"></a></dfn></p>
        </li><li data-md="">
         <p><dfn data-dfn-type="dfn" data-noexport="" id="send-a-websocket-message">send a WebSocket Message<a class="self-link" href="infrastructure.html#send-a-websocket-message"></a></dfn></p>
        </li><li data-md="">
         <p><dfn data-dfn-type="dfn" data-noexport="" id="fail-the-websocket-connection">fail the WebSocket connection<a class="self-link" href="infrastructure.html#fail-the-websocket-connection"></a></dfn></p>
        </li><li data-md="">
         <p><dfn data-dfn-type="dfn" data-noexport="" id="close-the-websocket-connection">close the WebSocket connection<a class="self-link" href="infrastructure.html#close-the-websocket-connection"></a></dfn></p>
        </li><li data-md="">
         <p><dfn data-dfn-type="dfn" data-noexport="" id="start-the-websocket-closing-handshake">start the WebSocket closing handshake<a class="self-link" href="infrastructure.html#start-the-websocket-closing-handshake"></a></dfn></p>
        </li><li data-md="">
         <p><dfn data-dfn-type="dfn" data-noexport="" id="the-websocket-closing-handshake-is-started">the WebSocket closing handshake is started<a class="self-link" href="infrastructure.html#the-websocket-closing-handshake-is-started"></a></dfn></p>
        </li><li data-md="">
         <p><dfn data-dfn-type="dfn" data-noexport="" id="the-websocket-connection-is-closed">the WebSocket connection is closed<a class="self-link" href="infrastructure.html#the-websocket-connection-is-closed"></a></dfn> (possibly <i>cleanly</i>)</p>
        </li><li data-md="">
         <p><dfn data-dfn-type="dfn" data-noexport="" id="the-websocket-connection-close-code">the WebSocket connection close code<a class="self-link" href="infrastructure.html#the-websocket-connection-close-code"></a></dfn></p>
        </li><li data-md="">
         <p><dfn data-dfn-type="dfn" data-noexport="" id="the-websocket-connection-close-reason">the WebSocket connection close reason<a class="self-link" href="infrastructure.html#the-websocket-connection-close-reason"></a></dfn></p>
        </li><li data-md="">
         <p><dfn data-dfn-type="dfn" data-noexport="" id="sec-websocket-protocol"><code>Sec-WebSocket-Protocol</code><a class="self-link" href="infrastructure.html#sec-websocket-protocol"></a></dfn> field</p>
       </li></ul>
      </dd><dt data-md="">
       <p>ARIA</p>
      </dt><dd data-md="">
       <p>The <dfn data-dfn-for="global" data-dfn-type="element-attr" data-export="" id="element-attrdef-global-role"><code>role</code><a class="self-link" href="infrastructure.html#element-attrdef-global-role"></a></dfn> attribute is defined in the ARIA specification, as are the
  following roles: <a data-link-type="biblio" href="references.html#biblio-wai-aria">[WAI-ARIA]</a></p>
       <ul>
        <li data-md="">
         <p><a class="css" data-link-type="value" href="http://www.w3.org/TR/wai-aria/roles#alert"><code>alert</code></a></p>
        </li><li data-md="">
         <p><a class="css" data-link-type="value" href="http://www.w3.org/TR/wai-aria/roles#alertdialog"><code>alertdialog</code></a></p>
        </li><li data-md="">
         <p><a class="css" data-link-type="value" href="http://www.w3.org/TR/wai-aria/roles#application"><code>application</code></a></p>
        </li><li data-md="">
         <p><a class="css" data-link-type="value" href="http://www.w3.org/TR/wai-aria/roles#article"><code>article</code></a></p>
        </li><li data-md="">
         <p><a class="css" data-link-type="value" href="http://www.w3.org/TR/wai-aria/roles#banner"><code>banner</code></a></p>
        </li><li data-md="">
         <p><a class="css" data-link-type="value" href="http://www.w3.org/TR/wai-aria/roles#button"><code>button</code></a></p>
        </li><li data-md="">
         <p><a class="css" data-link-type="value" href="http://www.w3.org/TR/wai-aria/roles#checkbox"><code>checkbox</code></a></p>
        </li><li data-md="">
         <p><a class="css" data-link-type="value" href="http://www.w3.org/TR/wai-aria/roles#columnheader"><code>columnheader</code></a></p>
        </li><li data-md="">
         <p><a class="css" data-link-type="value" href="http://www.w3.org/TR/wai-aria/roles#combobox"><code>combobox</code></a></p>
        </li><li data-md="">
         <p><a class="css" data-link-type="value" href="http://www.w3.org/TR/wai-aria/roles#complementary"><code>complementary</code></a></p>
        </li><li data-md="">
         <p><a class="css" data-link-type="value" href="http://www.w3.org/TR/wai-aria/roles#contentinfo"><code>contentinfo</code></a></p>
        </li><li data-md="">
         <p><a class="css" data-link-type="value" href="http://www.w3.org/TR/wai-aria/roles#dialog"><code>dialog</code></a></p>
        </li><li data-md="">
         <p><a class="css" data-link-type="value" href="http://www.w3.org/TR/wai-aria/roles#directory"><code>directory</code></a></p>
        </li><li data-md="">
         <p><a class="css" data-link-type="value" href="http://www.w3.org/TR/wai-aria/roles#document"><code>document</code></a></p>
        </li><li data-md="">
         <p><a class="css" data-link-type="value" href="http://www.w3.org/TR/wai-aria/roles#grid"><code>grid</code></a></p>
        </li><li data-md="">
         <p><a class="css" data-link-type="value" href="http://www.w3.org/TR/wai-aria/roles#gridcell"><code>gridcell</code></a></p>
        </li><li data-md="">
         <p><a class="css" data-link-type="value" href="http://www.w3.org/TR/wai-aria/roles#group"><code>group</code></a></p>
        </li><li data-md="">
         <p><a class="css" data-link-type="value" href="http://www.w3.org/TR/wai-aria/roles#heading"><code>heading</code></a></p>
        </li><li data-md="">
         <p><a class="css" data-link-type="value" href="http://www.w3.org/TR/wai-aria/roles#img"><code>img</code></a></p>
        </li><li data-md="">
         <p><a class="css" data-link-type="value" href="http://www.w3.org/TR/wai-aria/roles#link"><code>link</code></a></p>
        </li><li data-md="">
         <p><a class="css" data-link-type="value" href="http://www.w3.org/TR/wai-aria/roles#list"><code>list</code></a></p>
        </li><li data-md="">
         <p><a class="css" data-link-type="value" href="http://www.w3.org/TR/wai-aria/roles#listbox"><code>listbox</code></a></p>
        </li><li data-md="">
         <p><a class="css" data-link-type="value" href="http://www.w3.org/TR/wai-aria/roles#listitem"><code>listitem</code></a></p>
        </li><li data-md="">
         <p><a class="css" data-link-type="value" href="http://www.w3.org/TR/wai-aria/roles#log"><code>log</code></a></p>
        </li><li data-md="">
         <p><a class="css" data-link-type="value" href="http://www.w3.org/TR/wai-aria/roles#main"><code>main</code></a></p>
        </li><li data-md="">
         <p><a class="css" data-link-type="value" href="http://www.w3.org/TR/wai-aria/roles#marquee"><code>marquee</code></a></p>
        </li><li data-md="">
         <p><a class="css" data-link-type="value" href="http://www.w3.org/TR/wai-aria/roles#menu"><code>menu</code></a></p>
        </li><li data-md="">
         <p><a class="css" data-link-type="value" href="http://www.w3.org/TR/wai-aria/roles#menubar"><code>menubar</code></a></p>
        </li><li data-md="">
         <p><a class="css" data-link-type="value" href="http://www.w3.org/TR/wai-aria/roles#menuitem"><code>menuitem</code></a></p>
        </li><li data-md="">
         <p><a class="css" data-link-type="value" href="http://www.w3.org/TR/wai-aria/roles#menuitemcheckbox"><code>menuitemcheckbox</code></a></p>
        </li><li data-md="">
         <p><a class="css" data-link-type="value" href="http://www.w3.org/TR/wai-aria/roles#menuitemradio"><code>menuitemradio</code></a></p>
        </li><li data-md="">
         <p><a class="css" data-link-type="value" href="http://www.w3.org/TR/wai-aria/roles#navigation"><code>navigation</code></a></p>
        </li><li data-md="">
         <p><a class="css" data-link-type="value" href="http://www.w3.org/TR/wai-aria/roles#note"><code>note</code></a></p>
        </li><li data-md="">
         <p><a class="css" data-link-type="value" href="http://www.w3.org/TR/wai-aria/roles#option"><code>option</code></a></p>
        </li><li data-md="">
         <p><a class="css" data-link-type="value" href="http://www.w3.org/TR/wai-aria/roles#presentation"><code>presentation</code></a></p>
        </li><li data-md="">
         <p><a class="css" data-link-type="value" href="http://www.w3.org/TR/wai-aria/roles#progressbar"><code>progressbar</code></a></p>
        </li><li data-md="">
         <p><a class="css" data-link-type="value" href="http://www.w3.org/TR/wai-aria/roles#radio"><code>radio</code></a></p>
        </li><li data-md="">
         <p><a class="css" data-link-type="value" href="http://www.w3.org/TR/wai-aria/roles#region"><code>region</code></a></p>
        </li><li data-md="">
         <p><a class="css" data-link-type="value" href="http://www.w3.org/TR/wai-aria/roles#row"><code>row</code></a></p>
        </li><li data-md="">
         <p><a class="css" data-link-type="value" href="http://www.w3.org/TR/wai-aria/roles#rowgroup"><code>rowgroup</code></a></p>
        </li><li data-md="">
         <p><a class="css" data-link-type="value" href="http://www.w3.org/TR/wai-aria/roles#rowheader"><code>rowheader</code></a></p>
        </li><li data-md="">
         <p><a class="css" data-link-type="value" href="http://www.w3.org/TR/wai-aria/roles#search"><code>search</code></a></p>
        </li><li data-md="">
         <p><a class="css" data-link-type="value" href="http://www.w3.org/TR/wai-aria/roles#separator"><code>separator</code></a></p>
        </li><li data-md="">
         <p><a class="css" data-link-type="value" href="http://www.w3.org/TR/wai-aria/roles#slider"><code>slider</code></a></p>
        </li><li data-md="">
         <p><a class="css" data-link-type="value" href="http://www.w3.org/TR/wai-aria/roles#spinbutton"><code>spinbutton</code></a></p>
        </li><li data-md="">
         <p><a class="css" data-link-type="value" href="http://www.w3.org/TR/wai-aria/roles#status"><code>status</code></a></p>
        </li><li data-md="">
         <p><a class="css" data-link-type="value" href="http://www.w3.org/TR/wai-aria/roles#tab"><code>tab</code></a></p>
        </li><li data-md="">
         <p><a class="css" data-link-type="value" href="http://www.w3.org/TR/wai-aria/roles#tablist"><code>tablist</code></a></p>
        </li><li data-md="">
         <p><a class="css" data-link-type="value" href="http://www.w3.org/TR/wai-aria/roles#textbox"><code>textbox</code></a></p>
        </li><li data-md="">
         <p><a class="css" data-link-type="value" href="http://www.w3.org/TR/wai-aria/roles#toolbar"><code>toolbar</code></a></p>
        </li><li data-md="">
         <p><a class="css" data-link-type="value" href="http://www.w3.org/TR/wai-aria/roles#tree"><code>tree</code></a></p>
        </li><li data-md="">
         <p><a class="css" data-link-type="value" href="http://www.w3.org/TR/wai-aria/roles#treeitem"><code>treeitem</code></a></p>
       </li></ul>
       <p>In addition, the following <dfn data-dfn-for="global" data-dfn-type="element-attr" data-export="" id="element-attrdef-global-aria"><code>aria-*</code><a class="self-link" href="infrastructure.html#element-attrdef-global-aria"></a></dfn> content attributes are defined in
  the ARIA specification: <a data-link-type="biblio" href="references.html#biblio-wai-aria">[WAI-ARIA]</a></p>
       <ul>
        <li data-md="">
         <p><dfn data-dfn-for="global" data-dfn-type="element-attr" data-export="" id="element-attrdef-global-aria-checked"><code>aria-checked</code><a class="self-link" href="infrastructure.html#element-attrdef-global-aria-checked"></a></dfn></p>
        </li><li data-md="">
         <p><dfn data-dfn-for="global" data-dfn-type="element-attr" data-export="" id="element-attrdef-global-aria-describedby"><code>aria-describedby</code><a class="self-link" href="infrastructure.html#element-attrdef-global-aria-describedby"></a></dfn></p>
        </li><li data-md="">
         <p><dfn data-dfn-for="global" data-dfn-type="element-attr" data-export="" id="element-attrdef-global-aria-disabled"><code>aria-disabled</code><a class="self-link" href="infrastructure.html#element-attrdef-global-aria-disabled"></a></dfn></p>
        </li><li data-md="">
         <p><dfn data-dfn-for="global" data-dfn-type="element-attr" data-export="" id="element-attrdef-global-aria-expanded"><code>aria-expanded</code><a class="self-link" href="infrastructure.html#element-attrdef-global-aria-expanded"></a></dfn></p>
        </li><li data-md="">
         <p><dfn data-dfn-for="global" data-dfn-type="element-attr" data-export="" id="element-attrdef-global-aria-hidden"><code>aria-hidden</code><a class="self-link" href="infrastructure.html#element-attrdef-global-aria-hidden"></a></dfn></p>
        </li><li data-md="">
         <p><dfn data-dfn-for="global" data-dfn-type="element-attr" data-export="" id="element-attrdef-global-aria-invalid"><code>aria-invalid</code><a class="self-link" href="infrastructure.html#element-attrdef-global-aria-invalid"></a></dfn></p>
        </li><li data-md="">
         <p><dfn data-dfn-for="global" data-dfn-type="element-attr" data-export="" id="element-attrdef-global-aria-label"><code>aria-label</code><a class="self-link" href="infrastructure.html#element-attrdef-global-aria-label"></a></dfn></p>
        </li><li data-md="">
         <p><dfn data-dfn-for="global" data-dfn-type="element-attr" data-export="" id="element-attrdef-global-aria-level"><code>aria-level</code><a class="self-link" href="infrastructure.html#element-attrdef-global-aria-level"></a></dfn></p>
        </li><li data-md="">
         <p><dfn data-dfn-for="global" data-dfn-type="element-attr" data-export="" id="element-attrdef-global-aria-multiline"><code>aria-multiline</code><a class="self-link" href="infrastructure.html#element-attrdef-global-aria-multiline"></a></dfn></p>
        </li><li data-md="">
         <p><dfn data-dfn-for="global" data-dfn-type="element-attr" data-export="" id="element-attrdef-global-aria-multiselectable"><code>aria-multiselectable</code><a class="self-link" href="infrastructure.html#element-attrdef-global-aria-multiselectable"></a></dfn></p>
        </li><li data-md="">
         <p><dfn data-dfn-for="global" data-dfn-type="element-attr" data-export="" id="element-attrdef-global-aria-owns"><code>aria-owns</code><a class="self-link" href="infrastructure.html#element-attrdef-global-aria-owns"></a></dfn></p>
        </li><li data-md="">
         <p><dfn data-dfn-for="global" data-dfn-type="element-attr" data-export="" id="element-attrdef-global-aria-readonly"><code>aria-readonly</code><a class="self-link" href="infrastructure.html#element-attrdef-global-aria-readonly"></a></dfn></p>
        </li><li data-md="">
         <p><dfn data-dfn-for="global" data-dfn-type="element-attr" data-export="" id="element-attrdef-global-aria-required"><code>aria-required</code><a class="self-link" href="infrastructure.html#element-attrdef-global-aria-required"></a></dfn></p>
        </li><li data-md="">
         <p><dfn data-dfn-for="global" data-dfn-type="element-attr" data-export="" id="element-attrdef-global-aria-selected"><code>aria-selected</code><a class="self-link" href="infrastructure.html#element-attrdef-global-aria-selected"></a></dfn></p>
        </li><li data-md="">
         <p><dfn data-dfn-for="global" data-dfn-type="element-attr" data-export="" id="element-attrdef-global-aria-sort"><code>aria-sort</code><a class="self-link" href="infrastructure.html#element-attrdef-global-aria-sort"></a></dfn></p>
        </li><li data-md="">
         <p><dfn data-dfn-for="global" data-dfn-type="element-attr" data-export="" id="element-attrdef-global-aria-valuemax"><code>aria-valuemax</code><a class="self-link" href="infrastructure.html#element-attrdef-global-aria-valuemax"></a></dfn></p>
        </li><li data-md="">
         <p><dfn data-dfn-for="global" data-dfn-type="element-attr" data-export="" id="element-attrdef-global-aria-valuemin"><code>aria-valuemin</code><a class="self-link" href="infrastructure.html#element-attrdef-global-aria-valuemin"></a></dfn></p>
        </li><li data-md="">
         <p><dfn data-dfn-for="global" data-dfn-type="element-attr" data-export="" id="element-attrdef-global-aria-valuenow"><code>aria-valuenow</code><a class="self-link" href="infrastructure.html#element-attrdef-global-aria-valuenow"></a></dfn></p>
       </li></ul>
      </dd><dt data-md="">
       <p>Content Security Policy</p>
      </dt><dd data-md="">
       <p>The following terms are defined in <cite>Content Security Policy</cite>: <a data-link-type="biblio" href="references.html#biblio-csp">[CSP]</a></p>
       <ul>
        <li data-md="">
         <p><dfn data-dfn-type="dfn" data-noexport="" id="content-security-policy">Content Security Policy<a class="self-link" href="infrastructure.html#content-security-policy"></a></dfn></p>
        </li><li data-md="">
         <p><dfn data-dfn-type="dfn" data-noexport="" id="content-security-policy-directive">Content Security Policy directive<a class="self-link" href="infrastructure.html#content-security-policy-directive"></a></dfn></p>
        </li><li data-md="">
         <p>The <dfn data-dfn-type="dfn" data-noexport="" id="content-security-policy-syntax">Content Security Policy syntax<a class="self-link" href="infrastructure.html#content-security-policy-syntax"></a></dfn></p>
        </li><li data-md="">
         <p><dfn data-dfn-type="dfn" data-noexport="" id="enforce-the-policy">enforce the policy<a class="self-link" href="infrastructure.html#enforce-the-policy"></a></dfn></p>
        </li><li data-md="">
         <p>The <dfn data-dfn-type="dfn" data-noexport="" id="frame-ancestors-directive"><code>frame-ancestors</code> directive<a class="self-link" href="infrastructure.html#frame-ancestors-directive"></a></dfn></p>
        </li><li data-md="">
         <p>The <dfn data-dfn-type="dfn" data-noexport="" id="parse-a-serialized-content-security-policy">parse a serialized Content Security Policy<a class="self-link" href="infrastructure.html#parse-a-serialized-content-security-policy"></a></dfn> algorithm</p>
        </li><li data-md="">
         <p>The <dfn data-dfn-type="dfn" data-noexport="" id="report-uri-directive"><code>report-uri</code> directive<a class="self-link" href="infrastructure.html#report-uri-directive"></a></dfn></p>
        </li><li data-md="">
         <p>The <dfn data-dfn-type="dfn" data-noexport="" id="sandbox-directive"><code>sandbox</code> directive<a class="self-link" href="infrastructure.html#sandbox-directive"></a></dfn></p>
       </li></ul>
      </dd><dt data-md="">
       <p>Service Workers</p>
      </dt><dd data-md="">
       <p>The following terms are defined in <cite>Service Workers</cite>: <a data-link-type="biblio" href="references.html#biblio-service-workers">[SERVICE-WORKERS]</a></p>
       <ul>
        <li data-md="">
         <p><dfn data-dfn-type="dfn" data-noexport="" id="match-service-worker-registration">match service worker registration<a class="self-link" href="infrastructure.html#match-service-worker-registration"></a></dfn></p>
       </li></ul>
     </dd></dl>
     <p>This specification does not <em>require</em> support of any particular network protocol, style
  sheet language, scripting language, or any of the DOM specifications beyond those required in the
  list above. However, the language described by this specification is biased towards CSS as the
  styling language, JavaScript as the scripting language, and HTTP as the network protocol, and
  several features assume that those languages and protocols are in use.</p>
     <p>A user agent that implements the HTTP protocol must implement the Web Origin Concept
  specification and the HTTP State Management Mechanism specification (Cookies) as well. <a data-link-type="biblio" href="references.html#biblio-http">[HTTP]</a> <a data-link-type="biblio" href="references.html#biblio-origin">[ORIGIN]</a> <a data-link-type="biblio" href="references.html#biblio-cookies">[COOKIES]</a></p>
     <p class="note" role="note"> This specification might have certain additional requirements on character encodings, image
    formats, audio formats, and video formats in the respective sections. </p>
    </div>
    <h4 class="heading settled" data-level="2.2.3" id="conformance-requirements-extensibility"><span class="secno">2.2.3. </span><span class="content">Extensibility</span><a class="self-link" href="infrastructure.html#conformance-requirements-extensibility"></a></h4>
    <p>Vendor-specific proprietary user agent extensions to this specification are strongly discouraged.
  Documents must not use such extensions, as doing so reduces interoperability and fragments the
  user base, allowing only users of specific user agents to access the content in question.</p>
    <div class="impl">
      If such extensions are nonetheless needed, e.g. for experimental purposes, then vendors are
    strongly urged to use one of the following extension mechanisms: 
     <ul>
      <li data-md="">
       <p>For markup-level features that can be limited to the XML serialization and need not be
supported in the HTML serialization, vendors should use the namespace mechanism to define
custom namespaces in which the non-standard elements and attributes are supported.</p>
      </li><li data-md="">
       <p>For markup-level features that are intended for use with <a href="syntax.html#syntax">the HTML syntax</a>,
extensions should be limited to new attributes of the form
"<code>x-<var>vendor</var>-<var>feature</var></code>", where <var>vendor</var> is a short
string that identifies the vendor responsible for the extension, and <var>feature</var> is
the name of the feature. New element names should not be created. Using attributes for such
extensions exclusively allows extensions from multiple vendors to co-exist on the same
element, which would not be possible with elements. Using the
"<code>x-<var>vendor</var>-<var>feature</var></code>" form allows extensions to be made
without risk of conflicting with future additions to the specification.</p>
     </li></ul>
     <div class="example" id="example-3c9d19e4">
      <a class="self-link" href="infrastructure.html#example-3c9d19e4"></a> For instance, a browser named "FerretBrowser" could use "ferret" as a vendor prefix, while a
        browser named "Mellblom Browser" could use "mb". If both of these browsers invented
        extensions that turned elements into scratch-and-sniff areas, an author experimenting with
        these features could write: 
<pre class="highlight"><span class="nt">&lt;p&gt;</span>This smells of lemons!
<span class="nt">&lt;span</span> <span class="na">x-ferret-smellovision</span> <span class="na">x-ferret-smellcode=</span><span class="s">"LEM01"</span>
<span class="na">x-mb-outputsmell</span> <span class="na">x-mb-smell=</span><span class="s">"lemon juice"</span><span class="nt">&gt;&lt;/span&gt;&lt;/p&gt;</span></pre>
     </div>
     <p>Attribute names beginning with the two characters "<code>x-</code>" are reserved for
    user agent use and are guaranteed to never be formally added to the HTML language. For
    flexibility, attributes names containing underscores (the U+005F LOW LINE character) are also
    reserved for experimental purposes and are guaranteed to never be formally added to the HTML
    language.</p>
     <p class="note" role="note">Pages that use such attributes are by definition non-conforming.</p>
     <p>For DOM extensions, e.g. new methods and IDL attributes, the new members should be prefixed by
    vendor-specific strings to prevent clashes with future versions of this specification.</p>
     <p>For events, experimental event types should be prefixed with vendor-specific strings.</p>
     <div class="example" id="example-c797a02d">
      <a class="self-link" href="infrastructure.html#example-c797a02d"></a> For example, if a user agent called "Pleasold" were to add an event to indicate when
      the user is going up in an elevator, it could use the prefix "<code>pleasold</code>" and
      thus name the event "<code>pleasoldgoingup</code>", possibly with an event handler attribute
      named "<code>onpleasoldgoingup</code>".
      <p></p>
     </div>
     <p>All extensions must be defined so that the use of extensions neither contradicts nor causes the
    non-conformance of functionality defined in the specification.</p>
     <div class="example" id="example-729b0174">
      <a class="self-link" href="infrastructure.html#example-729b0174"></a> For example, while strongly discouraged from doing so, an implementation "Foo Browser" could
      add a new IDL attribute "<code>fooTypeTime</code>" to a control’s DOM interface that returned
      the time it took the user to select the current value of a control (say). On the other hand,
      defining a new control that appears in a form’s <code>elements</code> array would be in
      violation of the above requirement, as it would violate the definition of <code>elements</code> given in this specification.
      <p></p>
     </div>
     <p>When adding new <a data-link-type="dfn" href="infrastructure.html#reflection">reflecting</a> IDL attributes corresponding to content attributes of the form
    "<code>x-<var>vendor</var>-<var>feature</var></code>", the IDL attribute should be named
    "<code><var>vendor</var><var>Feature</var></code>" (i.e. the "<code>x</code>" is dropped from
    the IDL attribute’s name).</p>
     <p></p>
    </div>
    <hr>
    <p>When vendor-neutral extensions to this specification are needed, either this specification can be
  updated accordingly, or an extension specification can be written that overrides the requirements
  in this specification. When someone applying this specification to their activities decides that
  they will recognize the requirements of such an extension specification, it becomes an <a data-link-type="dfn" href="infrastructure.html#applicable-specification">applicable specification</a> for the purposes of conformance requirements in this
  specification.</p>
    <p class="note" role="note"> Someone could write a specification that defines any arbitrary byte stream as conforming, and
    then claim that their random junk is conforming. However, that does not mean that their random
    junk actually is conforming for everyone’s purposes: if someone else decides that the
    specification does not apply to their work, then they can quite legitimately say that the
    aforementioned random junk is just that, junk, and not conforming at all. As far as conformance
    goes, what matters in a particular community is what that community <em>agrees</em> is
    applicable. </p>
    <p><dfn data-dfn-type="dfn" data-noexport="" id="applicable-specification">applicable specification<a class="self-link" href="infrastructure.html#applicable-specification"></a></dfn>.</p>
    <p>The conformance terminology for documents depends on the nature of the changes introduced by such
  applicable specifications, and on the content and intended interpretation of the document.
  Applicable specifications MAY define new document content (e.g. a foobar element), MAY prohibit
  certain otherwise conforming content (e.g. prohibit use of &lt;table&gt;s), or MAY change the
  semantics, DOM mappings, or other processing rules for content defined in this specification.
  Whether a document is or is not a <a data-link-type="dfn" href="infrastructure.html#conforming-document">conforming HTML5 document</a> does not depend on the use of
  applicable specifications: if the syntax and semantics of a given <a data-link-type="dfn" href="infrastructure.html#conforming-document">conforming HTML5 document</a> is unchanged by the use of applicable specification(s), then that document remains a <a data-link-type="dfn" href="infrastructure.html#conforming-document">conforming HTML5 document</a>. If the semantics or processing of a given (otherwise conforming)
  document is changed by use of applicable specification(s), then it is not a <a data-link-type="dfn" href="infrastructure.html#conforming-document">conforming HTML5 document</a>. For such cases, the applicable specifications SHOULD define
  conformance terminology.</p>
    <p></p>
    <p class="note" role="note"> As a suggested but not required convention, such specifications might define conformance
    terminology such as: "Conforming HTML5+XXX document", where XXX is a short name
    for the applicable specification. (Example: "Conforming HTML5+AutomotiveExtensions document"). </p>
    <p class="note" role="note">a consequence of the rule given above is that certain syntactically correct HTML5
    documents may not be <a data-link-type="dfn" href="infrastructure.html#conforming-document">conforming HTML5 documents</a> in the presence of applicable
    specifications. (Example: the applicable specification defines &lt;table&gt; to be a piece of
    furniture — a document written to that specification and containing a &lt;table&gt; element
    is NOT a <a data-link-type="dfn" href="infrastructure.html#conforming-document">conforming HTML5 document</a>, even if the element happens to be syntactically
    correct HTML5.) </p>
    <div class="impl">
     <hr>
     <p>User agents must treat elements and attributes that they do not understand as semantically
  neutral; leaving them in the DOM (for DOM processors), and styling them according to CSS (for CSS
  processors), but not inferring any meaning from them.</p>
     <p>When support for a feature is disabled (e.g. as an emergency measure to mitigate a security
  problem, or to aid in development, or for performance reasons), user agents must act as if they
  had no support for the feature whatsoever, and as if the feature was not mentioned in this
  specification. For example, if a particular feature is accessed via an attribute in a Web IDL
  interface, the attribute itself would be omitted from the objects that implement that interface
  — leaving the attribute on the object but making it return null or throw an exception is
  insufficient.</p>
    </div>
    <div class="impl">
     <h4 class="heading settled" data-level="2.2.4" id="interactions-with-xpath-and-xslt"><span class="secno">2.2.4. </span><span class="content">Interactions with XPath and XSLT</span><a class="self-link" href="infrastructure.html#interactions-with-xpath-and-xslt"></a></h4>
     <p>Implementations of XPath 1.0 that operate on <a data-link-type="dfn" href="infrastructure.html#html-document">HTML documents</a> parsed or created in the
  manners described in this specification (e.g. as part of the <code>document.evaluate()</code> API)
  must act as if the following edit was applied to the XPath 1.0 specification.</p>
     <p>First, remove this paragraph:</p>
     <blockquote cite="http://www.w3.org/TR/1999/REC-xpath-19991116#node-tests"> A <a data-link-type="dfn" href="http://www.w3.org/TR/REC-xml-names#NT-QName">QName</a> in the node test is expanded into an <a data-link-type="dfn" href="http://www.w3.org/TR/1999/REC-xpath-19991116#dt-expanded-name">expanded-name</a> using the namespace
    declarations from the expression context. This is the same way expansion is done for element
    type names in start and end-tags except that the default namespace declared with <code>xmlns</code> is not used: if the <a data-link-type="dfn" href="http://www.w3.org/TR/REC-xml-names#NT-QName">QName</a> does not have a prefix, then the namespace
    URI is null (this is the same way attribute names are expanded). It is an error if the <a data-link-type="dfn" href="http://www.w3.org/TR/REC-xml-names#NT-QName">QName</a> has a prefix for which there is no namespace declaration in the expression context. </blockquote>
     <p>Then, insert in its place the following:</p>
     <blockquote cite="http://www.w3.org/Bugs/Public/show_bug.cgi?id=7059#c37">
       A QName in the node test is expanded into an expanded-name using the namespace declarations from
    the expression context. If the QName has a prefix, then there must be a namespace declaration
    for this prefix in the expression context, and the corresponding namespace URI is the one that
    is associated with this prefix. It is an error if the QName has a prefix for which there is no
    namespace declaration in the expression context. 
      <p>If the QName has no prefix and the principal node type of the axis is element, then the default
    element namespace is used. Otherwise if the QName has no prefix, the namespace URI is null. The
    default element namespace is a member of the context for the XPath expression. The value of the
    default element namespace when executing an XPath expression through the DOM3 XPath API is
    determined in the following way:</p>
      <ol>
       <li data-md="">
        <p>If the context node is from an HTML DOM, the default element namespace is
"http://www.w3.org/1999/xhtml".</p>
       </li><li data-md="">
        <p>Otherwise, the default element namespace URI is null.</p>
      </li></ol>
      <p class="note" role="note"> This is equivalent to adding the default element namespace feature of XPath 2.0 to XPath 1.0,
      and using the HTML namespace as the default element namespace for HTML documents. It is
      motivated by the desire to have implementations be compatible with legacy HTML content while
      still supporting the changes that this specification introduces to HTML regarding the
      namespace used for HTML elements, and by the desire to use XPath 1.0 rather than XPath 2.0. </p>
     </blockquote>
     <p class="note" role="note"> This change is a <a data-link-type="dfn" href="introduction.html#willful-violation">willful violation</a> of the XPath 1.0 specification, motivated by
    desire to have implementations be compatible with legacy content while still supporting the
    changes that this specification introduces to HTML regarding which namespace is used for HTML
    elements. <a data-link-type="biblio" href="references.html#biblio-xpath">[XPATH]</a> </p>
     <hr>
     <p>XSLT 1.0 processors outputting to a DOM when the output method is "html" (either explicitly or via
  the defaulting rule in XSLT 1.0) are affected as follows:</p>
     <p>If the transformation program outputs an element in no namespace, the processor must, prior to
  constructing the corresponding DOM element node, change the namespace of the element to the <a data-link-type="dfn" href="infrastructure.html#html-namespace">HTML namespace</a>, <a data-link-type="dfn" href="infrastructure.html#converting-a-string-to-ascii-lowercase">ASCII-lowercase</a> the element’s local name, and <a data-link-type="dfn" href="infrastructure.html#converting-a-string-to-ascii-lowercase">ASCII-lowercase</a> the names of any non-namespaced attributes on the element.</p>
     <p class="note" role="note"> This requirement is a <a data-link-type="dfn" href="introduction.html#willful-violation">willful violation</a> of the XSLT 1.0 specification, required because
    this specification changes the namespaces and case-sensitivity rules of HTML in a manner that
    would otherwise be incompatible with DOM-based XSLT transformations. (Processors that serialize
    the output are unaffected.) <a data-link-type="biblio" href="references.html#biblio-xslt">[XSLT]</a> </p>
     <hr>
     <p>This specification does not specify precisely how XSLT processing interacts with the <a data-link-type="dfn" href="syntax.html#html-parser">HTML parser</a> infrastructure (for example, whether an XSLT processor acts as if it puts any
  elements into a <a data-link-type="dfn" href="syntax.html#stack-of-open-elements">stack of open elements</a>). However, XSLT processors must <a data-link-type="dfn" href="syntax.html#stopped">stop parsing</a> if they successfully complete, and must set the <a data-link-type="dfn" href="dom.html#current-document-readiness">current document readiness</a> first to
  "<code>interactive</code>" and then to "<code>complete</code>" if they are aborted.</p>
     <hr>
     <p>This specification does not specify how XSLT interacts with the <a data-link-type="dfn" href="browsers.html#navigated">navigation</a> algorithm, how
  it fits in with the <a data-link-type="dfn" href="webappapis.html#event-loop">event loop</a>, nor how error pages are to be handled (e.g. whether XSLT
  errors are to replace an incremental XSLT output, or are rendered inline, etc).</p>
     <p class="note" role="note"> There are also additional non-normative comments regarding the interaction of XSLT and HTML <a href="semantics.html#interaction-of-script-elements-and-xslt">in the <code>script</code> element section</a>,
    and of XSLT, XPath, and HTML <a href="semantics.html#interaction-of-template-elements-with-xslt-and-xpath">in the <code>template</code> element section</a>. </p>
    </div>
    <h3 class="heading settled" data-level="2.3" id="case-sensitivity-and-string-comparison"><span class="secno">2.3. </span><span class="content">Case-sensitivity and string comparison</span><a class="self-link" href="infrastructure.html#case-sensitivity-and-string-comparison"></a></h3>
    <p>Comparing two strings in a <dfn data-dfn-type="dfn" data-noexport="" id="case-sensitive">case-sensitive<a class="self-link" href="infrastructure.html#case-sensitive"></a></dfn> manner means comparing them exactly, code
  point for code point.</p>
    <p>Comparing two strings in an <dfn data-dfn-type="dfn" data-noexport="" id="ascii-case-insensitive">ASCII case-insensitive<a class="self-link" href="infrastructure.html#ascii-case-insensitive"></a></dfn> manner means comparing them exactly,
  code point for code point, except that the characters in the range U+0041 to U+005A (i.e. LATIN
  CAPITAL LETTER A to LATIN CAPITAL LETTER Z) and the corresponding characters in the range U+0061
  to U+007A (i.e. LATIN SMALL LETTER A to LATIN SMALL LETTER Z) are considered to also match.</p>
    <p>Comparing two strings in a <dfn data-dfn-type="dfn" data-noexport="" id="compatibility-caseless">compatibility caseless<a class="self-link" href="infrastructure.html#compatibility-caseless"></a></dfn> manner means using the Unicode <i>compatibility caseless match</i> operation to compare the two strings, with no
  language-specific tailoirings. <a data-link-type="biblio" href="references.html#biblio-unicode">[UNICODE]</a></p>
    <p>Except where otherwise stated, string comparisons must be performed in a <a data-link-type="dfn" href="infrastructure.html#case-sensitive">case-sensitive</a> manner.</p>
    <div class="impl">
      <dfn data-dfn-type="dfn" data-noexport="" id="converting-a-string-to-ascii-uppercase">Converting a string to ASCII uppercase<a class="self-link" href="infrastructure.html#converting-a-string-to-ascii-uppercase"></a></dfn> means replacing all characters in the range
    U+0061 to U+007A (i.e. LATIN SMALL LETTER A to LATIN SMALL LETTER Z) with the corresponding
    characters in the range U+0041 to U+005A (i.e. LATIN CAPITAL LETTER A to LATIN CAPITAL LETTER Z). 
     <p><dfn data-dfn-type="dfn" data-noexport="" id="converting-a-string-to-ascii-lowercase">Converting a string to ASCII lowercase<a class="self-link" href="infrastructure.html#converting-a-string-to-ascii-lowercase"></a></dfn> means replacing all characters in the range
    U+0041 to U+005A (i.e. LATIN CAPITAL LETTER A to LATIN CAPITAL LETTER Z) with the corresponding
    characters in the range U+0061 to U+007A (i.e. LATIN SMALL LETTER A to LATIN SMALL LETTER Z).</p>
    </div>
    <p>A string <var>pattern</var> is a <dfn data-dfn-type="dfn" data-noexport="" id="prefix-match">prefix match<a class="self-link" href="infrastructure.html#prefix-match"></a></dfn> for a string <var>s</var> when <var>pattern</var> is not longer than <var>s</var> and truncating <var>s</var> to <var>pattern</var>’s length leaves the two strings as matches of each other.</p>
    <h3 class="heading settled" data-level="2.4" id="common-microsyntaxes"><span class="secno">2.4. </span><span class="content">Common microsyntaxes</span><a class="self-link" href="infrastructure.html#common-microsyntaxes"></a></h3>
    <p>There are various places in HTML that accept particular data types, such as dates or numbers. This
  section describes what the conformance criteria for content in those formats is, and how to parse
  them.</p>
    <div class="impl">
     <p class="note" role="note"> Implementors are strongly urged to carefully examine any third-party libraries they might
      consider using to implement the parsing of syntaxes described below. For example, date
      libraries are likely to implement error handling behavior that differs from what is required
      in this specification, since error-handling behavior is often not defined in specifications
      that describe date syntaxes similar to those used in this specification, and thus
      implementations tend to vary greatly in how they handle errors. </p>
    </div>
    <div class="impl">
     <h4 class="heading settled" data-level="2.4.1" id="common-parser-idioms"><span class="secno">2.4.1. </span><span class="content">Common parser idioms</span><a class="self-link" href="infrastructure.html#common-parser-idioms"></a></h4>
     <p>The <dfn data-dfn-type="dfn" data-noexport="" id="space-characters">space characters<a class="self-link" href="infrastructure.html#space-characters"></a></dfn>, for the purposes of this specification, are U+0020 SPACE, U+0009
  CHARACTER TABULATION (tab), U+000A LINE FEED (LF), U+000C FORM FEED (FF), and U+000D CARRIAGE
  RETURN (CR).</p>
     <p>The <dfn data-dfn-type="dfn" data-lt="white_space|white_space characters" data-noexport="" id="white_space">White_Space characters<a class="self-link" href="infrastructure.html#white_space"></a></dfn> are those that have the Unicode property "White_Space" in
  the Unicode <code>PropList.txt</code> data file. <a data-link-type="biblio" href="references.html#biblio-unicode">[UNICODE]</a></p>
     <p class="note" role="note"> This should not be confused with the "White_Space" value (abbreviated "WS") of the "Bidi_Class"
    property in the <code>Unicode.txt</code> data file. </p>
     <p>The <dfn data-dfn-type="dfn" data-noexport="" id="control-characters">control characters<a class="self-link" href="infrastructure.html#control-characters"></a></dfn> are those whose Unicode "General_Category" property has the
  value "Cc" in the Unicode <code>UnicodeData.txt</code> data file. <a data-link-type="biblio" href="references.html#biblio-unicode">[UNICODE]</a></p>
     <p>The <dfn data-dfn-type="dfn" data-noexport="" id="uppercase-ascii-letters">uppercase ASCII letters<a class="self-link" href="infrastructure.html#uppercase-ascii-letters"></a></dfn> are the characters in the range U+0041 LATIN CAPITAL LETTER
  A to U+005A LATIN CAPITAL LETTER Z.</p>
     <p>The <dfn data-dfn-type="dfn" data-noexport="" id="lowercase-ascii-letters">lowercase ASCII letters<a class="self-link" href="infrastructure.html#lowercase-ascii-letters"></a></dfn> are the characters in the range U+0061 LATIN SMALL LETTER A
  to U+007A LATIN SMALL LETTER Z.</p>
     <p>The <dfn data-dfn-type="dfn" data-noexport="" id="ascii-digits">ASCII digits<a class="self-link" href="infrastructure.html#ascii-digits"></a></dfn> are the characters in the range U+0030 DIGIT ZERO (0) to U+0039 DIGIT
  NINE (9).</p>
     <p>The <dfn data-dfn-type="dfn" data-noexport="" id="alphanumeric-ascii-characters">alphanumeric ASCII characters<a class="self-link" href="infrastructure.html#alphanumeric-ascii-characters"></a></dfn> are those that are either <a data-link-type="dfn" href="infrastructure.html#uppercase-ascii-letters">uppercase ASCII letters</a>, <a data-link-type="dfn" href="infrastructure.html#lowercase-ascii-letters">lowercase ASCII letters</a>, or <a data-link-type="dfn" href="infrastructure.html#ascii-digits">ASCII digits</a>.</p>
     <p>The <dfn data-dfn-type="dfn" data-noexport="" id="ascii-hex-digits">ASCII hex digits<a class="self-link" href="infrastructure.html#ascii-hex-digits"></a></dfn> are the characters in the ranges U+0030 DIGIT ZERO (0) to U+0039
  DIGIT NINE (9), U+0041 LATIN CAPITAL LETTER A to U+0046 LATIN CAPITAL LETTER F, and U+0061 LATIN
  SMALL LETTER A to U+0066 LATIN SMALL LETTER F.</p>
     <p>The <dfn data-dfn-type="dfn" data-noexport="" id="uppercase-ascii-hex-digits">uppercase ASCII hex digits<a class="self-link" href="infrastructure.html#uppercase-ascii-hex-digits"></a></dfn> are the characters in the ranges U+0030 DIGIT ZERO (0)
  to U+0039 DIGIT NINE (9) and U+0041 LATIN CAPITAL LETTER A to U+0046 LATIN CAPITAL LETTER F only.</p>
     <p>The <dfn data-dfn-type="dfn" data-noexport="" id="lowercase-ascii-hex-digits">lowercase ASCII hex digits<a class="self-link" href="infrastructure.html#lowercase-ascii-hex-digits"></a></dfn> are the characters in the ranges U+0030 DIGIT ZERO (0)
  to U+0039 DIGIT NINE (9) and U+0061 LATIN SMALL LETTER A to U+0066 LATIN SMALL LETTER F only.</p>
    </div>
    <div class="impl">
      Some of the micro-parsers described below follow the pattern of having an <var>input</var> variable that holds the string being parsed, and having a <var>position</var> variable pointing at
  the next character to parse in <var>input</var>. 
     <p>For parsers based on this pattern, a step that requires the user agent to <dfn data-dfn-type="dfn" data-noexport="" id="collect-a-sequence-of-characters">collect a sequence
  of characters<a class="self-link" href="infrastructure.html#collect-a-sequence-of-characters"></a></dfn> means that the following algorithm must be run, with <var>characters</var> being the set of characters that can be collected:</p>
     <ol>
      <li data-md="">
       <p>Let <var>input</var> and <var>position</var> be the same variables as those of the same name in
  the algorithm that invoked these steps.</p>
      </li><li data-md="">
       <p>Let <var>result</var> be the empty string.</p>
      </li><li data-md="">
       <p>While <var>position</var> doesn’t point past the end of <var>input</var> and the character at <var>position</var> is one of the <var>characters</var>, append that character to the end of <var>result</var> and advance <var>position</var> to the next character in <var>input</var>.</p>
      </li><li data-md="">
       <p>Return <var>result</var>.</p>
     </li></ol>
     <p>The step <dfn data-dfn-type="dfn" data-noexport="" id="skip-whitespace">skip whitespace<a class="self-link" href="infrastructure.html#skip-whitespace"></a></dfn> means that the user agent must <a data-link-type="dfn" href="infrastructure.html#collect-a-sequence-of-characters">collect a sequence of characters</a> that are <a data-link-type="dfn" href="infrastructure.html#space-characters">space characters</a>. The collected characters
  are not used.</p>
     <p>When a user agent is to <dfn data-dfn-type="dfn" data-lt="stripped line breaks|strip line breaks" data-noexport="" id="stripped-line-breaks">strip line breaks<a class="self-link" href="infrastructure.html#stripped-line-breaks"></a></dfn> from a string, the user agent must remove
  any U+000A LINE FEED (LF) and U+000D CARRIAGE RETURN (CR) characters from that string.</p>
     <p>When a user agent is to <dfn data-dfn-type="dfn" data-lt="strip leading and trailing whitespace|stripping leading and trailing whitespace|leading and trailing whitespace stripped" data-noexport="" id="strip-leading-and-trailing-whitespace">strip leading and trailing whitespace<a class="self-link" href="infrastructure.html#strip-leading-and-trailing-whitespace"></a></dfn> from a string, the
  user agent must remove all <a data-link-type="dfn" href="infrastructure.html#space-characters">space characters</a> that are at the start or end of the string.</p>
     <p>When a user agent is to <dfn data-dfn-type="dfn" data-lt="stripping and collapsing whitespace|strip and collapse whitespace" data-noexport="" id="stripping-and-collapsing-whitespace">strip and collapse whitespace<a class="self-link" href="infrastructure.html#stripping-and-collapsing-whitespace"></a></dfn> in a string, it must replace any
  sequence of one or more consecutive <a data-link-type="dfn" href="infrastructure.html#space-characters">space characters</a> in that string with a single U+0020
  SPACE character, and then <a data-link-type="dfn" href="infrastructure.html#strip-leading-and-trailing-whitespace">strip leading and trailing whitespace</a> from that string.</p>
     <p>When a user agent has to <dfn data-dfn-type="dfn" data-lt="strictly splitting the string|strictly split a string|strictly split" data-noexport="" id="strictly-splitting-the-string">strictly split a string<a class="self-link" href="infrastructure.html#strictly-splitting-the-string"></a></dfn> on a particular delimiter character <var>delimiter</var>, it must use the following algorithm:</p>
     <ol>
      <li data-md="">
       <p>Let <var>input</var> be the string being parsed.</p>
      </li><li data-md="">
       <p>Let <var>position</var> be a pointer into <var>input</var>, initially
  pointing at the start of the string.</p>
      </li><li data-md="">
       <p>Let <var>tokens</var> be an ordered list of tokens, initially empty.</p>
      </li><li data-md="">
       <p>While <var>position</var> is not past the end of <var>input</var>:</p>
       <ol>
        <li data-md="">
         <p><a data-link-type="dfn" href="infrastructure.html#collect-a-sequence-of-characters">Collect a sequence of characters</a> that are not the <var>delimiter</var> character.</p>
        </li><li data-md="">
         <p>Append the string collected in the previous step to <var>tokens</var>.</p>
        </li><li data-md="">
         <p>Advance <var>position</var> to the next character in <var>input</var>.</p>
       </li></ol>
      </li><li data-md="">
       <p>Return <var>tokens</var>.</p>
     </li></ol>
     <p class="note" role="note"> For the special cases of splitting a string <a data-link-type="dfn" href="infrastructure.html#split-a-string-on-spaces">on spaces</a> and <a data-link-type="dfn" href="infrastructure.html#split-a-string-on-commas">on commas</a>, this
    algorithm does not apply (those algorithms also perform <a data-link-type="dfn" href="infrastructure.html#strip-leading-and-trailing-whitespace">whitespace trimming</a>). </p>
    </div>
    <h4 class="heading settled" data-level="2.4.2" id="sec-boolean-attributes"><span class="secno">2.4.2. </span><span class="content">Boolean attributes</span><a class="self-link" href="infrastructure.html#sec-boolean-attributes"></a></h4>
    <p>A number of attributes are <dfn data-dfn-type="dfn" data-lt="boolean attribute|boolean attributes" data-noexport="" id="boolean-attribute">boolean attributes<a class="self-link" href="infrastructure.html#boolean-attribute"></a></dfn>. The presence of a boolean attribute on
  an element represents the true value, and the absence of the attribute represents the false value.</p>
    <p>If the attribute is present, its value must either be the empty string or a value that is an <a data-link-type="dfn" href="infrastructure.html#ascii-case-insensitive">ASCII case-insensitive</a> match for the attribute’s canonical name, with no leading or
  trailing whitespace.</p>
    <p class="note" role="note"> The values "true" and "false" are not allowed on <a data-link-type="dfn" href="infrastructure.html#boolean-attribute">boolean attributes</a>. To represent a false value,
    the attribute has to be omitted altogether. </p>
    <div class="example" id="example-2267e227">
     <a class="self-link" href="infrastructure.html#example-2267e227"></a> Here is an example of a checkbox that is checked and disabled. The <code>checked</code> and <code>disabled</code> attributes are the <a data-link-type="dfn" href="infrastructure.html#boolean-attribute">boolean attributes</a>. 
<pre class="highlight"><span class="nt">&lt;label&gt;&lt;input</span> <span class="na">type=</span><span class="s">checkbox</span> <span class="na">checked</span> <span class="na">name=</span><span class="s">cheese</span> <span class="na">disabled</span><span class="nt">&gt;</span> Cheese<span class="nt">&lt;/label&gt;</span></pre>
     <p>This could be equivalently written as this:</p>
<pre class="highlight"><span class="nt">&lt;label&gt;&lt;input</span> <span class="na">type=</span><span class="s">checkbox</span> <span class="na">checked=</span><span class="s">checked</span> <span class="na">name=</span><span class="s">cheese</span> <span class="na">disabled=</span><span class="s">disabled</span><span class="nt">&gt;</span> Cheese<span class="nt">&lt;/label&gt;</span></pre>
     <p>You can also mix styles; the following is still equivalent:</p>
<pre class="highlight"><span class="nt">&lt;label&gt;&lt;input</span> <span class="na">type=</span><span class="s">'checkbox'</span> <span class="na">checked</span> <span class="na">name=</span><span class="s">cheese</span> <span class="na">disabled=</span><span class="s">""</span><span class="nt">&gt;</span> Cheese<span class="nt">&lt;/label&gt;</span></pre>
    </div>
    <h4 class="heading settled" data-level="2.4.3" id="keywords-and-enumerated-attributes"><span class="secno">2.4.3. </span><span class="content">Keywords and enumerated attributes</span><a class="self-link" href="infrastructure.html#keywords-and-enumerated-attributes"></a></h4>
    <p>Some attributes are defined as taking one of a finite set of keywords. Such attributes are called <dfn data-dfn-type="dfn" data-noexport="" id="enumerated-attributes">enumerated attributes<a class="self-link" href="infrastructure.html#enumerated-attributes"></a></dfn>. The keywords are each defined to map to a particular <em>state</em> (several keywords might map to the same state, in which case some of the keywords
  are synonyms of each other; additionally, some of the keywords can be said to be non-conforming,
  and are only in the specification for historical reasons). In addition, two default states can be
  given. The first is the <dfn data-dfn-type="dfn" data-noexport="" id="invalid-value-default"><i>invalid value default</i><a class="self-link" href="infrastructure.html#invalid-value-default"></a></dfn>, the second is the <dfn data-dfn-type="dfn" data-noexport="" id="missing-value-default"><i>missing value default</i><a class="self-link" href="infrastructure.html#missing-value-default"></a></dfn>.</p>
    <p>If an enumerated attribute is specified, the attribute’s value must be an <a data-link-type="dfn" href="infrastructure.html#ascii-case-insensitive">ASCII case-insensitive</a> match for one of the given keywords that are not said to be
  non-conforming, with no leading or trailing whitespace.</p>
    <p>When the attribute is specified, if its value is an <a data-link-type="dfn" href="infrastructure.html#ascii-case-insensitive">ASCII case-insensitive</a> match for one of
  the given keywords then that keyword’s state is the state that the attribute represents. If the
  attribute value matches none of the given keywords, but the attribute has an <i>invalid value default</i>, then the attribute represents that state. Otherwise, if the
  attribute value matches none of the keywords but there is a <i>missing value default</i> state
  defined, then <em>that</em> is the state represented by the attribute. Otherwise, there is no
  default, and invalid values mean that there is no state represented.</p>
    <p>When the attribute is <em>not</em> specified, if there is a <i>missing value default</i> state
  defined, then that is the state represented by the (missing) attribute. Otherwise, the absence of
  the attribute means that there is no state represented.</p>
    <p class="note" role="note">The empty string can be a valid keyword.</p>
    <h4 class="heading settled" data-level="2.4.4" id="numbers"><span class="secno">2.4.4. </span><span class="content">Numbers</span><a class="self-link" href="infrastructure.html#numbers"></a></h4>
    <h5 class="heading settled" data-level="2.4.4.1" id="signed-integers"><span class="secno">2.4.4.1. </span><span class="content">Signed integers</span><a class="self-link" href="infrastructure.html#signed-integers"></a></h5>
    <p>A string is a <dfn data-dfn-type="dfn" data-lt="valid integer|valid integers" data-noexport="" id="valid-integer">valid integer<a class="self-link" href="infrastructure.html#valid-integer"></a></dfn> if it consists of one or more <a data-link-type="dfn" href="infrastructure.html#ascii-digits">ASCII digits</a>,
  optionally prefixed with a U+002D HYPHEN-MINUS character (-).</p>
    <p>A <a data-link-type="dfn" href="infrastructure.html#valid-integer">valid integer</a> without a U+002D HYPHEN-MINUS (-) prefix represents the number that is
  represented in base ten by that string of digits. A <a data-link-type="dfn" href="infrastructure.html#valid-integer">valid integer</a> <em>with</em> a U+002D
  HYPHEN-MINUS (-) prefix represents the number represented in base ten by the string of digits that
  follows the U+002D HYPHEN-MINUS, subtracted from zero.</p>
    <div class="impl">
      The <dfn data-dfn-for="integers" data-dfn-type="dfn" data-lt="parses|parse token as an integer|parse it as an integer|rules for parsing integers|rules for parsing integer|rules for parsing signed integers" data-noexport="" id="integers-parses">rules for parsing integers<a class="self-link" href="infrastructure.html#integers-parses"></a></dfn> are as given in the following algorithm. When
    invoked, the steps must be followed in the order given, aborting at the first step that returns
    a value. This algorithm will return either an integer or an error. 
     <ol>
      <li data-md="">
       <p>Let <var>input</var> be the string being parsed.</p>
      </li><li data-md="">
       <p>Let <var>position</var> be a pointer into <var>input</var>, initially pointing at the
start of the string.</p>
      </li><li data-md="">
       <p>Let <var>sign</var> have the value "positive".</p>
      </li><li data-md="">
       <p><a data-link-type="dfn" href="infrastructure.html#skip-whitespace">Skip whitespace</a>.</p>
      </li><li data-md="">
       <p>If <var>position</var> is past the end of <var>input</var>, return an error.</p>
      </li><li data-md="">
       <p>If the character indicated by <var>position</var> (the first character) is a U+002D
HYPHEN-MINUS character (-):</p>
       <ol>
        <li data-md="">
         <p>Let <var>sign</var> be "negative".</p>
        </li><li data-md="">
         <p>Advance <var>position</var> to the next character.</p>
        </li><li data-md="">
         <p>If <var>position</var> is past the end of <var>input</var>, return an error.</p>
       </li></ol>
       <p>Otherwise, if the character indicated by <var>position</var> (the first character) is a
U+002B PLUS SIGN character (+):</p>
       <ol>
        <li data-md="">
         <p>Advance <var>position</var> to the next character. (The "<code>+</code>" is ignored, but
it is not conforming.)</p>
        </li><li data-md="">
         <p>If <var>position</var> is past the end of <var>input</var>, return an error.</p>
       </li></ol>
      </li><li data-md="">
       <p>If the character indicated by <var>position</var> is not an <a data-link-type="dfn" href="infrastructure.html#ascii-digits">ASCII digit</a>, then return
an error.</p>
      </li><li data-md="">
       <p><a data-link-type="dfn" href="infrastructure.html#collect-a-sequence-of-characters">Collect a sequence of characters</a> that are <a data-link-type="dfn" href="infrastructure.html#ascii-digits">ASCII digits</a>, and interpret the
resulting sequence as a base-ten integer. Let <var>value</var> be that integer.</p>
      </li><li data-md="">
       <p>If <var>sign</var> is "positive", return <var>value</var>, otherwise return the result of
subtracting <var>value</var> from zero.</p>
     </li></ol>
    </div>
    <h5 class="heading settled" data-level="2.4.4.2" id="non-negative-integers"><span class="secno">2.4.4.2. </span><span class="content">Non-negative integers</span><a class="self-link" href="infrastructure.html#non-negative-integers"></a></h5>
    <p>A string is a <dfn data-dfn-type="dfn" data-noexport="" id="valid-non-negative-integer">valid non-negative integer<a class="self-link" href="infrastructure.html#valid-non-negative-integer"></a></dfn> if it consists of one or more <a data-link-type="dfn" href="infrastructure.html#ascii-digits">ASCII digits</a>.</p>
    <p>A <a data-link-type="dfn" href="infrastructure.html#valid-non-negative-integer">valid non-negative integer</a> represents the number that is represented in base ten by that
  string of digits.</p>
    <div class="impl">
      The <dfn data-dfn-type="dfn" data-lt="parse that attribute’s value|rules for parsing non-negative integers" data-noexport="" id="parse-that-attributes-value">rules for parsing non-negative integers<a class="self-link" href="infrastructure.html#parse-that-attributes-value"></a></dfn> are as given in the following algorithm.
    When invoked, the steps must be followed in the order given, aborting at the first step that
    returns a value. This algorithm will return either zero, a positive integer, or an error. 
     <ol>
      <li data-md="">
       <p>Let <var>input</var> be the string being parsed.</p>
      </li><li data-md="">
       <p>Let <var>value</var> be the result of parsing <var>input</var> using the <a data-link-type="dfn" href="infrastructure.html#integers-parses">rules for parsing integers</a>.</p>
      </li><li data-md="">
       <p>If <var>value</var> is an error, return an error.</p>
      </li><li data-md="">
       <p>If <var>value</var> is less than zero, return an error.</p>
      </li><li data-md="">
       <p>Return <var>value</var>.</p>
     </li></ol>
    </div>
    <h5 class="heading settled" data-level="2.4.4.3" id="floating-point-numbers"><span class="secno">2.4.4.3. </span><span class="content">Floating-point numbers</span><a class="self-link" href="infrastructure.html#floating-point-numbers"></a></h5>
    <p>A string is a <dfn data-dfn-type="dfn" data-noexport="" id="valid-floating-point-number">valid floating-point number<a class="self-link" href="infrastructure.html#valid-floating-point-number"></a></dfn> if it consists of:</p>
    <ol>
     <li data-md="">
      <p>Optionally, a U+002D HYPHEN-MINUS character (-).</p>
     </li><li data-md="">
      <p>One or both of the following, in the given order:</p>
      <ol>
       <li data-md="">
        <p>A series of one or more <a data-link-type="dfn" href="infrastructure.html#ascii-digits">ASCII digits</a>.</p>
       </li><li data-md="">
        <p>Both of the following, in the given order:</p>
        <ol>
         <li data-md="">
          <p>A single U+002E FULL STOP character (.).</p>
         </li><li data-md="">
          <p>A series of one or more <a data-link-type="dfn" href="infrastructure.html#ascii-digits">ASCII digits</a>.</p>
        </li></ol>
      </li></ol>
     </li><li data-md="">
      <p>Optionally:</p>
      <ol>
       <li data-md="">
        <p>Either a U+0065 LATIN SMALL LETTER E character (e) or a U+0045 LATIN CAPITAL LETTER E
  character (E).</p>
       </li><li data-md="">
        <p>Optionally, a U+002D HYPHEN-MINUS character (-) or U+002B PLUS SIGN character (+).</p>
       </li><li data-md="">
        <p>A series of one or more <a data-link-type="dfn" href="infrastructure.html#ascii-digits">ASCII digits</a>.</p>
      </li></ol>
    </li></ol>
    <p>A <a data-link-type="dfn" href="infrastructure.html#valid-floating-point-number">valid floating-point number</a> represents the number obtained by multiplying the significand
  by ten raised to the power of the exponent, where the significand is the first number, interpreted
  as base ten (including the decimal point and the number after the decimal point, if any, and
  interpreting the significand as a negative number if the whole string starts with a U+002D
  HYPHEN-MINUS character (-) and the number is not zero), and where the exponent is the number after
  the E, if any (interpreted as a negative number if there is a U+002D HYPHEN-MINUS character (-)
  between the E and the number and the number is not zero, or else ignoring a U+002B PLUS SIGN
  character (+) between the E and the number if there is one). If there is no E, then the exponent
  is treated as zero.</p>
    <p class="note" role="note"> The Infinity and Not-a-Number (NaN) values are not <a data-link-type="dfn" href="infrastructure.html#valid-floating-point-number">valid floating-point numbers</a>. </p>
    <div class="impl">
      The <dfn data-dfn-type="dfn" data-lt="floating point number" data-noexport="" id="floating-point-number">best representation of the number <var>n</var> as a floating-point number<a class="self-link" href="infrastructure.html#floating-point-number"></a></dfn> is the
    string obtained from applying the JavaScript operator ToString to <var>n</var>. The JavaScript
    operator ToString is not uniquely determined. When there are multiple possible strings that
    could be obtained from the JavaScript operator ToString for a particular value, the user agent
    must always return the same string for that value (though it may differ from the value used by
    other user agents). 
     <p>The <dfn data-dfn-type="dfn" data-noexport="" id="rules-for-parsing-floating-point-number-values">rules for parsing floating-point number values<a class="self-link" href="infrastructure.html#rules-for-parsing-floating-point-number-values"></a></dfn> are as given in the following
    algorithm. This algorithm must be aborted at the first step that returns something. This
    algorithm will return either a number or an error.</p>
     <ol>
      <li data-md="">
       <p>Let <var>input</var> be the string being parsed.</p>
      </li><li data-md="">
       <p>Let <var>position</var> be a pointer into <var>input</var>, initially pointing at the start
of the string.</p>
      </li><li data-md="">
       <p>Let <var>value</var> have the value 1.</p>
      </li><li data-md="">
       <p>Let <var>divisor</var> have the value 1.</p>
      </li><li data-md="">
       <p>Let <var>exponent</var> have the value 1.</p>
      </li><li data-md="">
       <p><a data-link-type="dfn" href="infrastructure.html#skip-whitespace">Skip whitespace</a>.</p>
      </li><li data-md="">
       <p>If <var>position</var> is past the end of <var>input</var>, return an error.</p>
      </li><li data-md="">
       <p>If the character indicated by <var>position</var> is a U+002D HYPHEN-MINUS character (-):</p>
       <ol>
        <li data-md="">
         <p>Change <var>value</var> and <var>divisor</var> to -1.</p>
        </li><li data-md="">
         <p>Advance <var>position</var> to the next character.</p>
        </li><li data-md="">
         <p>If <var>position</var> is past the end of <var>input</var>, return an error.</p>
       </li></ol>
       <p>Otherwise, if the character indicated by <var>position</var> (the first character) is a
U+002B PLUS SIGN character (+):</p>
       <ol>
        <li data-md="">
         <p>Advance <var>position</var> to the next character. (The "<code>+</code>" is ignored, but
it is not conforming.)</p>
        </li><li data-md="">
         <p>If <var>position</var> is past the end of <var>input</var>, return an error.</p>
       </li></ol>
      </li><li data-md="">
       <p>If the character indicated by <var>position</var> is a U+002E FULL STOP (.), and that is not
the last character in <var>input</var>, and the character after the character indicated by <var>position</var> is an <a data-link-type="dfn" href="infrastructure.html#ascii-digits">ASCII digit</a>, then set <var>value</var> to zero and jump to the step labeled <i>fraction</i>.</p>
      </li><li data-md="">
       <p>If the character indicated by <var>position</var> is not an <a data-link-type="dfn" href="infrastructure.html#ascii-digits">ASCII digit</a>, then return
an error.</p>
      </li><li data-md="">
       <p><a data-link-type="dfn" href="infrastructure.html#collect-a-sequence-of-characters">Collect a sequence of characters</a> that are <a data-link-type="dfn" href="infrastructure.html#ascii-digits">ASCII digits</a>, and interpret the
resulting sequence as a base-ten integer. Multiply <var>value</var> by that integer.</p>
      </li><li data-md="">
       <p>If <var>position</var> is past the end of <var>input</var>, jump to the step labeled <i>conversion</i>.</p>
      </li><li data-md="">
       <p><i>Fraction</i>: If the character indicated by <var>position</var> is a U+002E FULL STOP
(.), run these substeps:</p>
       <ol>
        <li data-md="">
         <p>Advance <var>position</var> to the next character.</p>
        </li><li data-md="">
         <p>If <var>position</var> is past the end of <var>input</var>, or if the character indicated
by <var>position</var> is not an <a data-link-type="dfn" href="infrastructure.html#ascii-digits">ASCII digit</a>, U+0065 LATIN SMALL LETTER E (e), or
U+0045 LATIN CAPITAL LETTER E (E), then jump to the step labeled <i>conversion</i>.</p>
        </li><li data-md="">
         <p>If the character indicated by <var>position</var> is a U+0065 LATIN SMALL LETTER E
character (e) or a U+0045 LATIN CAPITAL LETTER E character (E), skip the remainder of
these substeps.</p>
        </li><li data-md="">
         <p><i>Fraction loop</i>: Multiply <var>divisor</var> by ten.</p>
        </li><li data-md="">
         <p>Add the value of the character indicated by <var>position</var>, interpreted as a
base-ten digit (0..9) and divided by <var>divisor</var>, to <var>value</var>.</p>
        </li><li data-md="">
         <p>Advance <var>position</var> to the next character.</p>
        </li><li data-md="">
         <p>If <var>position</var> is past the end of <var>input</var>, then jump to the step labeled <i>conversion</i>.</p>
        </li><li data-md="">
         <p>If the character indicated by <var>position</var> is an <a data-link-type="dfn" href="infrastructure.html#ascii-digits">ASCII digit</a>, jump back to
the step labeled <i>fraction loop</i> in these substeps.</p>
       </li></ol>
      </li><li data-md="">
       <p>If the character indicated by <var>position</var> is a U+0065 LATIN SMALL LETTER E character
(e) or a U+0045 LATIN CAPITAL LETTER E character (E), run these substeps:</p>
       <ol>
        <li data-md="">
         <p>Advance <var>position</var> to the next character.</p>
        </li><li data-md="">
         <p>If <var>position</var> is past the end of <var>input</var>, then jump to the step labeled <i>conversion</i>.</p>
        </li><li data-md="">
         <p>If the character indicated by <var>position</var> is a U+002D HYPHEN-MINUS character (-):</p>
         <ol>
          <li data-md="">
           <p>Change <var>exponent</var> to -1.</p>
          </li><li data-md="">
           <p>Advance <var>position</var> to the next character.</p>
          </li><li data-md="">
           <p>If <var>position</var> is past the end of <var>input</var>, then jump to the step
labeled <i>conversion</i>.</p>
         </li></ol>
       </li></ol>
       <p>Otherwise, if the character indicated by <var>position</var> is a U+002B PLUS SIGN character
(+):</p>
       <ol>
        <li data-md="">
         <p>Advance <var>position</var> to the next character.</p>
        </li><li data-md="">
         <p>If <var>position</var> is past the end of <var>input</var>, then jump to the step
labeled <i>conversion</i>.</p>
       </li></ol>
       <ol start="4">
        <li data-md="">
         <p>If the character indicated by <var>position</var> is not an <a data-link-type="dfn" href="infrastructure.html#ascii-digits">ASCII digit</a>, then jump
to the step labeled <i>conversion</i>.</p>
        </li><li data-md="">
         <p><a data-link-type="dfn" href="infrastructure.html#collect-a-sequence-of-characters">Collect a sequence of characters</a> that are <a data-link-type="dfn" href="infrastructure.html#ascii-digits">ASCII digits</a>, and interpret the
resulting sequence as a base-ten integer. Multiply <var>exponent</var> by that integer.</p>
        </li><li data-md="">
         <p>Multiply <var>value</var> by ten raised to the <var>exponent</var>th power.</p>
       </li></ol>
      </li><li data-md="">
       <p><i>Conversion</i>: Let <var>S</var> be the set of finite IEEE 754 double-precision
floating-point values except -0, but with two special values added: 2<sup>1024</sup> and -2<sup>1024</sup>.</p>
      </li><li data-md="">
       <p>Let <var>rounded-value</var> be the number in <var>S</var> that is closest to <var>value</var>, selecting the number with an even significand if there are two equally
close values. (The two special values 2<sup>1024</sup> and -2<sup>1024</sup> are
considered to have even significands for this purpose.)</p>
      </li><li data-md="">
       <p>If <var>rounded-value</var> is 2<sup>1024</sup> or -2<sup>1024</sup>, return an
error.</p>
      </li><li data-md="">
       <p>Return <var>rounded-value</var>.</p>
     </li></ol>
    </div>
    <div class="impl">
     <h5 class="heading settled" data-level="2.4.4.4" id="percentages-and-dimensions"><span class="secno">2.4.4.4. </span><span class="content">Percentages and lengths</span><a class="self-link" href="infrastructure.html#percentages-and-dimensions"></a></h5>
     <p>The <dfn data-dfn-type="dfn" data-noexport="" id="rules-for-parsing-dimension-values">rules for parsing dimension values<a class="self-link" href="infrastructure.html#rules-for-parsing-dimension-values"></a></dfn> are as given in the following algorithm. When
    invoked, the steps must be followed in the order given, aborting at the first step that returns
    a value. This algorithm will return either a number greater than or equal to 0.0, or an error;
    if a number is returned, then it is further categorized as either a percentage or a length.</p>
     <ol>
      <li data-md="">
       <p>Let <var>input</var> be the string being parsed.</p>
      </li><li data-md="">
       <p>Let <var>position</var> be a pointer into <var>input</var>, initially pointing at the start
of the string.</p>
      </li><li data-md="">
       <p><a data-link-type="dfn" href="infrastructure.html#skip-whitespace">Skip whitespace</a>.</p>
      </li><li data-md="">
       <p>If <var>position</var> is past the end of <var>input</var>, return an error.</p>
      </li><li data-md="">
       <p>If the character indicated by <var>position</var> is a U+002B PLUS SIGN character (+),
advance <var>position</var> to the next character.</p>
      </li><li data-md="">
       <p>If <var>position</var> is past the end of <var>input</var>, return an error.</p>
      </li><li data-md="">
       <p>If the character indicated by <var>position</var> is not an <a data-link-type="dfn" href="infrastructure.html#ascii-digits">ASCII digit</a>, then return
an error.</p>
      </li><li data-md="">
       <p><a data-link-type="dfn" href="infrastructure.html#collect-a-sequence-of-characters">Collect a sequence of characters</a> that are <a data-link-type="dfn" href="infrastructure.html#ascii-digits">ASCII digits</a>, and interpret the
resulting sequence as a base-ten integer. Let <var>value</var> be that number.</p>
      </li><li data-md="">
       <p>If <var>position</var> is past the end of <var>input</var>, return <var>value</var> as a
length.</p>
      </li><li data-md="">
       <p>If the character indicated by <var>position</var> is a U+002E FULL STOP character (.):</p>
       <ol>
        <li data-md="">
         <p>Advance <var>position</var> to the next character.</p>
        </li><li data-md="">
         <p>If <var>position</var> is past the end of <var>input</var>, or if the character indicated
by <var>position</var> is not an <a data-link-type="dfn" href="infrastructure.html#ascii-digits">ASCII digit</a>, then return <var>value</var> as a
length.</p>
        </li><li data-md="">
         <p>Let <var>divisor</var> have the value 1.</p>
        </li><li data-md="">
         <p><i>Fraction loop</i>: Multiply <var>divisor</var> by ten.</p>
        </li><li data-md="">
         <p>Add the value of the character indicated by <var>position</var>, interpreted as a
base-ten digit (0..9) and divided by <var>divisor</var>, to <var>value</var>.</p>
        </li><li data-md="">
         <p>Advance <var>position</var> to the next character.</p>
        </li><li data-md="">
         <p>If <var>position</var> is past the end of <var>input</var>, then return <var>value</var> as a length.</p>
        </li><li data-md="">
         <p>If the character indicated by <var>position</var> is an <a data-link-type="dfn" href="infrastructure.html#ascii-digits">ASCII digit</a>, return to the
step labeled <i>fraction loop</i> in these substeps.</p>
       </li></ol>
      </li><li data-md="">
       <p>If <var>position</var> is past the end of <var>input</var>, return <var>value</var> as a
length.</p>
      </li><li data-md="">
       <p>If the character indicated by <var>position</var> is a U+0025 PERCENT SIGN character (%),
return <var>value</var> as a percentage.</p>
      </li><li data-md="">
       <p>Return <var>value</var> as a length.</p>
     </li></ol>
     <h5 class="heading settled" data-level="2.4.4.5" id="non-zero-percentages-and-lengths"><span class="secno">2.4.4.5. </span><span class="content">Non-zero percentages and lengths</span><a class="self-link" href="infrastructure.html#non-zero-percentages-and-lengths"></a></h5>
     <p>The <dfn data-dfn-type="dfn" data-noexport="" id="rules-for-parsing-non-zero-dimension-values">rules for parsing non-zero dimension values<a class="self-link" href="infrastructure.html#rules-for-parsing-non-zero-dimension-values"></a></dfn> are as given in the following
    algorithm. When invoked, the steps must be followed in the order given, aborting at the first
    step that returns a value. This algorithm will return either a number greater than 0.0, or an
    error; if a number is returned, then it is further categorized as either a percentage or a
    length.</p>
     <ol>
      <li data-md="">
       <p>Let <var>input</var> be the string being parsed.</p>
      </li><li data-md="">
       <p>Let <var>value</var> be the result of parsing <var>input</var> using the <a data-link-type="dfn" href="infrastructure.html#rules-for-parsing-dimension-values">rules for parsing dimension values</a>.</p>
      </li><li data-md="">
       <p>If <var>value</var> is an error, return an error.</p>
      </li><li data-md="">
       <p>If <var>value</var> is zero, return an error.</p>
      </li><li data-md="">
       <p>If <var>value</var> is a percentage, return <var>value</var> as a percentage.</p>
      </li><li data-md="">
       <p>Return <var>value</var> as a length.</p>
     </li></ol>
    </div>
    <h5 class="heading settled" data-level="2.4.4.6" id="lists-of-integers"><span class="secno">2.4.4.6. </span><span class="content">Lists of integers</span><a class="self-link" href="infrastructure.html#lists-of-integers"></a></h5>
    <p>A <dfn data-dfn-type="dfn" data-noexport="" id="valid-list-of-integers">valid list of integers<a class="self-link" href="infrastructure.html#valid-list-of-integers"></a></dfn> is a number of <a data-link-type="dfn" href="infrastructure.html#valid-integer">valid integers</a> separated by U+002C COMMA
  characters, with no other characters (e.g. no <a data-link-type="dfn" href="infrastructure.html#space-characters">space characters</a>). In addition, there might
  be restrictions on the number of integers that can be given, or on the range of values allowed.</p>
    <div class="impl">
      The <dfn data-dfn-type="dfn" data-noexport="" id="rules-for-parsing-a-list-of-integers">rules for parsing a list of integers<a class="self-link" href="infrastructure.html#rules-for-parsing-a-list-of-integers"></a></dfn> are as follows: 
     <ol>
      <li data-md="">
       <p>Let <var>input</var> be the string being parsed.</p>
      </li><li data-md="">
       <p>Let <var>position</var> be a pointer into <var>input</var>, initially pointing at the start
of the string.</p>
      </li><li data-md="">
       <p>Let <var>numbers</var> be an initially empty list of integers. This list will be the
result of this algorithm.</p>
      </li><li data-md="">
       <p>If there is a character in the string <var>input</var> at position <var>position</var>, and
it is either a U+0020 SPACE, U+002C COMMA, or U+003B SEMICOLON character, then advance <var>position</var> to the next character in <var>input</var>, or to beyond the end of the
string if there are no more characters.</p>
      </li><li data-md="">
       <p>If <var>position</var> points to beyond the end of <var>input</var>, return <var>numbers</var> and abort.</p>
      </li><li data-md="">
       <p>If the character in the string <var>input</var> at position <var>position</var> is a U+0020
SPACE, U+002C COMMA, or U+003B SEMICOLON character, then return to step 4.</p>
      </li><li data-md="">
       <p>Let <var>negated</var> be false.</p>
      </li><li data-md="">
       <p>Let <var>value</var> be 0.</p>
      </li><li data-md="">
       <p>Let <var>started</var> be false. This variable is set to true when the parser sees a number
or a U+002D HYPHEN-MINUS character (-).</p>
      </li><li data-md="">
       <p>Let <var>got number</var> be false. This variable is set to true when the parser sees a
number.</p>
      </li><li data-md="">
       <p>Let <var>finished</var> be false. This variable is set to true to switch parser into a mode
where it ignores characters until the next separator.</p>
      </li><li data-md="">
       <p>Let <var>bogus</var> be false.</p>
      </li><li data-md="">
       <p><i>Parser</i>: If the character in the string <var>input</var> at position <var>position</var> is:</p>
       <dl class="switch">
        <dt>A U+002D HYPHEN-MINUS character
        </dt><dd>
          Follow these substeps: 
         <ol>
          <li data-md="">
           <p>If <var>got number</var> is true, let <var>finished</var> be true.</p>
          </li><li data-md="">
           <p>If <var>finished</var> is true, skip to the next step in the overall set of steps.</p>
          </li><li data-md="">
           <p>If <var>started</var> is true, let <var>negated</var> be false.</p>
          </li><li data-md="">
           <p>Otherwise, if <var>started</var> is false and if <var>bogus</var> is false, let <var>negated</var> be true.</p>
          </li><li data-md="">
           <p>Let <var>started</var> be true.</p>
         </li></ol>
        </dd><dt>An <a data-link-type="dfn" href="infrastructure.html#ascii-digits">ASCII digit</a>
        </dt><dd>
          Follow these substeps: 
         <ol>
          <li data-md="">
           <p>If <var>finished</var> is true, skip to the next step in the overall set of steps.</p>
          </li><li data-md="">
           <p>Multiply <var>value</var> by ten.</p>
          </li><li data-md="">
           <p>Add the value of the digit, interpreted in base ten, to <var>value</var>.</p>
          </li><li data-md="">
           <p>Let <var>started</var> be true.</p>
          </li><li data-md="">
           <p>Let <var>got number</var> be true.</p>
         </li></ol>
        </dd><dt>A U+0020 SPACE character
        </dt><dt>A U+002C COMMA character
        </dt><dt>A U+003B SEMICOLON character
        </dt><dd>
          Follow these substeps: 
         <ol>
          <li data-md="">
           <p>If <var>got number</var> is false, return the <var>numbers</var> list and abort. This
happens if an entry in the list has no digits, as in "<code>1,2,x,4</code>".</p>
          </li><li data-md="">
           <p>If <var>negated</var> is true, then negate <var>value</var>.</p>
          </li><li data-md="">
           <p>Append <var>value</var> to the <var>numbers</var> list.</p>
          </li><li data-md="">
           <p>Jump to step 4 in the overall set of steps.</p>
         </li></ol>
        </dd><dt> A character in the range U+0001 to U+001F, U+0021 to U+002B, U+002D to U+002F, U+003A,
    U+003C to U+0040, U+005B to U+0060, U+007b to U+007F (i.e. any other non-alphabetic
    ASCII character) 
        </dt><dd>
          Follow these substeps: 
         <ol>
          <li data-md="">
           <p>If <var>got number</var> is true, let <var>finished</var> be true.</p>
          </li><li data-md="">
           <p>If <var>finished</var> is true, skip to the next step in the overall set of steps.</p>
          </li><li data-md="">
           <p>Let <var>negated</var> be false.</p>
         </li></ol>
        </dd><dt>Any other character
        </dt><dd>
          Follow these substeps: 
         <ol>
          <li data-md="">
           <p>If <var>finished</var> is true, skip to the next step in the overall set of steps.</p>
          </li><li data-md="">
           <p>Let <var>negated</var> be false.</p>
          </li><li data-md="">
           <p>Let <var>bogus</var> be true.</p>
          </li><li data-md="">
           <p>If <var>started</var> is true, then return the <var>numbers</var> list, and abort.
(The value in <var>value</var> is not appended to the list first; it is dropped.)</p>
         </li></ol>
       </dd></dl>
      </li><li data-md="">
       <p>Advance <var>position</var> to the next character in <var>input</var>, or to beyond the end
of the string if there are no more characters.</p>
       <p></p>
      </li><li data-md="">
       <p>If <var>position</var> points to a character (and not to beyond the end of <var>input</var>), jump to the big <i>Parser</i> step above.</p>
      </li><li data-md="">
       <p>If <var>negated</var> is true, then negate <var>value</var>.</p>
      </li><li data-md="">
       <p>If <var>got number</var> is true, then append <var>value</var> to the <var>numbers</var> list.</p>
      </li><li data-md="">
       <p>Return the <var>numbers</var> list and abort.</p>
     </li></ol>
    </div>
    <div class="impl">
     <h5 class="heading settled" data-level="2.4.4.7" id="lists-of-dimensions"><span class="secno">2.4.4.7. </span><span class="content">Lists of dimensions</span><a class="self-link" href="infrastructure.html#lists-of-dimensions"></a></h5>
     <p>The <dfn data-dfn-type="dfn" data-noexport="" id="rules-for-parsing-a-list-of-dimensions">rules for parsing a list of dimensions<a class="self-link" href="infrastructure.html#rules-for-parsing-a-list-of-dimensions"></a></dfn> are as follows. These rules return a list
    of zero or more pairs consisting of a number and a unit, the unit being one of <i>percentage</i>, <i>relative</i>, and <i>absolute</i>.</p>
     <p></p>
     <ol>
      <li data-md="">
       <p>If the last character in <var>raw input</var> is a U+002C COMMA character (,), then remove
that character from <var>raw input</var>.</p>
      </li><li data-md="">
       <p><a data-link-type="dfn" href="infrastructure.html#split-a-string-on-commas">Split the string <var>raw input</var> on commas</a>. Let <var>raw tokens</var> be the
resulting list of tokens.</p>
      </li><li data-md="">
       <p>Let <var>result</var> be an empty list of number/unit pairs.</p>
      </li><li data-md="">
       <p>For each token in <var>raw tokens</var>, run the following substeps:</p>
       <ol>
        <li data-md="">
         <p>Let <var>input</var> be the token.</p>
        </li><li data-md="">
         <p>Let <var>position</var> be a pointer into <var>input</var>, initially pointing at the
start of the string.</p>
        </li><li data-md="">
         <p>Let <var>value</var> be the number 0.</p>
        </li><li data-md="">
         <p>Let <var>unit</var> be <i>absolute</i>.</p>
        </li><li data-md="">
         <p>If the character at <var>position</var> is an <a data-link-type="dfn" href="infrastructure.html#ascii-digits">ASCII digit</a>, <a data-link-type="dfn" href="infrastructure.html#collect-a-sequence-of-characters">collect a sequence
of characters</a> that are <a data-link-type="dfn" href="infrastructure.html#ascii-digits">ASCII digits</a>, interpret the resulting sequence as an
integer in base ten, and increment <var>value</var> by that integer.</p>
        </li><li data-md="">
         <p>If the character at <var>position</var> is a U+002E FULL STOP character (.), run these
substeps:</p>
         <ol>
          <li data-md="">
           <p><a data-link-type="dfn" href="infrastructure.html#collect-a-sequence-of-characters">Collect a sequence of characters</a> consisting of <a data-link-type="dfn" href="infrastructure.html#space-characters">space characters</a> and <a data-link-type="dfn" href="infrastructure.html#ascii-digits">ASCII digits</a>. Let <var>s</var> be the resulting sequence.</p>
          </li><li data-md="">
           <p>Remove all <a data-link-type="dfn" href="infrastructure.html#space-characters">space characters</a> in <var>s</var>.</p>
          </li><li data-md="">
           <p>If <var>s</var> is not the empty string, run these subsubsteps:</p>
           <ol>
            <li data-md="">
             <p>Let <var>length</var> be the number of characters in <var>s</var> (after the
spaces were removed).</p>
            </li><li data-md="">
             <p>Let <var>fraction</var> be the result of interpreting <var>s</var> as a base-ten
integer, and then dividing that number by 10<sup><var>length</var></sup>.</p>
            </li><li data-md="">
             <p>Increment <var>value</var> by <var>fraction</var>.</p>
           </li></ol>
         </li></ol>
        </li><li data-md="">
         <p><a data-link-type="dfn" href="infrastructure.html#skip-whitespace">Skip whitespace</a>.</p>
        </li><li data-md="">
         <p>If the character at <var>position</var> is a U+0025 PERCENT SIGN character (%), then set <var>unit</var> to <i>percentage</i>.</p>
       </li></ol>
       <p>Otherwise, if the character at <var>position</var> is a U+002A ASTERISK character
(*), then set <var>unit</var> to <i>relative</i>.</p>
       <ol start="9">
        <li data-md="">
         <p>Add an entry to <var>result</var> consisting of the number given by <var>value</var> and
the unit given by <var>unit</var>.</p>
       </li></ol>
      </li><li data-md="">
       <p>Return the list <var>result</var>.</p>
     </li></ol>
    </div>
    <h4 class="heading settled" data-level="2.4.5" id="dates-and-times"><span class="secno">2.4.5. </span><span class="content">Dates and times</span><a class="self-link" href="infrastructure.html#dates-and-times"></a></h4>
    <p>In the algorithms below, the <dfn data-dfn-type="dfn" data-noexport="" id="number-of-days-in-month-month-of-year-year">number of days in month <var>month</var> of year <var>year</var><a class="self-link" href="infrastructure.html#number-of-days-in-month-month-of-year-year"></a></dfn> is: <em>31</em> if <var>month</var> is 1, 3, 5, 7, 8, 10, or 12; <em>30</em> if <var>month</var> is 4, 6, 9, or 11; <em>29</em> if <var>month</var> is 2 and <var>year</var> is a number divisible by 400, or if <var>year</var> is a number divisible by 4 but not by 100; and <em>28</em> otherwise. This takes
  into account leap years in the Gregorian calendar. <a data-link-type="biblio" href="references.html#biblio-gregorian">[GREGORIAN]</a></p>
    <p>When <a data-link-type="dfn" href="infrastructure.html#ascii-digits">ASCII digits</a> are used in the date and time syntaxes defined in this section, they
  express numbers in base ten.</p>
    <p></p>
    <div class="impl">
     <p class="note" role="note"> While the formats described here are intended to be subsets of the corresponding ISO8601
      formats, this specification defines parsing rules in much more detail than ISO8601.
      Implementors are therefore encouraged to carefully examine any date parsing libraries before
      using them to implement the parsing rules described below; ISO8601 libraries might not parse
      dates and times in exactly the same manner. <a data-link-type="biblio" href="references.html#biblio-iso8601">[ISO8601]</a> </p>
    </div>
    <p>Where this specification refers to the <dfn data-dfn-type="dfn" data-noexport="" id="proleptic-gregorian-calendar">proleptic Gregorian calendar<a class="self-link" href="infrastructure.html#proleptic-gregorian-calendar"></a></dfn>, it means the
  modern Gregorian calendar, extrapolated backwards to year 1. A date in the <a data-link-type="dfn" href="infrastructure.html#proleptic-gregorian-calendar">proleptic Gregorian calendar</a>, sometimes explicitly referred to as a <dfn data-dfn-type="dfn" data-noexport="" id="proleptic-gregorian-date">proleptic-Gregorian date<a class="self-link" href="infrastructure.html#proleptic-gregorian-date"></a></dfn>, is one that is described using that calendar even if that
  calendar was not in use at the time (or place) in question. <a data-link-type="biblio" href="references.html#biblio-gregorian">[GREGORIAN]</a></p>
    <p class="note" role="note"> The use of the Gregorian calendar as the wire format in this specification is an arbitrary
    choice resulting from the cultural biases of those involved in the decision. See also the
    section discussing <a href="semantics.html#date-time-and-number-formats">date, time, and number formats</a> in forms <span class="impl">(for
    authors), <a href="semantics.html#implementation-notes-regarding-localization-of-form-controls">implementation notes regarding localization of form controls</a>,</span> and the <code><a data-link-type="element" href="semantics.html#elementdef-time">time</a></code> element. </p>
    <h5 class="heading settled" data-level="2.4.5.1" id="months"><span class="secno">2.4.5.1. </span><span class="content">Months</span><a class="self-link" href="infrastructure.html#months"></a></h5>
    <p>A <dfn data-dfn-type="dfn" data-noexport="" id="month">month<a class="self-link" href="infrastructure.html#month"></a></dfn> consists of a specific <a data-link-type="dfn" href="infrastructure.html#proleptic-gregorian-date">proleptic-Gregorian date</a> with no time-zone
  information and no date information beyond a year and a month. <a data-link-type="biblio" href="references.html#biblio-gregorian">[GREGORIAN]</a></p>
    <p>A string is a <dfn data-dfn-type="dfn" data-noexport="" id="valid-month-string">valid month string<a class="self-link" href="infrastructure.html#valid-month-string"></a></dfn> representing a year <var>year</var> and month <var>month</var> if it consists of the following components in the given order:</p>
    <ol>
     <li data-md="">
      <p>Four or more <a data-link-type="dfn" href="infrastructure.html#ascii-digits">ASCII digits</a>, representing <var>year</var>, where <var>year</var>&nbsp;&gt;&nbsp;0</p>
     </li><li data-md="">
      <p>A U+002D HYPHEN-MINUS character (-)</p>
     </li><li data-md="">
      <p>Two <a data-link-type="dfn" href="infrastructure.html#ascii-digits">ASCII digits</a>, representing the month <var>month</var>, in the range
  1&nbsp;≤&nbsp;<var>month</var>&nbsp;≤&nbsp;12</p>
    </li></ol>
    <div class="impl">
      The rules to <dfn data-dfn-type="dfn" data-lt="parsing a month string|parse a month string|parsing a month" data-noexport="" id="parsing-a-month-string">parse a month string<a class="self-link" href="infrastructure.html#parsing-a-month-string"></a></dfn> are as follows. This will return either a year and
    month, or nothing. If at any point the algorithm says that it "fails", this means that it is
    aborted at that point and returns nothing.
     <p></p>
     <ol>
      <li data-md="">
       <p>Let <var>input</var> be the string being parsed.</p>
       <p></p>
      </li><li data-md="">
       <p>Let <var>position</var> be a pointer into <var>input</var>, initially pointing at the start
of the string.</p>
      </li><li data-md="">
       <p><a data-link-type="dfn" href="infrastructure.html#parse-a-month-component">Parse a month component</a> to obtain <var>year</var> and <var>month</var>. If this
returns nothing, then fail.</p>
      </li><li data-md="">
       <p>If <var>position</var> is <em>not</em> beyond the end of <var>input</var>, then fail.</p>
      </li><li data-md="">
       <p>Return <var>year</var> and <var>month</var>.</p>
     </li></ol>
     <p>The rules to <dfn data-dfn-type="dfn" data-noexport="" id="parse-a-month-component">parse a month component<a class="self-link" href="infrastructure.html#parse-a-month-component"></a></dfn>, given an <var>input</var> string and a <var>position</var>, are as follows. This will return either a year and a month, or nothing. If
    at any point the algorithm says that it "fails", this means that it is aborted at that point and
    returns nothing.</p>
     <ol>
      <li data-md="">
       <p><a data-link-type="dfn" href="infrastructure.html#collect-a-sequence-of-characters">Collect a sequence of characters</a> that are <a data-link-type="dfn" href="infrastructure.html#ascii-digits">ASCII digits</a>. If the collected
sequence is not at least four characters long, then fail. Otherwise, interpret the resulting
sequence as a base-ten integer. Let that number be the <var>year</var>.</p>
      </li><li data-md="">
       <p>If <var>year</var> is not a number greater than zero, then fail.</p>
      </li><li data-md="">
       <p>If <var>position</var> is beyond the end of <var>input</var> or if the character at <var>position</var> is not a U+002D HYPHEN-MINUS character, then fail. Otherwise, move <var>position</var> forwards one character.</p>
      </li><li data-md="">
       <p><a data-link-type="dfn" href="infrastructure.html#collect-a-sequence-of-characters">Collect a sequence of characters</a> that are <a data-link-type="dfn" href="infrastructure.html#ascii-digits">ASCII digits</a>. If the collected
sequence is not exactly two characters long, then fail. Otherwise, interpret the resulting
sequence as a base-ten integer. Let that number be the <var>month</var>.</p>
      </li><li data-md="">
       <p>If <var>month</var> is not a number in the range
1&nbsp;≤&nbsp;<var>month</var>&nbsp;≤&nbsp;12, then fail.</p>
      </li><li data-md="">
       <p>Return <var>year</var> and <var>month</var>.</p>
     </li></ol>
    </div>
    <h5 class="heading settled" data-level="2.4.5.2" id="sec-dates"><span class="secno">2.4.5.2. </span><span class="content">Dates</span><a class="self-link" href="infrastructure.html#sec-dates"></a></h5>
    <p>A <dfn data-dfn-for="dates" data-dfn-type="dfn" data-lt="date|dates" data-noexport="" id="dates-date">date<a class="self-link" href="infrastructure.html#dates-date"></a></dfn> consists of a specific <a data-link-type="dfn" href="infrastructure.html#proleptic-gregorian-date">proleptic-Gregorian date</a> with no time-zone
  information, consisting of a year, a month, and a day. <a data-link-type="biblio" href="references.html#biblio-gregorian">[GREGORIAN]</a></p>
    <p>A string is a <dfn data-dfn-type="dfn" data-noexport="" id="valid-date-string">valid date string<a class="self-link" href="infrastructure.html#valid-date-string"></a></dfn> representing a year <var>year</var>, month <var>month</var>, and day <var>day</var> if it consists of the following components in the given
  order:</p>
    <ol>
     <li data-md="">
      <p>A <a data-link-type="dfn" href="infrastructure.html#valid-month-string">valid month string</a>, representing <var>year</var> and <var>month</var></p>
     </li><li data-md="">
      <p>A U+002D HYPHEN-MINUS character (-)</p>
     </li><li data-md="">
      <p>Two <a data-link-type="dfn" href="infrastructure.html#ascii-digits">ASCII digits</a>, representing <var>day</var>, in the range
  1&nbsp;≤&nbsp;<var>day</var>&nbsp;≤&nbsp;<var>maxday</var> where <var>maxday</var> is
  the <a data-link-type="dfn" href="infrastructure.html#number-of-days-in-month-month-of-year-year">number of days in the month <var>month</var> and year <var>year</var></a></p>
    </li></ol>
    <div class="impl">
      The rules to <dfn data-dfn-type="dfn" data-lt="parsing a date string|parse a date string|parsing a date" data-noexport="" id="parsing-a-date-string">parse a date string<a class="self-link" href="infrastructure.html#parsing-a-date-string"></a></dfn> are as follows. This will return either a date, or
    nothing. If at any point the algorithm says that it "fails", this means that it is aborted at
    that point and returns nothing. 
     <ol>
      <li data-md="">
       <p>Let <var>input</var> be the string being parsed.</p>
       <p></p>
      </li><li data-md="">
       <p>Let <var>position</var> be a pointer into <var>input</var>, initially pointing at the start
of the string.</p>
      </li><li data-md="">
       <p><a data-link-type="dfn" href="infrastructure.html#parse-a-date-component">Parse a date component</a> to obtain <var>year</var>, <var>month</var>, and <var>day</var>. If this returns nothing, then fail.</p>
      </li><li data-md="">
       <p>If <var>position</var> is <em>not</em> beyond the end of <var>input</var>, then fail.</p>
      </li><li data-md="">
       <p>Let <var>date</var> be the date with year <var>year</var>, month <var>month</var>, and day <var>day</var>.</p>
      </li><li data-md="">
       <p>Return <var>date</var>.</p>
     </li></ol>
     <p>The rules to <dfn data-dfn-type="dfn" data-noexport="" id="parse-a-date-component">parse a date component<a class="self-link" href="infrastructure.html#parse-a-date-component"></a></dfn>, given an <var>input</var> string and a <var>position</var>, are as follows. This will return either a year, a month, and a day, or
    nothing. If at any point the algorithm says that it "fails", this means that it is aborted at
    that point and returns nothing.</p>
     <ol>
      <li data-md="">
       <p><a data-link-type="dfn" href="infrastructure.html#parse-a-month-component">Parse a month component</a> to obtain <var>year</var> and <var>month</var>. If this
returns nothing, then fail.</p>
      </li><li data-md="">
       <p>Let <var>maxday</var> be the <a data-link-type="dfn" href="infrastructure.html#number-of-days-in-month-month-of-year-year">number of days in month <var>month</var> of year <var>year</var></a>.</p>
      </li><li data-md="">
       <p>If <var>position</var> is beyond the end of <var>input</var> or if the character at <var>position</var> is not a U+002D HYPHEN-MINUS character, then fail. Otherwise, move <var>position</var> forwards one character.</p>
      </li><li data-md="">
       <p><a data-link-type="dfn" href="infrastructure.html#collect-a-sequence-of-characters">Collect a sequence of characters</a> that are <a data-link-type="dfn" href="infrastructure.html#ascii-digits">ASCII digits</a>. If the collected
sequence is not exactly two characters long, then fail. Otherwise, interpret the resulting
sequence as a base-ten integer. Let that number be the <var>day</var>.</p>
      </li><li data-md="">
       <p>If <var>day</var> is not a number in the range
1&nbsp;≤&nbsp;<var>day</var>&nbsp;≤&nbsp;<var>maxday</var>, then fail.</p>
      </li><li data-md="">
       <p>Return <var>year</var>, <var>month</var>, and <var>day</var>.</p>
     </li></ol>
    </div>
    <h5 class="heading settled" data-level="2.4.5.3" id="yearless-dates"><span class="secno">2.4.5.3. </span><span class="content">Yearless dates</span><a class="self-link" href="infrastructure.html#yearless-dates"></a></h5>
    <p>A <dfn data-dfn-type="dfn" data-noexport="" id="yearless-date">yearless date<a class="self-link" href="infrastructure.html#yearless-date"></a></dfn> consists of a Gregorian month and a
  day within that month, but with no associated year. <a data-link-type="biblio" href="references.html#biblio-gregorian">[GREGORIAN]</a></p>
    <p>A string is a <dfn data-dfn-type="dfn" data-noexport="" id="valid-yearless-date-string">valid yearless date string<a class="self-link" href="infrastructure.html#valid-yearless-date-string"></a></dfn> representing a month <var>month</var> and a
  day <var>day</var> if it consists of the following components in the given order:</p>
    <ol>
     <li data-md="">
      <p>Optionally, two U+002D HYPHEN-MINUS characters (-)</p>
     </li><li data-md="">
      <p>Two <a data-link-type="dfn" href="infrastructure.html#ascii-digits">ASCII digits</a>, representing the month <var>month</var>, in the range
  1&nbsp;≤&nbsp;<var>month</var>&nbsp;≤&nbsp;12</p>
     </li><li data-md="">
      <p>A U+002D HYPHEN-MINUS character (-)</p>
     </li><li data-md="">
      <p>Two <a data-link-type="dfn" href="infrastructure.html#ascii-digits">ASCII digits</a>, representing <var>day</var>, in the range
  1&nbsp;≤&nbsp;<var>day</var>&nbsp;≤&nbsp;<var>maxday</var> where <var>maxday</var> is
  the <a data-link-type="dfn" href="infrastructure.html#number-of-days-in-month-month-of-year-year">number of days</a> in the month <var>month</var> and any arbitrary leap year (e.g. 4 or
  2000)</p>
    </li></ol>
    <p class="note" role="note"> In other words, if the <var>month</var> is "<code>02</code>", meaning February, then the day can
    be 29, as if the year was a leap year. </p>
    <div class="impl">
      The rules to <dfn data-dfn-type="dfn" data-lt="parsing a yearless date string|parse a yearless date string" data-noexport="" id="parsing-a-yearless-date-string">parse a yearless date string<a class="self-link" href="infrastructure.html#parsing-a-yearless-date-string"></a></dfn> are as follows. This will return either a
    month and a day, or nothing. If at any point the algorithm says that it "fails", this means that
    it is aborted at that point and returns nothing. 
     <ol>
      <li data-md="">
       <p>Let <var>input</var> be the string being parsed.</p>
      </li><li data-md="">
       <p>Let <var>position</var> be a pointer into <var>input</var>, initially pointing at the start
of the string.</p>
      </li><li data-md="">
       <p><a data-link-type="dfn" href="infrastructure.html#parse-a-yearless-date-component">Parse a yearless date component</a> to obtain <var>month</var> and <var>day</var>. If this
returns nothing, then fail.</p>
      </li><li data-md="">
       <p>If <var>position</var> is <em>not</em> beyond the end of <var>input</var>, then fail.</p>
      </li><li data-md="">
       <p>Return <var>month</var> and <var>day</var>.</p>
     </li></ol>
     <p>The rules to <dfn data-dfn-type="dfn" data-noexport="" id="parse-a-yearless-date-component">parse a yearless date component<a class="self-link" href="infrastructure.html#parse-a-yearless-date-component"></a></dfn>, given an <var>input</var> string and a <var>position</var>, are as follows. This will return either a month and a day, or nothing. If
    at any point the algorithm says that it "fails", this means that it is aborted at that point and
    returns nothing.</p>
     <ol>
      <li data-md="">
       <p><a data-link-type="dfn" href="infrastructure.html#collect-a-sequence-of-characters">Collect a sequence of characters</a> that are U+002D HYPHEN-MINUS characters (-). If the
collected sequence is not exactly zero or two characters long, then fail.</p>
      </li><li data-md="">
       <p><a data-link-type="dfn" href="infrastructure.html#collect-a-sequence-of-characters">Collect a sequence of characters</a> that are <a data-link-type="dfn" href="infrastructure.html#ascii-digits">ASCII digits</a>. If the collected
sequence is not exactly two characters long, then fail. Otherwise, interpret the resulting
sequence as a base-ten integer. Let that number be the <var>month</var>.</p>
      </li><li data-md="">
       <p>If <var>month</var> is not a number in the range
1&nbsp;≤&nbsp;<var>month</var>&nbsp;≤&nbsp;12, then fail.</p>
      </li><li data-md="">
       <p>Let <var>maxday</var> be the <a data-link-type="dfn" href="infrastructure.html#number-of-days-in-month-month-of-year-year">number of days</a> in month <var>month</var> of any arbitrary
leap year (e.g. 4 or 2000).</p>
      </li><li data-md="">
       <p>If <var>position</var> is beyond the end of <var>input</var> or if the character at <var>position</var> is not a U+002D HYPHEN-MINUS character, then fail. Otherwise, move <var>position</var> forwards one character.</p>
      </li><li data-md="">
       <p><a data-link-type="dfn" href="infrastructure.html#collect-a-sequence-of-characters">Collect a sequence of characters</a> that are <a data-link-type="dfn" href="infrastructure.html#ascii-digits">ASCII digits</a>. If the collected
sequence is not exactly two characters long, then fail. Otherwise, interpret the resulting
sequence as a base-ten integer. Let that number be the <var>day</var>.</p>
      </li><li data-md="">
       <p>If <var>day</var> is not a number in the range
1&nbsp;≤&nbsp;<var>day</var>&nbsp;≤&nbsp;<var>maxday</var>, then fail.</p>
      </li><li data-md="">
       <p>Return <var>month</var> and <var>day</var>.</p>
     </li></ol>
    </div>
    <h5 class="heading settled" data-level="2.4.5.4" id="times"><span class="secno">2.4.5.4. </span><span class="content">Times</span><a class="self-link" href="infrastructure.html#times"></a></h5>
    <p>A <dfn data-dfn-type="dfn" data-noexport="" id="time">time<a class="self-link" href="infrastructure.html#time"></a></dfn> consists of a specific time with no time-zone information, consisting of an
  hour, a minute, a second, and a fraction of a second.</p>
    <p>A string is a <dfn data-dfn-type="dfn" data-noexport="" id="valid-time-string">valid time string<a class="self-link" href="infrastructure.html#valid-time-string"></a></dfn> representing an hour <var>hour</var>, a minute <var>minute</var>, and a second <var>second</var> if it consists of the following components in
  the given order:</p>
    <ol>
     <li data-md="">
      <p>Two <a data-link-type="dfn" href="infrastructure.html#ascii-digits">ASCII digits</a>, representing <var>hour</var>, in the range
  0&nbsp;≤&nbsp;<var>hour</var>&nbsp;≤&nbsp;23</p>
     </li><li data-md="">
      <p>A U+003A COLON character (:)</p>
     </li><li data-md="">
      <p>Two <a data-link-type="dfn" href="infrastructure.html#ascii-digits">ASCII digits</a>, representing <var>minute</var>, in the range
  0&nbsp;≤&nbsp;<var>minute</var>&nbsp;≤&nbsp;59</p>
     </li><li data-md="">
      <p>If <var>second</var> is non-zero, or optionally if <var>second</var> is zero:</p>
      <ol>
       <li data-md="">
        <p>A U+003A COLON character (:)</p>
       </li><li data-md="">
        <p>Two <a data-link-type="dfn" href="infrastructure.html#ascii-digits">ASCII digits</a>, representing the integer part of <var>second</var>, in the
  range 0&nbsp;≤&nbsp;<var>s</var>&nbsp;≤&nbsp;59</p>
       </li><li data-md="">
        <p>If <var>second</var> is not an integer, or optionally if <var>second</var> is an integer:</p>
        <ol>
         <li data-md="">
          <p>A 002E FULL STOP character (.)</p>
         </li><li data-md="">
          <p>One, two, or three <a data-link-type="dfn" href="infrastructure.html#ascii-digits">ASCII digits</a>, representing the fractional part of <var>second</var></p>
        </li></ol>
      </li></ol>
    </li></ol>
    <p class="note" role="note"> The <var>second</var> component cannot be 60 or 61; leap seconds cannot be represented. </p>
    <div class="impl">
      The rules to <dfn data-dfn-type="dfn" data-lt="parsing a time string|parse a time string|parsing a time" data-noexport="" id="parsing-a-time-string">parse a time string<a class="self-link" href="infrastructure.html#parsing-a-time-string"></a></dfn> are as follows. This will return either a time, or
    nothing. If at any point the algorithm says that it "fails", this means that it is aborted at
    that point and returns nothing. 
     <ol>
      <li data-md="">
       <p>Let <var>input</var> be the string being parsed.</p>
      </li><li data-md="">
       <p>Let <var>position</var> be a pointer into <var>input</var>, initially pointing at the start
of the string.</p>
      </li><li data-md="">
       <p><a data-link-type="dfn" href="infrastructure.html#parse-a-time-component">Parse a time component</a> to obtain <var>hour</var>, <var>minute</var>, and <var>second</var>. If this returns nothing, then fail.</p>
      </li><li data-md="">
       <p>If <var>position</var> is <em>not</em> beyond the end of <var>input</var>, then fail.</p>
      </li><li data-md="">
       <p>Let <var>time</var> be the time with hour <var>hour</var>, minute <var>minute</var>, and
second <var>second</var>.</p>
      </li><li data-md="">
       <p>Return <var>time</var>.</p>
     </li></ol>
     <p>The rules to <dfn data-dfn-type="dfn" data-noexport="" id="parse-a-time-component">parse a time component<a class="self-link" href="infrastructure.html#parse-a-time-component"></a></dfn>, given an <var>input</var> string and a <var>position</var>, are as follows. This will return either an hour, a minute, and a second, or
    nothing. If at any point the algorithm says that it "fails", this means that it is aborted at
    that point and returns nothing.</p>
     <ol>
      <li data-md="">
       <p><a data-link-type="dfn" href="infrastructure.html#collect-a-sequence-of-characters">Collect a sequence of characters</a> that are <a data-link-type="dfn" href="infrastructure.html#ascii-digits">ASCII digits</a>. If the
collected sequence is not exactly two characters long, then fail. Otherwise, interpret the
resulting sequence as a base-ten integer. Let that number be the <var>hour</var>.</p>
      </li><li data-md="">
       <p>If <var>hour</var> is not a number in the range
0&nbsp;≤&nbsp;<var>hour</var>&nbsp;≤&nbsp;23, then fail.</p>
      </li><li data-md="">
       <p>If <var>position</var> is beyond the end of <var>input</var> or if the
character at <var>position</var> is not a U+003A COLON character, then fail. Otherwise,
move <var>position</var> forwards one character.</p>
      </li><li data-md="">
       <p><a data-link-type="dfn" href="infrastructure.html#collect-a-sequence-of-characters">Collect a sequence of characters</a> that are <a data-link-type="dfn" href="infrastructure.html#ascii-digits">ASCII digits</a>. If the collected
sequence is not exactly two characters long, then fail. Otherwise, interpret the resulting
sequence as a base-ten integer. Let that number be the <var>minute</var>.</p>
      </li><li data-md="">
       <p>If <var>minute</var> is not a number in the range
0&nbsp;≤&nbsp;<var>minute</var>&nbsp;≤&nbsp;59, then fail.</p>
      </li><li data-md="">
       <p>Let <var>second</var> be a string with the value "0".</p>
      </li><li data-md="">
       <p>If <var>position</var> is not beyond the end of <var>input</var> and the character at <var>position</var> is a U+003A COLON, then run these substeps:</p>
       <ol>
        <li data-md="">
         <p>Advance <var>position</var> to the next character in <var>input</var>.</p>
        </li><li data-md="">
         <p>If <var>position</var> is beyond the end of <var>input</var>, or at the last character in <var>input</var>, or if the next <em>two</em> characters in <var>input</var> starting at <var>position</var> are not both <a data-link-type="dfn" href="infrastructure.html#ascii-digits">ASCII digits</a>, then fail.</p>
        </li><li data-md="">
         <p><a data-link-type="dfn" href="infrastructure.html#collect-a-sequence-of-characters">Collect a sequence of characters</a> that are either <a data-link-type="dfn" href="infrastructure.html#ascii-digits">ASCII digits</a> or U+002E
FULL STOP characters. If the collected sequence is three characters long, or if it is
longer than three characters long and the third character is not a U+002E FULL STOP
character, or if it has more than one U+002E FULL STOP character, then fail. Otherwise,
let the collected string be <var>second</var> instead of its previous value.</p>
       </li></ol>
      </li><li data-md="">
       <p>Interpret <var>second</var> as a base-ten number (possibly with a fractional part). Let <var>second</var> be that number instead of the string version.</p>
      </li><li data-md="">
       <p>If <var>second</var> is not a number in the range
0&nbsp;≤&nbsp;<var>second</var>&nbsp;&lt;&nbsp;60, then fail.</p>
      </li><li data-md="">
       <p>Return <var>hour</var>, <var>minute</var>, and <var>second</var>.</p>
     </li></ol>
    </div>
    <h5 class="heading settled" data-level="2.4.5.5" id="floating-dates-and-times"><span class="secno">2.4.5.5. </span><span class="content">Floating dates and times</span><a class="self-link" href="infrastructure.html#floating-dates-and-times"></a></h5>
    <p>A <dfn data-dfn-type="dfn" data-noexport="" id="floating-date-and-time">floating date and time<a class="self-link" href="infrastructure.html#floating-date-and-time"></a></dfn> consists of a specific <a data-link-type="dfn" href="infrastructure.html#proleptic-gregorian-date">proleptic-Gregorian date</a>,
  consisting of a year, a month, and a day, and a time, consisting of an hour, a minute, a second,
  and a fraction of a second, but expressed without a time zone. <a data-link-type="biblio" href="references.html#biblio-gregorian">[GREGORIAN]</a></p>
    <p>A string is a <dfn data-dfn-type="dfn" data-noexport="" id="valid-floating-date-and-time-string">valid floating date and time string<a class="self-link" href="infrastructure.html#valid-floating-date-and-time-string"></a></dfn> representing a date and time if it
  consists of the following components in the given order:</p>
    <ol>
     <li data-md="">
      <p>A <a data-link-type="dfn" href="infrastructure.html#valid-date-string">valid date string</a> representing the date</p>
     </li><li data-md="">
      <p>A U+0054 LATIN CAPITAL LETTER T character (T) or a U+0020 SPACE character</p>
     </li><li data-md="">
      <p>A <a data-link-type="dfn" href="infrastructure.html#valid-time-string">valid time string</a> representing the time</p>
    </li></ol>
    <p>A string is a <dfn data-dfn-type="dfn" data-noexport="" id="valid-normalized-floating-date-and-time-string">valid normalized floating date and time string<a class="self-link" href="infrastructure.html#valid-normalized-floating-date-and-time-string"></a></dfn> representing a date and
  time if it consists of the following components in the given order:</p>
    <ol>
     <li data-md="">
      <p>A <a data-link-type="dfn" href="infrastructure.html#valid-date-string">valid date string</a> representing the date</p>
     </li><li data-md="">
      <p>A U+0054 LATIN CAPITAL LETTER T character (T)</p>
     </li><li data-md="">
      <p>A <a data-link-type="dfn" href="infrastructure.html#valid-time-string">valid time string</a> representing the time, expressed as the shortest possible string for
  the given time (e.g. omitting the seconds component entirely if the given time is zero seconds
  past the minute)</p>
    </li></ol>
    <div class="impl">
      The rules to <dfn data-dfn-type="dfn" data-lt="parsing a floating date and time string|parse a floating date and time string|parsing a floating date and time" data-noexport="" id="parsing-a-floating-date-and-time-string">parse a floating date and time string<a class="self-link" href="infrastructure.html#parsing-a-floating-date-and-time-string"></a></dfn> are as follows. This will return
    either a date and time, or nothing. If at any point the algorithm says that it "fails", this
    means that it is aborted at that point and returns nothing. 
     <ol>
      <li data-md="">
       <p>Let <var>input</var> be the string being parsed.</p>
      </li><li data-md="">
       <p>Let <var>position</var> be a pointer into <var>input</var>, initially pointing at the start
of the string.</p>
      </li><li data-md="">
       <p><a data-link-type="dfn" href="infrastructure.html#parse-a-date-component">Parse a date component</a> to obtain <var>year</var>, <var>month</var>, and <var>day</var>. If this returns nothing, then fail.</p>
      </li><li data-md="">
       <p>If <var>position</var> is beyond the end of <var>input</var> or if the character at <var>position</var> is neither a U+0054 LATIN CAPITAL LETTER T character (T) nor a U+0020
SPACE character, then fail. Otherwise, move <var>position</var> forwards one character.</p>
      </li><li data-md="">
       <p><a data-link-type="dfn" href="infrastructure.html#parse-a-time-component">Parse a time component</a> to obtain <var>hour</var>, <var>minute</var>, and <var>second</var>. If this returns nothing, then fail.</p>
      </li><li data-md="">
       <p>If <var>position</var> is <em>not</em> beyond the end of <var>input</var>, then fail.</p>
      </li><li data-md="">
       <p>Let <var>date</var> be the date with year <var>year</var>, month <var>month</var>, and day <var>day</var>.</p>
      </li><li data-md="">
       <p>Let <var>time</var> be the time with hour <var>hour</var>, minute <var>minute</var>, and
second <var>second</var>.</p>
      </li><li data-md="">
       <p>Return <var>date</var> and <var>time</var>.</p>
     </li></ol>
    </div>
    <h5 class="heading settled" data-level="2.4.5.6" id="time-zones"><span class="secno">2.4.5.6. </span><span class="content">Time zones</span><a class="self-link" href="infrastructure.html#time-zones"></a></h5>
    <p>A <dfn data-dfn-type="dfn" data-lt="time zone|time-zone offset" data-noexport="" id="time-zone">time-zone offset<a class="self-link" href="infrastructure.html#time-zone"></a></dfn> consists of a signed number of hours and minutes.</p>
    <p>A string is a <dfn data-dfn-type="dfn" data-noexport="" id="valid-time-zone-offset-string">valid time-zone offset string<a class="self-link" href="infrastructure.html#valid-time-zone-offset-string"></a></dfn> representing a time-zone offset if it
  consists of either:</p>
    <ul>
     <li data-md="">
      <p>A U+005A LATIN CAPITAL LETTER Z character (Z), allowed only if the time zone is UTC</p>
     </li><li data-md="">
      <p>Or, the following components, in the given order:</p>
      <ol>
       <li data-md="">
        <p>Either a U+002B PLUS SIGN character (+) or, if the time-zone offset is not zero, a U+002D
HYPHEN-MINUS character (-), representing the sign of the time-zone offset</p>
       </li><li data-md="">
        <p>Two <a data-link-type="dfn" href="infrastructure.html#ascii-digits">ASCII digits</a>, representing the hours component <var>hour</var> of the
time-zone offset, in the range 0&nbsp;≤&nbsp;<var>hour</var>&nbsp;≤&nbsp;23</p>
       </li><li data-md="">
        <p>Optionally, a U+003A COLON character (:)</p>
       </li><li data-md="">
        <p>Two <a data-link-type="dfn" href="infrastructure.html#ascii-digits">ASCII digits</a>, representing the minutes component <var>minute</var> of the
time-zone offset, in the range 0&nbsp;≤&nbsp;<var>minute</var>&nbsp;≤&nbsp;59</p>
      </li></ol>
    </li></ul>
    <p class="note" role="note"> This format allows for time-zone offsets from -23:59 to +23:59. In practice, however, right now
    the range of offsets of actual time zones is -12:00 to +14:00, and the minutes component of
    offsets of actual time zones is always either 00, 30, or 45. There is no guarantee that this
    will remain so forever, however; time zones are changed by countries at will and do not follow a
    standard. </p>
    <p class="note" role="note"> See also the usage notes and examples in the <a data-link-type="dfn" href="infrastructure.html#global-date-and-time">global date and time</a> section below for
    details on using time-zone offsets with historical times that predate the formation of formal
    time zones. </p>
    <div class="impl">
      The rules to <dfn data-dfn-type="dfn" data-lt="parsing a time-zone offset string|parse a time-zone offset string" data-noexport="" id="parsing-a-time-zone-offset-string">parse a time-zone offset string<a class="self-link" href="infrastructure.html#parsing-a-time-zone-offset-string"></a></dfn> are as follows. This will return either
    a time-zone offset, or nothing. If at any point the algorithm says that it "fails", this means
    that it is aborted at that point and returns nothing. 
     <ol>
      <li data-md="">
       <p>Let <var>input</var> be the string being parsed.</p>
      </li><li data-md="">
       <p>Let <var>position</var> be a pointer into <var>input</var>, initially pointing at the start
of the string.</p>
      </li><li data-md="">
       <p><a data-link-type="dfn" href="infrastructure.html#parse-a-time-zone-offset-component">Parse a time-zone offset component</a> to obtain <var>timezone<sub>hours</sub></var> and <var>timezone<sub>minutes</sub></var>. If this returns nothing, then fail.</p>
      </li><li data-md="">
       <p>If <var>position</var> is <em>not</em> beyond the end of <var>input</var>, then fail.</p>
      </li><li data-md="">
       <p>Return the time-zone offset that is <var>timezone<sub>hours</sub></var> hours and <var>timezone<sub>minutes</sub></var> minutes from UTC.</p>
     </li></ol>
     <p>The rules to <dfn data-dfn-type="dfn" data-noexport="" id="parse-a-time-zone-offset-component">parse a time-zone offset component<a class="self-link" href="infrastructure.html#parse-a-time-zone-offset-component"></a></dfn>, given an <var>input</var> string and
    a <var>position</var>, are as follows. This will return either time-zone hours and time-zone
    minutes, or nothing. If at any point the algorithm says that it "fails", this means that it is
    aborted at that point and returns nothing.</p>
     <ol>
      <li data-md="">
       <p>If the character at <var>position</var> is a U+005A LATIN CAPITAL LETTER Z character (Z),
then:</p>
       <ol>
        <li data-md="">
         <p>Let <var>timezone<sub>hours</sub></var> be 0.</p>
        </li><li data-md="">
         <p>Let <var>timezone<sub>minutes</sub></var> be 0.</p>
        </li><li data-md="">
         <p>Advance <var>position</var> to the next character in <var>input</var>.</p>
       </li></ol>
       <p>Otherwise, if the character at <var>position</var> is either a U+002B PLUS SIGN (+) or a
U+002D HYPHEN-MINUS (-), then:</p>
       <ol>
        <li data-md="">
         <p>If the character at <var>position</var> is a U+002B PLUS SIGN (+), let <var>sign</var> be
"positive". Otherwise, it’s a U+002D HYPHEN-MINUS (-); let <var>sign</var> be
"negative".</p>
        </li><li data-md="">
         <p>Advance <var>position</var> to the next character in <var>input</var>.</p>
        </li><li data-md="">
         <p><a data-link-type="dfn" href="infrastructure.html#collect-a-sequence-of-characters">Collect a sequence of characters</a> that are <a data-link-type="dfn" href="infrastructure.html#ascii-digits">ASCII digits</a>. Let <var>s</var> be
the collected sequence.</p>
        </li><li data-md="">
         <p>If <var>s</var> is exactly two characters long, then run these substeps:</p>
         <ol>
          <li data-md="">
           <p>Interpret <var>s</var> as a base-ten integer. Let that number be the <var>timezone<sub>hours</sub></var>.</p>
          </li><li data-md="">
           <p>If <var>position</var> is beyond the end of <var>input</var> or if the character at <var>position</var> is not a U+003A COLON character, then fail. Otherwise, move <var>position</var> forwards one character.</p>
          </li><li data-md="">
           <p><a data-link-type="dfn" href="infrastructure.html#collect-a-sequence-of-characters">Collect a sequence of characters</a> that are <a data-link-type="dfn" href="infrastructure.html#ascii-digits">ASCII digits</a>. If the
collected sequence is not exactly two characters long, then fail. Otherwise,
interpret the resulting sequence as a base-ten integer. Let that number be the <var>timezone<sub>minutes</sub></var>.</p>
         </li></ol>
         <p>If <var>s</var> is exactly four characters long, then run these substeps:</p>
         <ol>
          <li data-md="">
           <p>Interpret the first two characters of <var>s</var> as a base-ten integer. Let that
number be the <var>timezone<sub>hours</sub></var>.</p>
          </li><li data-md="">
           <p>Interpret the last two characters of <var>s</var> as a base-ten integer. Let that
number be the <var>timezone<sub>minutes</sub></var>.</p>
         </li></ol>
         <p>Otherwise, fail.</p>
         <p></p>
        </li><li data-md="">
         <p>If <var>timezone<sub>hours</sub></var> is not a number in the range
0&nbsp;≤&nbsp;<var>timezone<sub>hours</sub></var>&nbsp;≤&nbsp;23, then fail.</p>
        </li><li data-md="">
         <p>If <var>sign</var> is "negative", then negate <var>timezone<sub>hours</sub></var>.</p>
        </li><li data-md="">
         <p>If <var>timezone<sub>minutes</sub></var> is not a number in the range
0&nbsp;≤&nbsp;<var>timezone<sub>minutes</sub></var>&nbsp;≤&nbsp;59, then fail.</p>
        </li><li data-md="">
         <p>If <var>sign</var> is "negative", then negate <var>timezone<sub>minutes</sub></var>.</p>
       </li></ol>
       <p>Otherwise, fail.</p>
      </li><li data-md="">
       <p>Return <var>timezone<sub>hours</sub></var> and <var>timezone<sub>minutes</sub></var>.</p>
     </li></ol>
    </div>
    <h5 class="heading settled" data-level="2.4.5.7" id="global-dates-and-times"><span class="secno">2.4.5.7. </span><span class="content">Global dates and times</span><a class="self-link" href="infrastructure.html#global-dates-and-times"></a></h5>
    <p>A <dfn data-dfn-type="dfn" data-noexport="" id="global-date-and-time">global date and time<a class="self-link" href="infrastructure.html#global-date-and-time"></a></dfn> consists of a specific <a data-link-type="dfn" href="infrastructure.html#proleptic-gregorian-date">proleptic-Gregorian date</a>,
  consisting of a year, a month, and a day, and a time, consisting of an hour, a minute, a second,
  and a fraction of a second, expressed with a time-zone offset, consisting of a signed number of
  hours and minutes. <a data-link-type="biblio" href="references.html#biblio-gregorian">[GREGORIAN]</a></p>
    <p>A string is a <dfn data-dfn-type="dfn" data-noexport="" id="valid-global-date-and-time-string">valid global date and time string<a class="self-link" href="infrastructure.html#valid-global-date-and-time-string"></a></dfn> representing a date, time, and a
  time-zone offset if it consists of the following components in the given order:</p>
    <ol>
     <li data-md="">
      <p>A <a data-link-type="dfn" href="infrastructure.html#valid-date-string">valid date string</a> representing the date</p>
     </li><li data-md="">
      <p>A U+0054 LATIN CAPITAL LETTER T character (T) or a U+0020 SPACE character</p>
     </li><li data-md="">
      <p>A <a data-link-type="dfn" href="infrastructure.html#valid-time-string">valid time string</a> representing the time</p>
     </li><li data-md="">
      <p>A <a data-link-type="dfn" href="infrastructure.html#valid-time-zone-offset-string">valid time-zone offset string</a> representing the time-zone offset</p>
    </li></ol>
    <p>Times in dates before the formation of UTC in the mid twentieth century must be expressed and
  interpreted in terms of UT1 (contemporary Earth solar time at the 0° longitude), not UTC (the
  approximation of UT1 that ticks in SI seconds). Time before the formation of time zones must be
  expressed and interpreted as UT1 times with explicit time zones that approximate the contemporary
  difference between the appropriate local time and the time observed at the location of Greenwich,
  London.</p>
    <div class="example" id="example-889ec007">
     <a class="self-link" href="infrastructure.html#example-889ec007"></a> The following are some examples of dates written as <a data-link-type="dfn" href="infrastructure.html#valid-global-date-and-time-string">valid global date and time strings</a>. 
     <dl>
      <dt data-md="">
       <p>"<code>0037-12-13 00:00Z</code>"</p>
      </dt><dd data-md="">
       <p>Midnight in areas using London time on the birthday of Nero (the Roman Emperor). See below
for further discussion on which date this actually corresponds to.</p>
      </dd><dt data-md="">
       <p>"<code>1979-10-14T12:00:00.001-04:00</code>"</p>
      </dt><dd data-md="">
       <p>One millisecond after noon on October 14th 1979, in the time zone in use on the east coast of
the USA during daylight saving time.</p>
      </dd><dt data-md="">
       <p>"<code>8592-01-01T02:09+02:09</code>"</p>
      </dt><dd data-md="">
       <p>Midnight UTC on the 1st of January, 8592. The time zone associated with that time is two
hours and nine minutes ahead of UTC, which is not currently a real time zone, but is
nonetheless allowed.</p>
     </dd></dl>
     <p>Several things are notable about these dates:</p>
     <ul>
      <li data-md="">
       <p>Years with fewer than four digits have to be zero-padded. The date "37-12-13" would not be a
valid date.</p>
      </li><li data-md="">
       <p>If the "<code>T</code>" is replaced by a space, it must be a single space character. The
string "<code>2001-12-21&nbsp;&nbsp;12:00Z</code>" (with two spaces between the components)
would not be parsed successfully.</p>
      </li><li data-md="">
       <p>To unambiguously identify a moment in time prior to the introduction of the Gregorian calendar
(insofar as moments in time before the formation of UTC can be unambiguously identified),
the date has to be first converted to the Gregorian calendar from the calendar in use at the
time (e.g. from the Julian calendar). The date of Nero’s birth is the 15th of December 37,
in the Julian Calendar, which is the 13th of December 37 in the <a data-link-type="dfn" href="infrastructure.html#proleptic-gregorian-calendar">proleptic Gregorian calendar</a>.</p>
      </li><li data-md="">
       <p>The time and time-zone offset components are not optional.</p>
      </li><li data-md="">
       <p>Dates before the year one can’t be represented as a datetime in this version of HTML.</p>
      </li><li data-md="">
       <p>Times of specific events in ancient times are, at best, approximations, since time was not
well coordinated or measured until relatively recent decades.</p>
      </li><li data-md="">
       <p>Time-zone offsets differ based on daylight savings time.</p>
     </li></ul>
    </div>
    <p class="note" role="note"> The zone offset is not a complete time zone specification. When working with real date and time
    values, consider using a separate field for time zone, perhaps using IANA time zone IDs. <a data-link-type="biblio" href="references.html#biblio-timezone">[TIMEZONE]</a> </p>
    <p>A string is a <dfn data-dfn-type="dfn" data-noexport="" id="valid-normalized-global-date-and-time-string">valid normalized global date and time string<a class="self-link" href="infrastructure.html#valid-normalized-global-date-and-time-string"></a></dfn> representing a
  date, time, and a time-zone offset if it consists of the following components in the given order:</p>
    <ol>
     <li data-md="">
      <p>A <a data-link-type="dfn" href="infrastructure.html#valid-date-string">valid date string</a> representing the date converted to the UTC time zone</p>
     </li><li data-md="">
      <p>A U+0054 LATIN CAPITAL LETTER T character (T)</p>
     </li><li data-md="">
      <p>A <a data-link-type="dfn" href="infrastructure.html#valid-time-string">valid time string</a> representing the time converted to the UTC time zone and expressed
  as the shortest possible string for the given time (e.g. omitting the seconds component
  entirely if the given time is zero seconds past the minute)</p>
     </li><li data-md="">
      <p>A U+005A LATIN CAPITAL LETTER Z character (Z)</p>
    </li></ol>
    <div class="impl">
      The rules to <dfn data-dfn-type="dfn" data-lt="parse a global date and time string|parsing a date and time" data-noexport="" id="parse-a-global-date-and-time-string">parse a global date and time string<a class="self-link" href="infrastructure.html#parse-a-global-date-and-time-string"></a></dfn> are as follows. This will return
    either a time in UTC, with associated time-zone offset information for round-tripping or display
    purposes, or nothing. If at any point the algorithm says that it "fails", this means that it is
    aborted at that point and returns nothing. 
     <ol>
      <li data-md="">
       <p>Let <var>input</var> be the string being parsed.</p>
      </li><li data-md="">
       <p>Let <var>position</var> be a pointer into <var>input</var>, initially pointing at the start
of the string.</p>
      </li><li data-md="">
       <p><a data-link-type="dfn" href="infrastructure.html#parse-a-date-component">Parse a date component</a> to obtain <var>year</var>, <var>month</var>, and <var>day</var>. If this returns nothing, then fail.</p>
      </li><li data-md="">
       <p>If <var>position</var> is beyond the end of <var>input</var> or if the character at <var>position</var> is neither a U+0054 LATIN CAPITAL LETTER T character (T) nor a U+0020
SPACE character, then fail. Otherwise, move <var>position</var> forwards one character.</p>
      </li><li data-md="">
       <p><a data-link-type="dfn" href="infrastructure.html#parse-a-time-component">Parse a time component</a> to obtain <var>hour</var>, <var>minute</var>, and <var>second</var>. If this returns nothing, then fail.</p>
      </li><li data-md="">
       <p>If <var>position</var> is beyond the end of <var>input</var>, then fail.</p>
      </li><li data-md="">
       <p><a data-link-type="dfn" href="infrastructure.html#parse-a-time-zone-offset-component">Parse a time-zone offset component</a> to obtain <var>timezone<sub>hours</sub></var> and <var>timezone<sub>minutes</sub></var>. If this returns nothing, then fail.</p>
      </li><li data-md="">
       <p>If <var>position</var> is <em>not</em> beyond the end of <var>input</var>, then fail.</p>
      </li><li data-md="">
       <p>Let <var>time</var> be the moment in time at year <var>year</var>, month <var>month</var>,
day <var>day</var>, hours <var>hour</var>, minute <var>minute</var>, second <var>second</var>, subtracting <var>timezone<sub>hours</sub></var> hours and <var>timezone<sub>minutes</sub></var> minutes. That moment in time is a moment in the UTC
time zone.</p>
      </li><li data-md="">
       <p>Let <var>timezone</var> be <var>timezone<sub>hours</sub></var> hours and <var>timezone<sub>minutes</sub></var> minutes from UTC.</p>
      </li><li data-md="">
       <p>Return <var>time</var> and <var>timezone</var>.</p>
     </li></ol>
    </div>
    <h5 class="heading settled" data-level="2.4.5.8" id="weeks"><span class="secno">2.4.5.8. </span><span class="content">Weeks</span><a class="self-link" href="infrastructure.html#weeks"></a></h5>
    <p>A <dfn data-dfn-type="dfn" data-noexport="" id="week">week<a class="self-link" href="infrastructure.html#week"></a></dfn> consists of a week-year number and a week number representing a seven-day period
  starting on a Monday. Each week-year in this calendaring system has either 52 or 53 such seven-day
  periods, as defined below. The seven-day period starting on the Gregorian date Monday December
  29th 1969 (1969-12-29) is defined as week number 1 in week-year 1970. Consecutive weeks are
  numbered sequentially. The week before the number 1 week in a week-year is the last week in the
  previous week-year, and vice versa. <a data-link-type="biblio" href="references.html#biblio-gregorian">[GREGORIAN]</a></p>
    <p>A week-year with a number <var>year</var> has 53 weeks if it corresponds to either a year <var>year</var> in the <a data-link-type="dfn" href="infrastructure.html#proleptic-gregorian-calendar">proleptic Gregorian calendar</a> that has a Thursday as its first
  day (January 1st), or a year <var>year</var> in the <a data-link-type="dfn" href="infrastructure.html#proleptic-gregorian-calendar">proleptic Gregorian calendar</a> that has
  a Wednesday as its first day (January 1st) and where <var>year</var> is a number divisible by 400,
  or a number divisible by 4 but not by 100. All other week-years have 52 weeks.</p>
    <p>The <dfn data-dfn-type="dfn" data-noexport="" id="week-number-of-the-last-day">week number of the last day<a class="self-link" href="infrastructure.html#week-number-of-the-last-day"></a></dfn> of a week-year with 53 weeks is 53; the week number of
  the last day of a week-year with 52 weeks is 52.</p>
    <p class="note" role="note"> The week-year number of a particular day can be different than the number of the year that
    contains that day in the <a data-link-type="dfn" href="infrastructure.html#proleptic-gregorian-calendar">proleptic Gregorian calendar</a>. The first week in a week-year <var>y</var> is the week that contains the first Thursday of the Gregorian year <var>y</var>. </p>
    <p class="note" role="note"> For modern purposes, a <a data-link-type="dfn" href="infrastructure.html#week">week</a> as defined here is equivalent to ISO weeks as defined in ISO </p>
    <ol start="8601">
     <li data-md="">
      <p><a data-link-type="biblio" href="references.html#biblio-iso8601">[ISO8601]</a></p>
    </li></ol>
    <p>A string is a <dfn data-dfn-type="dfn" data-noexport="" id="valid-week-string">valid week string<a class="self-link" href="infrastructure.html#valid-week-string"></a></dfn> representing a week-year <var>year</var> and week <var>week</var> if it consists of the following components in the given order:</p>
    <p></p>
    <ol>
     <li data-md="">
      <p>Four or more <a data-link-type="dfn" href="infrastructure.html#ascii-digits">ASCII digits</a>, representing <var>year</var>, where <var>year</var>&nbsp;&gt;&nbsp;0</p>
     </li><li data-md="">
      <p>A U+002D HYPHEN-MINUS character (-)</p>
     </li><li data-md="">
      <p>A U+0057 LATIN CAPITAL LETTER W character (W)</p>
     </li><li data-md="">
      <p>Two <a data-link-type="dfn" href="infrastructure.html#ascii-digits">ASCII digits</a>, representing the week <var>week</var>, in the range
  1&nbsp;≤&nbsp;<var>week</var>&nbsp;≤&nbsp;<var>maxweek</var>, where <var>maxweek</var> is the <a data-link-type="dfn" href="infrastructure.html#week-number-of-the-last-day">week number of the last day</a> of week-year <var>year</var></p>
    </li></ol>
    <div class="impl">
      The rules to <dfn data-dfn-type="dfn" data-lt="parsing a week string|parse a week string|parsing a week" data-noexport="" id="parsing-a-week-string">parse a week string<a class="self-link" href="infrastructure.html#parsing-a-week-string"></a></dfn> are as follows. This will return either a week-year
    number and week number, or nothing. If at any point the algorithm says that it "fails", this
    means that it is aborted at that point and returns nothing. 
     <ol>
      <li data-md="">
       <p>Let <var>input</var> be the string being parsed.</p>
      </li><li data-md="">
       <p>Let <var>position</var> be a pointer into <var>input</var>, initially pointing at the start
of the string.</p>
      </li><li data-md="">
       <p><a data-link-type="dfn" href="infrastructure.html#collect-a-sequence-of-characters">Collect a sequence of characters</a> that are <a data-link-type="dfn" href="infrastructure.html#ascii-digits">ASCII digits</a>. If the collected
sequence is not at least four characters long, then fail. Otherwise, interpret the resulting
sequence as a base-ten integer. Let that number be the <var>year</var>.</p>
      </li><li data-md="">
       <p>If <var>year</var> is not a number greater than zero, then fail.</p>
      </li><li data-md="">
       <p>If <var>position</var> is beyond the end of <var>input</var> or if the character at <var>position</var> is not a U+002D HYPHEN-MINUS character, then fail. Otherwise, move <var>position</var> forwards one character.</p>
      </li><li data-md="">
       <p>If <var>position</var> is beyond the end of <var>input</var> or if the character at <var>position</var> is not a U+0057 LATIN CAPITAL LETTER W character (W), then fail.
Otherwise, move <var>position</var> forwards one character.</p>
      </li><li data-md="">
       <p><a data-link-type="dfn" href="infrastructure.html#collect-a-sequence-of-characters">Collect a sequence of characters</a> that are <a data-link-type="dfn" href="infrastructure.html#ascii-digits">ASCII digits</a>. If the collected
sequence is not exactly two characters long, then fail. Otherwise, interpret the resulting
sequence as a base-ten integer. Let that number be the <var>week</var>.</p>
      </li><li data-md="">
       <p>Let <var>maxweek</var> be the <a data-link-type="dfn" href="infrastructure.html#week-number-of-the-last-day">week number of the last day</a> of year <var>year</var>.</p>
      </li><li data-md="">
       <p>If <var>week</var> is not a number in the range
1&nbsp;≤&nbsp;<var>week</var>&nbsp;≤&nbsp;<var>maxweek</var>, then fail.</p>
      </li><li data-md="">
       <p>If <var>position</var> is <em>not</em> beyond the end of <var>input</var>, then fail.</p>
      </li><li data-md="">
       <p>Return the week-year number <var>year</var> and the week number <var>week</var>.</p>
     </li></ol>
    </div>
    <h5 class="heading settled" data-level="2.4.5.9" id="durations"><span class="secno">2.4.5.9. </span><span class="content">Durations</span><a class="self-link" href="infrastructure.html#durations"></a></h5>
    <p>A <dfn data-dfn-type="dfn" data-noexport="" id="duration">duration<a class="self-link" href="infrastructure.html#duration"></a></dfn> consists of a number of seconds.</p>
    <p class="note" role="note"> Since months and seconds are not comparable (a month is not a precise number of seconds, but is
    instead a period whose exact length depends on the precise day from which it is measured) a <a data-link-type="dfn" href="infrastructure.html#duration">duration</a> as defined in this specification cannot include months (or years, which are
    equivalent to twelve months). Only durations that describe a specific number of seconds can be
    described. </p>
    <p>A string is a <dfn data-dfn-type="dfn" data-noexport="" id="valid-duration-string">valid duration string<a class="self-link" href="infrastructure.html#valid-duration-string"></a></dfn> representing a <a data-link-type="dfn" href="infrastructure.html#duration">duration</a> <var>t</var> if it
  consists of either of the following:</p>
    <ul>
     <li data-md="">
      <p>A literal U+0050 LATIN CAPITAL LETTER P character followed by one or more of the following
subcomponents, in the order given, where the number of days, hours, minutes, and seconds
corresponds to the same number of seconds as in <var>t</var>:</p>
      <ol>
       <li data-md="">
        <p>One or more <a data-link-type="dfn" href="infrastructure.html#ascii-digits">ASCII digits</a> followed by a U+0044 LATIN CAPITAL LETTER D character,
representing a number of days.</p>
       </li><li data-md="">
        <p>A U+0054 LATIN CAPITAL LETTER T character followed by one or more of the following
subcomponents, in the order given:</p>
        <ol>
         <li data-md="">
          <p>One or more <a data-link-type="dfn" href="infrastructure.html#ascii-digits">ASCII digits</a> followed by a U+0048 LATIN CAPITAL LETTER H
character, representing a number of hours.</p>
         </li><li data-md="">
          <p>One or more <a data-link-type="dfn" href="infrastructure.html#ascii-digits">ASCII digits</a> followed by a U+004D LATIN CAPITAL LETTER M
character, representing a number of minutes.</p>
         </li><li data-md="">
          <p>The following components:</p>
          <ol>
           <li data-md="">
            <p>One or more <a data-link-type="dfn" href="infrastructure.html#ascii-digits">ASCII digits</a>, representing a number of seconds.</p>
           </li><li data-md="">
            <p>Optionally, a U+002E FULL STOP character (.) followed by one, two, or three <a data-link-type="dfn" href="infrastructure.html#ascii-digits">ASCII digits</a>, representing a fraction of a second.</p>
           </li><li data-md="">
            <p>A U+0053 LATIN CAPITAL LETTER S character.</p>
          </li></ol>
        </li></ol>
      </li></ol>
      <p class="note" role="note"> This, as with a number of other date- and time-related microsyntaxes defined in this
  specification, is based on one of the formats defined in ISO 8601. <a data-link-type="biblio" href="references.html#biblio-iso8601">[ISO8601]</a> </p>
      <ul>
       <li data-md="">
        <p>One or more <a data-link-type="dfn" href="infrastructure.html#duration-time-component">duration time components</a>, each with a different <a data-link-type="dfn" href="infrastructure.html#duration-time-component-scale">duration time component scale</a>, in any order; the sum of the represented seconds being
equal to the number of seconds in <var>t</var>.</p>
        <p>A <dfn data-dfn-type="dfn" data-noexport="" id="duration-time-component">duration time component<a class="self-link" href="infrastructure.html#duration-time-component"></a></dfn> is a string consisting of the following components:</p>
        <ol>
         <li data-md="">
          <p>Zero or more <a data-link-type="dfn" href="infrastructure.html#space-characters">space characters</a>.</p>
         </li><li data-md="">
          <p>One or more <a data-link-type="dfn" href="infrastructure.html#ascii-digits">ASCII digits</a>, representing a number of time units, scaled by the <a data-link-type="dfn" href="infrastructure.html#duration-time-component-scale">duration time component scale</a> specified (see below) to represent a number of
seconds.</p>
         </li><li data-md="">
          <p>If the <a data-link-type="dfn" href="infrastructure.html#duration-time-component-scale">duration time component scale</a> specified is 1 (i.e. the units are seconds),
then, optionally, a U+002E FULL STOP character (.) followed by one, two, or three <a data-link-type="dfn" href="infrastructure.html#ascii-digits">ASCII digits</a>, representing a fraction of a second.</p>
         </li><li data-md="">
          <p>Zero or more <a data-link-type="dfn" href="infrastructure.html#space-characters">space characters</a>.</p>
         </li><li data-md="">
          <p>One of the following characters, representing the <dfn data-dfn-type="dfn" data-noexport="" id="duration-time-component-scale">duration time component scale<a class="self-link" href="infrastructure.html#duration-time-component-scale"></a></dfn> of the time unit used in the numeric part of
the <a data-link-type="dfn" href="infrastructure.html#duration-time-component">duration time component</a>:</p>
          <dl>
           <dt data-md="">
            <p>U+0057 LATIN CAPITAL LETTER W character</p>
           </dt><dt data-md="">
            <p>U+0077 LATIN SMALL LETTER W character</p>
           </dt><dd data-md="">
            <p>Weeks. The scale is 604800.</p>
           </dd><dt data-md="">
            <p>U+0044 LATIN CAPITAL LETTER D character</p>
           </dt><dt data-md="">
            <p>U+0064 LATIN SMALL LETTER D character</p>
           </dt><dd data-md="">
            <p>Days. The scale is 86400.</p>
           </dd><dt data-md="">
            <p>U+0048 LATIN CAPITAL LETTER H character</p>
           </dt><dt data-md="">
            <p>U+0068 LATIN SMALL LETTER H character</p>
           </dt><dd data-md="">
            <p>Hours. The scale is 3600.</p>
           </dd><dt data-md="">
            <p>U+004D LATIN CAPITAL LETTER M character</p>
           </dt><dt data-md="">
            <p>U+006D LATIN SMALL LETTER M character</p>
           </dt><dd data-md="">
            <p>Minutes. The scale is 60.</p>
           </dd><dt data-md="">
            <p>U+0053 LATIN CAPITAL LETTER S character</p>
           </dt><dt data-md="">
            <p>U+0073 LATIN SMALL LETTER S character</p>
           </dt><dd data-md="">
            <p>Seconds. The scale is 1.</p>
          </dd></dl>
         </li><li data-md="">
          <p>Zero or more <a data-link-type="dfn" href="infrastructure.html#space-characters">space characters</a>.</p>
        </li></ol>
      </li></ul>
      <p class="note" role="note"> This is not based on any of the formats in ISO 8601. It is intended to be a more
    human-readable alternative to the ISO 8601 duration format. </p>
    </li></ul>
    <div class="impl">
      The rules to <dfn data-dfn-type="dfn" data-lt="parsing a duration string|parse a duration string" data-noexport="" id="parsing-a-duration-string">parse a duration string<a class="self-link" href="infrastructure.html#parsing-a-duration-string"></a></dfn> are as follows. This will return either a <a data-link-type="dfn" href="infrastructure.html#duration">duration</a> or nothing. If at any point the algorithm says that it "fails", this means that
    it is aborted at that point and returns nothing. 
     <ol>
      <li data-md="">
       <p>Let <var>input</var> be the string being parsed.</p>
      </li><li data-md="">
       <p>Let <var>position</var> be a pointer into <var>input</var>, initially pointing at the start
of the string.</p>
      </li><li data-md="">
       <p>Let <var>months</var>, <var>seconds</var>, and <var>component count</var> all be zero.</p>
      </li><li data-md="">
       <p>Let <var>M-disambiguator</var> be <i>minutes</i>.</p>
       <p class="note" role="note"> This flag’s other value is <i>months</i>. It is used to disambiguate the "M" unit in
  ISO8601 durations, which use the same unit for months and minutes. Months are not allowed,
  but are parsed for future compatibility and to avoid misinterpreting ISO8601 durations
  that would be valid in other contexts. </p>
      </li><li data-md="">
       <p><a data-link-type="dfn" href="infrastructure.html#skip-whitespace">Skip whitespace</a>.</p>
      </li><li data-md="">
       <p>If <var>position</var> is past the end of <var>input</var>, then fail.</p>
      </li><li data-md="">
       <p>If the character in <var>input</var> pointed to by <var>position</var> is a U+0050 LATIN
CAPITAL LETTER P character, then advance <var>position</var> to the next character, set <var>M-disambiguator</var> to <i>months</i>, and <a data-link-type="dfn" href="infrastructure.html#skip-whitespace">skip whitespace</a>.</p>
      </li><li data-md="">
       <p>Run the following substeps in a loop, until a step requiring the loop to be broken or the
entire algorithm to fail is reached:</p>
       <ol>
        <li data-md="">
         <p>Let <var>units</var> be undefined. It will be assigned one of the following values: <i>years</i>, <i>months</i>, <i>weeks</i>, <i>days</i>, <i>hours</i>, <i>minutes</i>,
and <i>seconds</i>.</p>
        </li><li data-md="">
         <p>Let <var>next character</var> be undefined. It is used to process characters from the <var>input</var>.</p>
        </li><li data-md="">
         <p>If <var>position</var> is past the end of <var>input</var>, then break the loop.</p>
        </li><li data-md="">
         <p>If the character in <var>input</var> pointed to by <var>position</var> is a U+0054 LATIN
CAPITAL LETTER T character, then advance <var>position</var> to the next character, set <var>M-disambiguator</var> to <i>minutes</i>, <a data-link-type="dfn" href="infrastructure.html#skip-whitespace">skip whitespace</a>, and return to the
top of the loop.</p>
        </li><li data-md="">
         <p>Set <var>next character</var> to the character in <var>input</var> pointed to by <var>position</var>.</p>
        </li><li data-md="">
         <p>If <var>next character</var> is a U+002E FULL STOP character (.), then let <var>N</var> equal zero. (Do not advance <var>position</var>. That is taken care of below.)</p>
         <p>Otherwise, if <var>next character</var> is an <a data-link-type="dfn" href="infrastructure.html#ascii-digits">ASCII digit</a>, then <a data-link-type="dfn" href="infrastructure.html#collect-a-sequence-of-characters">collect a
sequence of characters</a> that are <a data-link-type="dfn" href="infrastructure.html#ascii-digits">ASCII digits</a>, interpret the resulting
sequence as a base-ten integer, and let <var>N</var> be that number.</p>
         <p>Otherwise <var>next character</var> is not part of a number; fail.</p>
        </li><li data-md="">
         <p>If <var>position</var> is past the end of <var>input</var>, then fail.</p>
        </li><li data-md="">
         <p>Set <var>next character</var> to the character in <var>input</var> pointed to by <var>position</var>, and this time advance <var>position</var> to the next character.
(If <var>next character</var> was a U+002E FULL STOP character (.) before, it will still
be that character this time.)</p>
        </li><li data-md="">
         <p>If <var>next character</var> is a U+002E FULL STOP character (.), then run these
substeps:</p>
         <ol>
          <li data-md="">
           <p><a data-link-type="dfn" href="infrastructure.html#collect-a-sequence-of-characters">Collect a sequence of characters</a> that are <a data-link-type="dfn" href="infrastructure.html#ascii-digits">ASCII digits</a>. Let <var>s</var> be the resulting sequence.</p>
          </li><li data-md="">
           <p>If <var>s</var> is the empty string, then fail.</p>
          </li><li data-md="">
           <p>Let <var>length</var> be the number of characters in <var>s</var>.</p>
          </li><li data-md="">
           <p>Let <var>fraction</var> be the result of interpreting <var>s</var> as a base-ten
integer, and then dividing that number by 10<sup><var>length</var></sup>.</p>
          </li><li data-md="">
           <p>Increment <var>N</var> by <var>fraction</var>.</p>
          </li><li data-md="">
           <p><a data-link-type="dfn" href="infrastructure.html#skip-whitespace">Skip whitespace</a>.</p>
          </li><li data-md="">
           <p>If <var>position</var> is past the end of <var>input</var>, then fail.</p>
          </li><li data-md="">
           <p>Set <var>next character</var> to the character in <var>input</var> pointed to by <var>position</var>, and advance <var>position</var> to the next character.</p>
          </li><li data-md="">
           <p>If <var>next character</var> is neither a U+0053 LATIN CAPITAL LETTER S character nor
a U+0073 LATIN SMALL LETTER S character, then fail.</p>
          </li><li data-md="">
           <p>Set <var>units</var> to <i>seconds</i>.</p>
         </li></ol>
         <p>Otherwise, run these substeps:</p>
         <ol>
          <li data-md="">
           <p>If <var>next character</var> is a <a data-link-type="dfn" href="infrastructure.html#space-characters">space character</a>, then <a data-link-type="dfn" href="infrastructure.html#skip-whitespace">skip whitespace</a>, set <var>next character</var> to the character in <var>input</var> pointed to by <var>position</var>, and advance <var>position</var> to the next character.</p>
          </li><li data-md="">
           <p>If <var>next character</var> is a U+0059 LATIN CAPITAL LETTER Y character, or a
U+0079 LATIN SMALL LETTER Y character, set <var>units</var> to <i>years</i> and set <var>M-disambiguator</var> to <i>months</i>.</p>
           <p>If <var>next character</var> is a U+004D LATIN CAPITAL LETTER M character or a
U+006D LATIN SMALL LETTER M character, and <var>M-disambiguator</var> is <i>months</i>, then set <var>units</var> to <i>months</i>.</p>
           <p>If <var>next character</var> is a U+0057 LATIN CAPITAL LETTER W character or a
U+0077 LATIN SMALL LETTER W character, set <var>units</var> to <i>weeks</i> and set <var>M-disambiguator</var> to <i>minutes</i>.</p>
           <p>If <var>next character</var> is a U+0044 LATIN CAPITAL LETTER D character or a
U+0064 LATIN SMALL LETTER D character, set <var>units</var> to <i>days</i> and set <var>M-disambiguator</var> to <i>minutes</i>.</p>
           <p>If <var>next character</var> is a U+0048 LATIN CAPITAL LETTER H character or a
U+0068 LATIN SMALL LETTER H character, set <var>units</var> to <i>hours</i> and set <var>M-disambiguator</var> to <i>minutes</i>.</p>
           <p>If <var>next character</var> is a U+004D LATIN CAPITAL LETTER M character or a
U+006D LATIN SMALL LETTER M character, and <var>M-disambiguator</var> is <i>minutes</i>, then set <var>units</var> to <i>minutes</i>.</p>
           <p>If <var>next character</var> is a U+0053 LATIN CAPITAL LETTER S character or a
U+0073 LATIN SMALL LETTER S character, set <var>units</var> to <i>seconds</i> and
set <var>M-disambiguator</var> to <i>minutes</i>.</p>
           <p>Otherwise if <var>next character</var> is none of the above characters, then fail.</p>
         </li></ol>
        </li><li data-md="">
         <p>Increment <var>component count</var>.</p>
        </li><li data-md="">
         <p>Let <var>multiplier</var> be 1.</p>
        </li><li data-md="">
         <p>If <var>units</var> is <i>years</i>, multiply <var>multiplier</var> by 12 and set <var>units</var> to <i>months</i>.</p>
        </li><li data-md="">
         <p>If <var>units</var> is <i>months</i>, add the product of <var>N</var> and <var>multiplier</var> to <var>months</var>.</p>
         <p>Otherwise, run these substeps:</p>
         <ol>
          <li data-md="">
           <p>If <var>units</var> is <i>weeks</i>, multiply <var>multiplier</var> by 7 and set <var>units</var> to <i>days</i>.</p>
          </li><li data-md="">
           <p>If <var>units</var> is <i>days</i>, multiply <var>multiplier</var> by 24 and set <var>units</var> to <i>hours</i>.</p>
          </li><li data-md="">
           <p>If <var>units</var> is <i>hours</i>, multiply <var>multiplier</var> by 60 and set <var>units</var> to <i>minutes</i>.</p>
          </li><li data-md="">
           <p>If <var>units</var> is <i>minutes</i>, multiply <var>multiplier</var> by 60 and set <var>units</var> to <i>seconds</i>.</p>
          </li><li data-md="">
           <p>Forcibly, <var>units</var> is now <i>seconds</i>. Add the product of <var>N</var> and <var>multiplier</var> to <var>seconds</var>.</p>
         </li></ol>
        </li><li data-md="">
         <p><a data-link-type="dfn" href="infrastructure.html#skip-whitespace">Skip whitespace</a>.</p>
       </li></ol>
      </li><li data-md="">
       <p>If <var>component count</var> is zero, fail.</p>
      </li><li data-md="">
       <p>If <var>months</var> is not zero, fail.</p>
      </li><li data-md="">
       <p>Return the <a data-link-type="dfn" href="infrastructure.html#duration">duration</a> consisting of <var>seconds</var> seconds.</p>
     </li></ol>
    </div>
    <h5 class="heading settled" data-level="2.4.5.10" id="vaguer-moments-in-time"><span class="secno">2.4.5.10. </span><span class="content">Vaguer moments in time</span><a class="self-link" href="infrastructure.html#vaguer-moments-in-time"></a></h5>
    <p>A string is a <dfn data-dfn-type="dfn" data-noexport="" id="valid-date-string-with-optional-time">valid date string with optional time<a class="self-link" href="infrastructure.html#valid-date-string-with-optional-time"></a></dfn> if it is also one of the following:</p>
    <ul>
     <li data-md="">
      <p>A <a data-link-type="dfn" href="infrastructure.html#valid-date-string">valid date string</a></p>
     </li><li data-md="">
      <p>A <a data-link-type="dfn" href="infrastructure.html#valid-global-date-and-time-string">valid global date and time string</a></p>
    </li></ul>
    <div class="impl">
     <hr>
     <p>The rules to <dfn data-dfn-type="dfn" data-noexport="" id="parse-a-date-or-time-string">parse a date or time string<a class="self-link" href="infrastructure.html#parse-a-date-or-time-string"></a></dfn> are as follows. The algorithm will return
    either a <a data-link-type="dfn" href="infrastructure.html#dates-date">date</a>, a <a data-link-type="dfn" href="infrastructure.html#time">time</a>, a <a data-link-type="dfn" href="infrastructure.html#global-date-and-time">global date and time</a>, or nothing. If at any point
    the algorithm says that it "fails", this means that it is aborted at that point and returns
    nothing.</p>
     <ol>
      <li data-md="">
       <p>Let <var>input</var> be the string being parsed.</p>
      </li><li data-md="">
       <p>Let <var>position</var> be a pointer into <var>input</var>, initially pointing at the start
of the string.</p>
      </li><li data-md="">
       <p>Set <var>start position</var> to the same position as <var>position</var>.</p>
      </li><li data-md="">
       <p>Set the <var>date present</var> and <var>time present</var> flags to true.</p>
      </li><li data-md="">
       <p><a data-link-type="dfn" href="infrastructure.html#parse-a-date-component">Parse a date component</a> to obtain <var>year</var>, <var>month</var>, and <var>day</var>. If this fails, then set the <var>date present</var> flag to false.</p>
      </li><li data-md="">
       <p>If <var>date present</var> is true, and <var>position</var> is not beyond the end of <var>input</var>, and the character at <var>position</var> is either a U+0054 LATIN CAPITAL
LETTER T character (T) or a U+0020 SPACE character, then advance <var>position</var> to the
next character in <var>input</var>.</p>
       <p>Otherwise, if <var>date present</var> is true, and either <var>position</var> is beyond the
end of <var>input</var> or the character at <var>position</var> is neither a U+0054 LATIN
CAPITAL LETTER T character (T) nor a U+0020 SPACE character, then set <var>time present</var> to false.</p>
       <p>Otherwise, if <var>date present</var> is false, set <var>position</var> back to the same
position as <var>start position</var>.</p>
      </li><li data-md="">
       <p>If the <var>time present</var> flag is true, then <a data-link-type="dfn" href="infrastructure.html#parse-a-time-component">parse a time component</a> to obtain <var>hour</var>, <var>minute</var>, and <var>second</var>. If this returns nothing, then
fail.</p>
      </li><li data-md="">
       <p>If the <var>date present</var> and <var>time present</var> flags are both true, but <var>position</var> is beyond the end of <var>input</var>, then fail.</p>
      </li><li data-md="">
       <p>If the <var>date present</var> and <var>time present</var> flags are both true, <a data-link-type="dfn" href="infrastructure.html#parse-a-time-zone-offset-component">parse a time-zone offset component</a> to obtain <var>timezone<sub>hours</sub></var> and <var>timezone<sub>minutes</sub></var>. If this returns nothing, then fail.</p>
      </li><li data-md="">
       <p>If <var>position</var> is <em>not</em> beyond the end of <var>input</var>, then fail.</p>
      </li><li data-md="">
       <p>If the <var>date present</var> flag is true and the <var>time present</var> flag is false,
then let <var>date</var> be the date with year <var>year</var>, month <var>month</var>, and
day <var>day</var>, and return <var>date</var>.</p>
       <p>Otherwise, if the <var>time present</var> flag is true and the <var>date present</var> flag
is false, then let <var>time</var> be the time with hour <var>hour</var>, minute <var>minute</var>, and second <var>second</var>, and return <var>time</var>.</p>
       <p>Otherwise, let <var>time</var> be the moment in time at year <var>year</var>, month <var>month</var>, day <var>day</var>, hours <var>hour</var>, minute <var>minute</var>,
second <var>second</var>, subtracting <var>timezone<sub>hours</sub></var> hours and <var>timezone<sub>minutes</sub></var> minutes, that moment in time being a moment in the UTC
time zone; let <var>timezone</var> be <var>timezone<sub>hours</sub></var> hours and <var>timezone<sub>minutes</sub></var> minutes from UTC; and return <var>time</var> and <var>timezone</var>.</p>
     </li></ol>
    </div>
    <h4 class="heading settled" data-level="2.4.6" id="colors"><span class="secno">2.4.6. </span><span class="content">Colors</span><a class="self-link" href="infrastructure.html#colors"></a></h4>
    <p>A <dfn data-dfn-type="dfn" data-noexport="" id="simple-color">simple color<a class="self-link" href="infrastructure.html#simple-color"></a></dfn> consists of three 8-bit numbers in the range 0..255, representing the
  red, green, and blue components of the color respectively, in the sRGB color space. <a data-link-type="biblio" href="references.html#biblio-srgb">[SRGB]</a></p>
    <p>A string is a <dfn data-dfn-type="dfn" data-noexport="" id="valid-simple-color">valid simple color<a class="self-link" href="infrastructure.html#valid-simple-color"></a></dfn> if it is exactly seven characters long, and the first
  character is a U+0023 NUMBER SIGN character (#), and the remaining six characters are all <a data-link-type="dfn" href="infrastructure.html#ascii-hex-digits">ASCII hex digits</a>, with the first two digits representing the red component, the middle two
  digits representing the green component, and the last two digits representing the blue component,
  in hexadecimal.</p>
    <p>A string is a <dfn data-dfn-type="dfn" data-noexport="" id="valid-lowercase-simple-color">valid lowercase simple color<a class="self-link" href="infrastructure.html#valid-lowercase-simple-color"></a></dfn> if it is a <a data-link-type="dfn" href="infrastructure.html#valid-simple-color">valid simple color</a> and
  doesn’t use any characters in the range U+0041 LATIN CAPITAL LETTER A to U+0046 LATIN CAPITAL
  LETTER F.</p>
    <div class="impl">
      The <dfn data-dfn-type="dfn" data-noexport="" id="rules-for-parsing-simple-color-values">rules for parsing simple color values<a class="self-link" href="infrastructure.html#rules-for-parsing-simple-color-values"></a></dfn> are as given in the following algorithm.
    When invoked, the steps must be followed in the order given, aborting at the first step that
    returns a value. This algorithm will return either a <a data-link-type="dfn" href="infrastructure.html#simple-color">simple color</a> or an error. 
     <ol>
      <li data-md="">
       <p>Let <var>input</var> be the string being parsed.</p>
      </li><li data-md="">
       <p>If <var>input</var> is not exactly seven characters long, then return an error.</p>
      </li><li data-md="">
       <p>If the first character in <var>input</var> is not a U+0023 NUMBER SIGN character (#), then
return an error.</p>
      </li><li data-md="">
       <p>If the last six characters of <var>input</var> are not all <a data-link-type="dfn" href="infrastructure.html#ascii-hex-digits">ASCII hex digits</a>, then
return an error.</p>
      </li><li data-md="">
       <p>Let <var>result</var> be a <a data-link-type="dfn" href="infrastructure.html#simple-color">simple color</a>.</p>
      </li><li data-md="">
       <p>Interpret the second and third characters as a hexadecimal number and let the result be the
red component of <var>result</var>.</p>
      </li><li data-md="">
       <p>Interpret the fourth and fifth characters as a hexadecimal number and let the result be the
green component of <var>result</var>.</p>
      </li><li data-md="">
       <p>Interpret the sixth and seventh characters as a hexadecimal number and let the result be the
blue component of <var>result</var>.</p>
      </li><li data-md="">
       <p>Return <var>result</var>.</p>
     </li></ol>
     <p>The <dfn data-dfn-type="dfn" data-noexport="" id="rules-for-serializing-simple-color-values">rules for serializing simple color values<a class="self-link" href="infrastructure.html#rules-for-serializing-simple-color-values"></a></dfn> given a <a data-link-type="dfn" href="infrastructure.html#simple-color">simple color</a> are as
    given in the following algorithm:</p>
     <ol>
      <li data-md="">
       <p>Let <var>result</var> be a string consisting of a single U+0023 NUMBER SIGN character (#).</p>
      </li><li data-md="">
       <p>Convert the red, green, and blue components in turn to two-digit hexadecimal numbers using <a data-link-type="dfn" href="infrastructure.html#lowercase-ascii-hex-digits">lowercase ASCII hex digits</a>, zero-padding if necessary, and append these numbers to <var>result</var>, in the order red, green, blue.</p>
      </li><li data-md="">
       <p>Return <var>result</var>, which will be a <a data-link-type="dfn" href="infrastructure.html#valid-lowercase-simple-color">valid lowercase simple color</a>.</p>
     </li></ol>
     <hr>
     <p>Some obsolete legacy attributes parse colors in a more complicated manner, using the <dfn data-dfn-type="dfn" data-noexport="" id="rules-for-parsing-a-legacy-color-value">rules
    for parsing a legacy color value<a class="self-link" href="infrastructure.html#rules-for-parsing-a-legacy-color-value"></a></dfn>, which are given in the following algorithm. When
    invoked, the steps must be followed in the order given, aborting at the first step that returns
    a value. This algorithm will return either a <a data-link-type="dfn" href="infrastructure.html#simple-color">simple color</a> or an error.</p>
     <ol>
      <li data-md="">
       <p>Let <var>input</var> be the string being parsed.</p>
      </li><li data-md="">
       <p>If <var>input</var> is the empty string, then return an error.</p>
      </li><li data-md="">
       <p><a data-link-type="dfn" href="infrastructure.html#strip-leading-and-trailing-whitespace">Strip leading and trailing whitespace</a> from <var>input</var>.</p>
      </li><li data-md="">
       <p>If <var>input</var> is an <a data-link-type="dfn" href="infrastructure.html#ascii-case-insensitive">ASCII case-insensitive</a> match for the string
"<code>transparent</code>", then return an error.</p>
      </li><li data-md="">
       <p>If <var>input</var> is an <a data-link-type="dfn" href="infrastructure.html#ascii-case-insensitive">ASCII case-insensitive</a> match for one of the <a data-link-type="dfn" href="infrastructure.html#named-color">named colors</a>, then return the <a data-link-type="dfn" href="infrastructure.html#simple-color">simple color</a> corresponding to that keyword. <a data-link-type="biblio" href="references.html#biblio-css3color">[CSS3COLOR]</a></p>
       <p class="note" role="note"><a data-link-type="dfn" href="http://www.w3.org/TR/CSS21/ui.html#system-colors">CSS2 System Colors</a> are not recognized.</p>
      </li><li data-md="">
       <p>If <var>input</var> is four characters long, and the first character in <var>input</var> is a
U+0023 NUMBER SIGN character (#), and the last three characters of <var>input</var> are all <a data-link-type="dfn" href="infrastructure.html#ascii-hex-digits">ASCII hex digits</a>, then run these substeps:</p>
       <ol>
        <li data-md="">
         <p>Let <var>result</var> be a <a data-link-type="dfn" href="infrastructure.html#simple-color">simple color</a>.</p>
        </li><li data-md="">
         <p>Interpret the second character of <var>input</var> as a hexadecimal digit; let the red
component of <var>result</var> be the resulting number multiplied by 17.</p>
        </li><li data-md="">
         <p>Interpret the third character of <var>input</var> as a hexadecimal digit; let the green
component of <var>result</var> be the resulting number multiplied by 17.</p>
        </li><li data-md="">
         <p>Interpret the fourth character of <var>input</var> as a hexadecimal digit; let the blue
component of <var>result</var> be the resulting number multiplied by 17.</p>
        </li><li data-md="">
         <p>Return <var>result</var>.</p>
       </li></ol>
      </li><li data-md="">
       <p>Replace any characters in <var>input</var> that have a Unicode code point greater than U+FFFF
(i.e. any characters that are not in the basic multilingual plane) with the two-character
string "<code>00</code>".</p>
      </li><li data-md="">
       <p>If <var>input</var> is longer than 128 characters, truncate <var>input</var>, leaving only
the first 128 characters.</p>
      </li><li data-md="">
       <p>If the first character in <var>input</var> is a U+0023 NUMBER SIGN character (#), remove it.</p>
      </li><li data-md="">
       <p>Replace any character in <var>input</var> that is not an <a data-link-type="dfn" href="infrastructure.html#ascii-hex-digits">ASCII hex digit</a> with the
character U+0030 DIGIT ZERO (0).</p>
      </li><li data-md="">
       <p>While <var>input</var>’s length is zero or not a multiple of three, append a U+0030 DIGIT
ZERO (0) character to <var>input</var>.</p>
      </li><li data-md="">
       <p>Split <var>input</var> into three strings of equal length, to obtain three components. Let <var>length</var> be the length of those components (one third the length of <var>input</var>).</p>
      </li><li data-md="">
       <p>If <var>length</var> is greater than 8, then remove the leading <var>length</var>-8
characters in each component, and let <var>length</var> be 8.</p>
      </li><li data-md="">
       <p>While <var>length</var> is greater than two and the first character in each component is a
U+0030 DIGIT ZERO (0) character, remove that character and reduce <var>length</var> by one.</p>
      </li><li data-md="">
       <p>If <var>length</var> is <em>still</em> greater than two, truncate each component, leaving
only the first two characters in each.</p>
      </li><li data-md="">
       <p>Let <var>result</var> be a <a data-link-type="dfn" href="infrastructure.html#simple-color">simple color</a>.</p>
      </li><li data-md="">
       <p>Interpret the first component as a hexadecimal number; let the red component of <var>result</var> be the resulting number.</p>
      </li><li data-md="">
       <p>Interpret the second component as a hexadecimal number; let the green component of <var>result</var> be the resulting number.</p>
      </li><li data-md="">
       <p>Interpret the third component as a hexadecimal number; let the blue component of <var>result</var> be the resulting number.</p>
      </li><li data-md="">
       <p>Return <var>result</var>.</p>
     </li></ol>
    </div>
    <h4 class="heading settled" data-level="2.4.7" id="space-separated-tokens"><span class="secno">2.4.7. </span><span class="content">Space-separated tokens</span><a class="self-link" href="infrastructure.html#space-separated-tokens"></a></h4>
    <p>A <dfn data-dfn-type="dfn" data-noexport="" id="set-of-space-separated-tokens">set of space-separated tokens<a class="self-link" href="infrastructure.html#set-of-space-separated-tokens"></a></dfn> is a string containing zero or more words (known as
  tokens) separated by one or more <a data-link-type="dfn" href="infrastructure.html#space-characters">space characters</a>, where words consist of any string of one
  or more characters, none of which are <a data-link-type="dfn" href="infrastructure.html#space-characters">space characters</a>.</p>
    <p>A string containing a <a data-link-type="dfn" href="infrastructure.html#set-of-space-separated-tokens">set of space-separated tokens</a> may have leading or trailing <a data-link-type="dfn" href="infrastructure.html#space-characters">space characters</a>.</p>
    <p>An <dfn data-dfn-type="dfn" data-noexport="" id="unordered-set-of-unique-space-separated-tokens">unordered set of unique space-separated tokens<a class="self-link" href="infrastructure.html#unordered-set-of-unique-space-separated-tokens"></a></dfn> is a <a data-link-type="dfn" href="infrastructure.html#set-of-space-separated-tokens">set of space-separated tokens</a> where none of the tokens are duplicated.</p>
    <p>An <dfn data-dfn-type="dfn" data-noexport="" id="ordered-set-of-unique-space-separated-tokens">ordered set of unique space-separated tokens<a class="self-link" href="infrastructure.html#ordered-set-of-unique-space-separated-tokens"></a></dfn> is a <a data-link-type="dfn" href="infrastructure.html#set-of-space-separated-tokens">set of space-separated tokens</a> where none of the tokens are duplicated but where the order
  of the tokens is meaningful.</p>
    <p><a data-link-type="dfn" href="infrastructure.html#set-of-space-separated-tokens">Sets of space-separated tokens</a> sometimes have a defined set of allowed values. When a set
  of allowed values is defined, the tokens must all be from that list of allowed values; other
  values are non-conforming. If no such set of allowed values is provided, then all values are
  conforming.</p>
    <p class="note" role="note"> How tokens in a <a data-link-type="dfn" href="infrastructure.html#set-of-space-separated-tokens">set of space-separated tokens</a> are to be compared (e.g. case-sensitively
    or not) is defined on a per-set basis. </p>
    <div class="impl">
      When a user agent has to <dfn data-dfn-type="dfn" data-noexport="" id="split-a-string-on-spaces">split a string on spaces<a class="self-link" href="infrastructure.html#split-a-string-on-spaces"></a></dfn>, it must use the following
    algorithm: 
     <ol>
      <li data-md="">
       <p>Let <var>input</var> be the string being parsed.</p>
      </li><li data-md="">
       <p>Let <var>position</var> be a pointer into <var>input</var>, initially pointing at the start
of the string.</p>
      </li><li data-md="">
       <p>Let <var>tokens</var> be an ordered list of tokens, initially empty.</p>
      </li><li data-md="">
       <p><a data-link-type="dfn" href="infrastructure.html#skip-whitespace">Skip whitespace</a></p>
      </li><li data-md="">
       <p>While <var>position</var> is not past the end of <var>input</var>:</p>
       <ol>
        <li data-md="">
         <p><a data-link-type="dfn" href="infrastructure.html#collect-a-sequence-of-characters">Collect a sequence of characters</a> that are not <a data-link-type="dfn" href="infrastructure.html#space-characters">space characters</a>.</p>
        </li><li data-md="">
         <p>Append the string collected in the previous step to <var>tokens</var>.</p>
        </li><li data-md="">
         <p><a data-link-type="dfn" href="infrastructure.html#skip-whitespace">Skip whitespace</a></p>
       </li></ol>
      </li><li data-md="">
       <p>Return <var>tokens</var>.</p>
     </li></ol>
    </div>
    <h4 class="heading settled" data-level="2.4.8" id="comma-separated-tokens"><span class="secno">2.4.8. </span><span class="content">Comma-separated tokens</span><a class="self-link" href="infrastructure.html#comma-separated-tokens"></a></h4>
    <p>A <dfn data-dfn-type="dfn" data-noexport="" id="set-of-comma-separated-tokens">set of comma-separated tokens<a class="self-link" href="infrastructure.html#set-of-comma-separated-tokens"></a></dfn> is a string containing zero or more tokens each
  separated from the next by a single U+002C COMMA character (,), where tokens consist of any string
  of zero or more characters, neither beginning nor ending with <a data-link-type="dfn" href="infrastructure.html#space-characters">space characters</a>, nor
  containing any U+002C COMMA characters (,), and optionally surrounded by <a data-link-type="dfn" href="infrastructure.html#space-characters">space characters</a>.</p>
    <p class="example" id="example-8bba5651"><a class="self-link" href="infrastructure.html#example-8bba5651"></a> For instance, the string "<code>&nbsp;a&nbsp;,b,,d&nbsp;d&nbsp;</code>" consists of four tokens:
    "a", "b", the empty string, and "d&nbsp;d". Leading and trailing whitespace around each token
    doesn’t count as part of the token, and the empty string can be a token. </p>
    <p><a data-link-type="dfn" href="infrastructure.html#set-of-comma-separated-tokens">Sets of comma-separated tokens</a> sometimes have further restrictions on what consists a valid
  token. When such restrictions are defined, the tokens must all fit within those restrictions;
  other values are non-conforming. If no such restrictions are specified, then all values are
  conforming.</p>
    <div class="impl">
      When a user agent has to <dfn data-dfn-type="dfn" data-noexport="" id="split-a-string-on-commas">split a string on commas<a class="self-link" href="infrastructure.html#split-a-string-on-commas"></a></dfn>, it must use the following
    algorithm: 
     <ol>
      <li data-md="">
       <p>Let <var>input</var> be the string being parsed.</p>
      </li><li data-md="">
       <p>Let <var>position</var> be a pointer into <var>input</var>, initially pointing at the start
of the string.</p>
      </li><li data-md="">
       <p>Let <var>tokens</var> be an ordered list of tokens, initially empty.</p>
      </li><li data-md="">
       <p><i>Token</i>: If <var>position</var> is past the end of <var>input</var>, jump to the last
step.</p>
      </li><li data-md="">
       <p><a data-link-type="dfn" href="infrastructure.html#collect-a-sequence-of-characters">Collect a sequence of characters</a> that are not U+002C COMMA characters (,). Let <var>s</var> be the resulting sequence (which might be the empty string).</p>
      </li><li data-md="">
       <p><a data-link-type="dfn" href="infrastructure.html#strip-leading-and-trailing-whitespace">Strip leading and trailing whitespace</a> from <var>s</var>.</p>
      </li><li data-md="">
       <p>Append <var>s</var> to <var>tokens</var>.</p>
      </li><li data-md="">
       <p>If <var>position</var> is not past the end of <var>input</var>, then the character at <var>position</var> is a U+002C COMMA character (,); advance <var>position</var> past that
character.</p>
      </li><li data-md="">
       <p>Jump back to the step labeled <i>token</i>.</p>
      </li><li data-md="">
       <p>Return <var>tokens</var>.&lt;</p>
     </li></ol>
    </div>
    <h4 class="heading settled" data-level="2.4.9" id="syntax-references"><span class="secno">2.4.9. </span><span class="content">References</span><a class="self-link" href="infrastructure.html#syntax-references"></a></h4>
    <p>A <dfn data-dfn-type="dfn" data-noexport="" id="valid-hash-name-reference">valid hash-name reference<a class="self-link" href="infrastructure.html#valid-hash-name-reference"></a></dfn> to an element of type <var>type</var> is a
  string consisting of a U+0023 NUMBER SIGN character (#) followed by a string which exactly matches
  the value of the <code>name</code> attribute of an element with type <var>type</var> in
  the document.</p>
    <div class="impl">
      The <dfn data-dfn-type="dfn" data-noexport="" id="rules-for-parsing-a-hash-name-reference">rules for parsing a hash-name reference<a class="self-link" href="infrastructure.html#rules-for-parsing-a-hash-name-reference"></a></dfn> to an element of type <var>type</var>,
    given a context node <var>scope</var>, are as follows: 
     <ol>
      <li data-md="">
       <p>If the string being parsed does not contain a U+0023 NUMBER SIGN character, or if the first
such character in the string is the last character in the string, then return null and abort
these steps.</p>
      </li><li data-md="">
       <p>Let <var>s</var> be the string from the character immediately after the first U+0023 NUMBER
SIGN character in the string being parsed up to the end of that string.</p>
      </li><li data-md="">
       <p>Return the first element of type <var>type</var> in <a data-link-type="dfn" href="infrastructure.html#tree-order">tree order</a> in the subtree rooted
at <var>scope</var> that has an <code>id</code> attribute whose value is a <a data-link-type="dfn" href="infrastructure.html#case-sensitive">case-sensitive</a> match for <var>s</var> or a <code>name</code> attribute whose value is
a <a data-link-type="dfn" href="infrastructure.html#compatibility-caseless">compatibility caseless</a> match for <var>s</var>.</p>
     </li></ol>
    </div>
    <h4 class="heading settled" data-level="2.4.10" id="mq"><span class="secno">2.4.10. </span><span class="content">Media queries</span><a class="self-link" href="infrastructure.html#mq"></a></h4>
    <p>A string is a <dfn data-dfn-type="dfn" data-noexport="" id="valid-media-query-list">valid media query list<a class="self-link" href="infrastructure.html#valid-media-query-list"></a></dfn> if it matches the <code>&lt;media-query-list&gt;</code> production of the Media Queries specification. <a data-link-type="biblio" href="references.html#biblio-mediaq">[MEDIAQ]</a></p>
    <p>A string <dfn data-dfn-type="dfn" data-lt="match the environment|matches the environment" data-noexport="" id="match-the-environment">matches the environment<a class="self-link" href="infrastructure.html#match-the-environment"></a></dfn> of the user if it is the empty string, a string
  consisting of only <a data-link-type="dfn" href="infrastructure.html#space-characters">space characters</a>, or is a media query list that matches the user’s
  environment according to the definitions given in the Media Queries specification. <a data-link-type="biblio" href="references.html#biblio-mediaq">[MEDIAQ]</a></p>
    <h3 class="heading settled" data-level="2.5" id="infrastructure-urls"><span class="secno">2.5. </span><span class="content">URLs</span><a class="self-link" href="infrastructure.html#infrastructure-urls"></a></h3>
    <h4 class="heading settled" data-level="2.5.1" id="urls-terminology"><span class="secno">2.5.1. </span><span class="content">Terminology</span><a class="self-link" href="infrastructure.html#urls-terminology"></a></h4>
    <p>A <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-url">URL</a> is a <dfn data-dfn-type="dfn" data-noexport="" id="valid-url">valid URL<a class="self-link" href="infrastructure.html#valid-url"></a></dfn> if it conforms to the authoring conformance
  requirements in the WHATWG URL standard. <a data-link-type="biblio" href="references.html#biblio-url">[URL]</a></p>
    <p>A string is a <dfn data-dfn-type="dfn" data-noexport="" id="valid-non-empty-url">valid non-empty URL<a class="self-link" href="infrastructure.html#valid-non-empty-url"></a></dfn> if it is a <a data-link-type="dfn" href="infrastructure.html#valid-url">valid URL</a> but it is not
  the empty string.</p>
    <p>A string is a <dfn data-dfn-type="dfn" data-noexport="" id="valid-url-potentially-surrounded-by-spaces">valid URL potentially surrounded by spaces<a class="self-link" href="infrastructure.html#valid-url-potentially-surrounded-by-spaces"></a></dfn> if, after <a data-link-type="dfn" href="infrastructure.html#strip-leading-and-trailing-whitespace">stripping leading and trailing whitespace</a> from it, it is a <a data-link-type="dfn" href="infrastructure.html#valid-url">valid URL</a>.</p>
    <p>A string is a <dfn data-dfn-type="dfn" data-noexport="" id="valid-non-empty-url-potentially-surrounded-by-spaces">valid non-empty URL potentially surrounded by spaces<a class="self-link" href="infrastructure.html#valid-non-empty-url-potentially-surrounded-by-spaces"></a></dfn> if, after <a data-link-type="dfn" href="infrastructure.html#strip-leading-and-trailing-whitespace">stripping leading and trailing whitespace</a> from it, it is a <a data-link-type="dfn" href="infrastructure.html#valid-non-empty-url">valid non-empty URL</a>.</p>
    <p>This specification defines the URL <dfn data-dfn-type="dfn" data-noexport="" id="aboutlegacy-compat"><code>about:legacy-compat</code><a class="self-link" href="infrastructure.html#aboutlegacy-compat"></a></dfn> as a reserved,
  though unresolvable, <a data-link-type="scheme" href="infrastructure.html#schemedef-about"><code>about:</code></a> URL, for use in <a data-link-type="dfn" href="syntax.html#doctype">DOCTYPE</a>s in <a data-link-type="dfn" href="infrastructure.html#html-document">HTML documents</a> when needed for compatibility with XML tools. <a data-link-type="biblio" href="references.html#biblio-rfc6694">[RFC6694]</a></p>
    <p>This specification defines the URL <dfn data-dfn-type="dfn" data-noexport="" id="aboutsrcdoc"><code>about:srcdoc</code><a class="self-link" href="infrastructure.html#aboutsrcdoc"></a></dfn> as a reserved, though
  unresolvable, <a data-link-type="scheme" href="infrastructure.html#schemedef-about"><code>about:</code></a> URL, that is used as <a data-link-type="dfn" href="dom.html#the-document-address">the document’s address</a> of <a data-link-type="dfn" href="semantics.html#iframe-iframe-srcdoc-document"><code>iframe</code> <code>srcdoc</code> documents</a>. <a data-link-type="biblio" href="references.html#biblio-rfc6694">[RFC6694]</a></p>
    <p>The <dfn data-dfn-type="dfn" data-noexport="" id="fallback-base-url">fallback base URL<a class="self-link" href="infrastructure.html#fallback-base-url"></a></dfn> of a <code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#document">Document</a></code> object is the <a data-link-type="dfn" href="https://url.spec.whatwg.org/#syntax-url-absolute">absolute URL</a> obtained by running these substeps:</p>
    <ol>
     <li data-md="">
      <p>If the <code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#document">Document</a></code> is <a data-link-type="dfn" href="semantics.html#iframe-iframe-srcdoc-document">an <code>iframe</code> <code>srcdoc</code> document</a>,
  then return the <a data-link-type="dfn" href="infrastructure.html#document-base-url">document base URL</a> of the <code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#document">Document</a></code>'s <a data-link-type="dfn" href="browsers.html#browsing-context">browsing context</a>’s <a data-link-type="dfn" href="browsers.html#browsing-context-container">browsing context container</a>’s <a data-link-type="dfn" href="https://dom.spec.whatwg.org/#concept-node-document">node document</a> and abort
  these steps.</p>
     </li><li data-md="">
      <p>If <a data-link-type="dfn" href="dom.html#the-document-address">the document’s address</a> is <code>about:blank</code>, and the <code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#document">Document</a></code>'s <a data-link-type="dfn" href="browsers.html#browsing-context">browsing context</a> has a <a data-link-type="dfn" href="browsers.html#creator-browsing-context">creator browsing context</a>, then return the <a data-link-type="dfn" href="infrastructure.html#document-base-url">document
  base URL</a> of the <a data-link-type="dfn" href="browsers.html#creator-document">creator <code>Document</code></a>, and abort these steps.</p>
     </li><li data-md="">
      <p>Return <a data-link-type="dfn" href="dom.html#the-document-address">the document’s address</a>.</p>
    </li></ol>
    <p>The <dfn data-dfn-type="dfn" data-noexport="" id="document-base-url">document base URL<a class="self-link" href="infrastructure.html#document-base-url"></a></dfn> of a <code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#document">Document</a></code> object is the <a data-link-type="dfn" href="https://url.spec.whatwg.org/#syntax-url-absolute">absolute URL</a> obtained by running these substeps:</p>
    <ol>
     <li data-md="">
      <p>If there is no <code><a data-link-type="element" href="semantics.html#elementdef-base">base</a></code> element that has an <code><a data-link-type="element-attr" href="semantics.html#element-attrdef-base-href">href</a></code> attribute in the <code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#document">Document</a></code>, then the <a data-link-type="dfn" href="infrastructure.html#document-base-url">document base URL</a> is the <code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#document">Document</a></code>'s <a data-link-type="dfn" href="infrastructure.html#fallback-base-url">fallback base URL</a>; abort these steps.</p>
     </li><li data-md="">
      <p>Otherwise, the <a data-link-type="dfn" href="infrastructure.html#document-base-url">document base URL</a> is the <a data-link-type="dfn" href="semantics.html#frozen-base-url">frozen base URL</a> of the first <code><a data-link-type="element" href="semantics.html#elementdef-base">base</a></code> element in the <code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#document">Document</a></code> that has an <code><a data-link-type="element-attr" href="semantics.html#element-attrdef-base-href">href</a></code> attribute, in <a data-link-type="dfn" href="infrastructure.html#tree-order">tree order</a>.</p>
    </li></ol>
    <div class="impl">
     <h4 class="heading settled" data-level="2.5.2" id="resolving-urls"><span class="secno">2.5.2. </span><span class="content">Resolving URLs</span><a class="self-link" href="infrastructure.html#resolving-urls"></a></h4>
     <p>Resolving a URL is the process of taking a <a data-link-type="dfn" href="https://url.spec.whatwg.org/#syntax-url-relative">relative URL</a> and obtaining the <a data-link-type="dfn" href="https://url.spec.whatwg.org/#syntax-url-absolute">absolute URL</a> that it implies.</p>
     <p>To <dfn data-dfn-type="dfn" data-lt="re-resolved|resolve a URL|resolve|resolving|resolving of relative urls|resolving relative urls" data-noexport="" id="re-resolved">resolve a URL<a class="self-link" href="infrastructure.html#re-resolved"></a></dfn> to an <a data-link-type="dfn" href="https://url.spec.whatwg.org/#syntax-url-absolute">absolute URL</a> relative to either another <a data-link-type="dfn" href="https://url.spec.whatwg.org/#syntax-url-absolute">absolute URL</a> or an element, the user agent must use the following steps. Resolving a URL
    can result in an error, in which case the URL is not resolvable.</p>
     <ol>
      <li data-md="">
       <p>Let <var>url</var> be the <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-url">URL</a> being resolved.</p>
      </li><li data-md="">
       <p>Let <var>encoding</var> be determined as follows:</p>
       <dl class="switch">
        <dt> If the URL had a character encoding defined when the URL was created or defined or when
    this algorithm was invoked 
        </dt><dd>The URL character encoding is as defined.
        </dd><dt>If the URL came from a script (e.g. as an argument to a method)
        </dt><dd> The URL character encoding is the <a data-link-type="dfn" href="webappapis.html#api-url-character-encoding">API URL character encoding</a> specified by the
    script’s <a data-link-type="dfn" href="webappapis.html#settings-object">settings object</a>. 
        </dd><dt>If the URL came from a DOM node (e.g. from an element)
        </dt><dd> The node has a <code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#document">Document</a></code>, and the URL character encoding is the <a data-link-type="dfn" href="http://www.w3.org/TR/dom/#concept-document-documents-character-encoding">document’s character encoding</a>. 
       </dd></dl>
      </li><li data-md="">
       <p>If <var>encoding</var> is a <a data-link-type="dfn" href="infrastructure.html#utf-16-encoding">UTF-16 encoding</a>, then change the value of <var>encoding</var> to UTF-8.</p>
      </li><li data-md="">
       <p>If the algorithm was invoked with an <a data-link-type="dfn" href="https://url.spec.whatwg.org/#syntax-url-absolute">absolute URL</a> to use as the base URL, let <var>base</var> be that <a data-link-type="dfn" href="https://url.spec.whatwg.org/#syntax-url-absolute">absolute URL</a>.</p>
       <p>Otherwise, let <var>base</var> be the element’s <a data-link-type="dfn" href="https://dom.spec.whatwg.org/#concept-node-document">node document</a>’s <a data-link-type="dfn" href="infrastructure.html#document-base-url">document base URL</a>.</p>
      </li><li data-md="">
       <p>Apply the <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-parser">URL parser</a> to <var>url</var>, with <var>base</var> as the base URL, with <var>encoding</var> as the encoding.</p>
      </li><li data-md="">
       <p>If this returns failure, then abort these steps with an error.</p>
      </li><li data-md="">
       <p>Let <var>parsed URL</var> be the result of the <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-parser">URL parser</a>.</p>
      </li><li data-md="">
       <p>Let <var>serialized URL</var> be the result of apply the <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-serializer">URL serializer</a> to <var>parsed URL</var>.</p>
      </li><li data-md="">
       <p>Return <var>serialized URL</var> as the <dfn data-dfn-type="dfn" data-noexport="" id="resulting-absolute-url">resulting absolute URL<a class="self-link" href="infrastructure.html#resulting-absolute-url"></a></dfn> and <var>parsed URL</var> as the <dfn data-dfn-type="dfn" data-noexport="" id="resulting-parsed-url">resulting parsed URL<a class="self-link" href="infrastructure.html#resulting-parsed-url"></a></dfn>.</p>
     </li></ol>
    </div>
    <div class="impl">
     <h4 class="heading settled" data-level="2.5.3" id="dynamic-changes-to-base-urls"><span class="secno">2.5.3. </span><span class="content">Dynamic changes to base URLs</span><a class="self-link" href="infrastructure.html#dynamic-changes-to-base-urls"></a></h4>
     <p>When a document’s <a data-link-type="dfn" href="infrastructure.html#document-base-url">document base URL</a> changes, all elements in that document are <a data-link-type="dfn" href="infrastructure.html#affected-by-a-base-url-change">affected by a base URL change</a>.</p>
     <p>The following are <a data-link-type="dfn" href="infrastructure.html#base-url-change-steps">base URL change steps</a>, which run when an element is <a data-link-type="dfn" href="infrastructure.html#affected-by-a-base-url-change">affected by a base URL change</a> (as defined by the DOM specification):</p>
     <dl class="switch">
      <dt>If the element creates a <a data-link-type="dfn" href="semantics.html#hyperlink">hyperlink</a>
      </dt><dd>
        If the <a data-link-type="dfn" href="https://url.spec.whatwg.org/#syntax-url-absolute">absolute URL</a> identified by the hyperlink is being shown to the user, or if any
        data derived from that URL is affecting the display, then the <code><a data-link-type="element-attr" href="semantics.html#element-attrdef-links-href">href</a></code> attribute
        should be <a data-link-type="dfn" href="infrastructure.html#re-resolved">re-resolved</a> relative to the element and the UI updated appropriately. 
       <p class="example" id="example-edfd2806"><a class="self-link" href="infrastructure.html#example-edfd2806"></a> For example, the CSS <code>:link</code>/<code>:visited</code> pseudo-classes might have
          been affected. </p>
      </dd><dt> If the element is a <code><a data-link-type="element" href="semantics.html#elementdef-q">q</a></code>, <code><a data-link-type="element" href="semantics.html#elementdef-blockquote">blockquote</a></code>, <code><a data-link-type="element" href="semantics.html#elementdef-ins">ins</a></code>, or <code><a data-link-type="element" href="semantics.html#elementdef-del">del</a></code> element with a <code>cite</code> attribute 
      </dt><dd> If the <a data-link-type="dfn" href="https://url.spec.whatwg.org/#syntax-url-absolute">absolute URL</a> identified by the <code>cite</code> attribute is being shown to
        the user, or if any data derived from that URL is affecting the display, then the <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-url">URL</a> should be <a data-link-type="dfn" href="infrastructure.html#re-resolved">re-resolved</a> relative to the element and the UI updated appropriately. 
      </dd><dt>Otherwise
      </dt><dd>
        The element is not directly affected. 
       <p class="example" id="example-f2cfc0de"><a class="self-link" href="infrastructure.html#example-f2cfc0de"></a> For instance, changing the base URL doesn’t affect the image displayed by <code>img</code> elements, although subsequent accesses of the <code>src</code> IDL attribute from script
          will return a new <a data-link-type="dfn" href="https://url.spec.whatwg.org/#syntax-url-absolute">absolute URL</a> that might no longer correspond to the image being
          shown. </p>
     </dd></dl>
    </div>
    <div class="impl">
     <h3 class="heading settled" data-level="2.6" id="fetching-resources"><span class="secno">2.6. </span><span class="content">Fetching resources</span><a class="self-link" href="infrastructure.html#fetching-resources"></a></h3>
     <h4 class="heading settled" data-level="2.6.1" id="fetching-resources-terminology"><span class="secno">2.6.1. </span><span class="content">Terminology</span><a class="self-link" href="infrastructure.html#fetching-resources-terminology"></a></h4>
     <p>User agents can implement a variety of transfer protocols, but this specification mostly defines
    behavior in terms of HTTP. <a data-link-type="biblio" href="references.html#biblio-http">[HTTP]</a></p>
     <p>The <dfn data-dfn-type="dfn" data-lt="or equivalent|HTTP GET method" data-noexport="" id="or-equivalent">HTTP GET method<a class="self-link" href="infrastructure.html#or-equivalent"></a></dfn> is equivalent to the default retrieval action of the protocol.
    For example, RETR in FTP. Such actions are idempotent and safe, in HTTP terms.</p>
     <p>The <dfn data-dfn-type="dfn" data-noexport="" id="http-response-codes">HTTP response codes<a class="self-link" href="infrastructure.html#http-response-codes"></a></dfn> are equivalent to statuses in other protocols that have the
    same basic meanings. For example, a "file not found" error is equivalent to a 404 code, a server
    error is equivalent to a 5xx code, and so on.</p>
     <p>The <dfn data-dfn-type="dfn" data-noexport="" id="http-headers">HTTP headers<a class="self-link" href="infrastructure.html#http-headers"></a></dfn> are equivalent to fields in
    other protocols that have the same basic meaning. For example, the HTTP authentication headers
    are equivalent to the authentication aspects of the FTP protocol.</p>
     <p>A <dfn data-dfn-type="dfn" data-noexport="" id="referrer-source">referrer source<a class="self-link" href="infrastructure.html#referrer-source"></a></dfn> is either a <code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#document">Document</a></code> or a <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-url">URL</a>.</p>
     <p>To <dfn data-dfn-type="dfn" data-lt="creating a potential-cors request|create a potential-CORS request" data-noexport="" id="creating-a-potential-cors-request">create a potential-CORS request<a class="self-link" href="infrastructure.html#creating-a-potential-cors-request"></a></dfn>, given a <var>url</var>, <var>corsAttributeState</var>, and an optional <i>same-origin fallback flag</i>, run these steps:</p>
     <ol>
      <li data-md="">
       <p>Let <var>mode</var> be "<code>no-cors</code>" if <var>corsAttributeState</var> is <a data-link-type="dfn" href="infrastructure.html#no-cors">No CORS</a>, and "<code>cors</code>" otherwise.</p>
      </li><li data-md="">
       <p>If <i>same-origin fallback flag</i> is set and <var>mode</var> is "<code>no-cors</code>", set <var>mode</var> to "<code>same-origin</code>".</p>
      </li><li data-md="">
       <p>Let <var>credentialsMode</var> be "<code>include</code>".</p>
      </li><li data-md="">
       <p>If <var>corsAttributeState</var> is <a data-link-type="dfn" href="https://drafts.csswg.org/css-display-3/#anonymous">Anonymous</a>, set <var>credentialsMode</var> to
"<code>same-origin</code>".</p>
      </li><li data-md="">
       <p>Let <var>request</var> be a new <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request">request</a> whose <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-url">URL</a> is <var>url</var>, <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request-destination">destination</a> is "<code>subresource</code>", <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request-mode">mode</a> is <var>mode</var>, <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request-credentials-mode">credentials mode</a> is <var>credentialsMode</var>, and whose <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request-use-url-credentials-flag">use-URL-credentials flag</a> is set.</p>
     </li></ol>
     <h4 class="heading settled" data-level="2.6.2" id="fetching-resources-processing-model"><span class="secno">2.6.2. </span><span class="content">Processing model</span><a class="self-link" href="infrastructure.html#fetching-resources-processing-model"></a></h4>
     <p>When a user agent is to <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-fetch">fetch</a> a resource or <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-url">URL</a>, optionally <strong>from</strong> an origin <i>origin</i>, optionally <strong>using</strong> a specific <a data-link-type="dfn" href="infrastructure.html#referrer-source">referrer source</a> as an <i>override referrer source</i>, and optionally with any of a <i>synchronous flag</i>, a <i>manual redirect flag</i>, a <i>force same-origin flag</i>, and a <i>block cookies flag</i>, the following steps must be run. (When a <em>URL</em> is to be
    fetched, the URL identifies a resource to be obtained.)</p>
     <ol>
      <li data-md="">
       <p>If there is a specific <i>override referrer source</i>, and it is a <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-url">URL</a>, then let <var>referrer</var> be the <i>override referrer source</i>, and jump to the step labeled <i>clean referrer</i>.</p>
      </li><li data-md="">
       <p>Let <var>document</var> be the appropriate <code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#document">Document</a></code> as given by the following
list:</p>
       <dl class="switch">
        <dt>If there is a specific <i>override referrer source</i>
        </dt><dd>The <i>override referrer source</i>.
        </dd><dt>When <a data-link-type="dfn" href="browsers.html#navigated">navigating</a>
        </dt><dd>The <a data-link-type="dfn" href="browsers.html#active-document">active document</a> of the <a data-link-type="dfn" href="browsers.html#source-browsing-context">source browsing context</a>.
        </dd><dt>When fetching resources for an element
        </dt><dd>The element’s <code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#document">Document</a></code>.
       </dd></dl>
      </li><li data-md="">
       <p>While <var>document</var> is <a data-link-type="dfn" href="semantics.html#iframe-iframe-srcdoc-document">an <code>iframe</code> <code>srcdoc</code> document</a>, let <var>document</var> be <var>document</var>’s <a data-link-type="dfn" href="browsers.html#browsing-context">browsing context</a>’s <a data-link-type="dfn" href="browsers.html#browsing-context-container">browsing context container</a>’s <code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#document">Document</a></code> instead.</p>
      </li><li data-md="">
       <p>If the <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request-origin">origin</a> of <var>Document</var> is not a scheme/host/port tuple, then set <var>referrer</var> to the empty string and jump to the step labeled <i>clean referrer</i>.</p>
      </li><li data-md="">
       <p>Let <var>referrer</var> be <a data-link-type="dfn" href="dom.html#the-document-address">the document’s address</a> of <var>document</var>.</p>
      </li><li data-md="">
       <p><i>Clean referrer</i>: Apply the <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-parser">URL parser</a> to <var>referrer</var> and let <var>parsed referrer</var> be the <a data-link-type="dfn" href="infrastructure.html#resulting-parsed-url">resulting parsed URL</a>.</p>
      </li><li data-md="">
       <p>Let <var>referrer</var> be the result of applying the <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-serializer">URL serializer</a> to <var>parsed referrer</var>, with the <i>exclude fragment flag</i> set.</p>
      </li><li data-md="">
       <p>If <var>referrer</var> is not the empty string, is not a <a data-link-type="scheme" href="infrastructure.html#schemedef-data-url"><code>data:</code> URL</a>, and
is not the <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-url">URL</a> "<code>about:blank</code>", then generate the <i>address of the
resource from which Request-URIs are obtained</i> as required by HTTP for the <code>Referer</code> (sic) header from <var>referrer</var>. <a data-link-type="biblio" href="references.html#biblio-http">[HTTP]</a></p>
       <p>Otherwise, the <code>Referer</code> (sic) header must be omitted, regardless of its value.</p>
      </li><li data-md="">
       <p>If the algorithm was not invoked with the <i>synchronous flag</i>, perform the remaining
steps <a data-link-type="dfn" href="infrastructure.html#in-parallel">in parallel</a>.</p>
      </li><li data-md="">
       <p>If the <code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#document">Document</a></code> with which any <a data-link-type="dfn" href="webappapis.html#tasks">tasks</a> <a data-link-type="dfn" href="webappapis.html#queue-a-microtask">queued</a> by this algorithm
would be associated doesn’t have an associated <a data-link-type="dfn" href="browsers.html#browsing-context">browsing context</a>, then abort these
steps.</p>
      </li><li data-md="">
       <p>This is the <i>main step</i>.</p>
       <p>If the resource is to be obtained from an <a data-link-type="dfn" href="browsers.html#application-cache-manifest">application cache</a>, then use the data from
that <a data-link-type="dfn" href="browsers.html#application-cache-manifest">application cache</a>, as if it had been obtained in the manner appropriate given
its <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-url">URL</a>.</p>
       <p>If the resource is identified by an <a data-link-type="dfn" href="https://url.spec.whatwg.org/#syntax-url-absolute">absolute URL</a>, and the resource is to be obtained
using an idempotent action (such as an HTTP GET <a data-link-type="dfn" href="infrastructure.html#or-equivalent">or equivalent</a>), and it is already
being downloaded for other reasons (e.g. another invocation of this algorithm), and this
request would be identical to the previous one (e.g. same <code>Accept</code> and <code>Origin</code> headers), and the user agent is configured such that it is to reuse the
data from the existing download instead of initiating a new one, then use the results of the
existing download instead of starting a new one.</p>
       <p>Otherwise, if the resource is identified by an <a data-link-type="dfn" href="https://url.spec.whatwg.org/#syntax-url-absolute">absolute URL</a> with a scheme that does
not define a mechanism to obtain the resource (e.g. it is a <code>mailto:</code> URL) or
that the user agent does not support, then act as if the resource was an HTTP 204 No Content
response with no other metadata.</p>
       <p>Otherwise, if the resource is identified by the <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-url">URL</a> <code>about:blank</code>, then the resource is immediately available and consists
of the empty string, with no metadata.</p>
       <p>Otherwise, at a time convenient to the user and the user agent, download (or otherwise
obtain) the resource, applying the semantics of the relevant specifications (e.g. performing
an HTTP GET or POST operation, or reading the file from disk, or expanding <a data-link-type="scheme" href="infrastructure.html#schemedef-data-url"><code>data:</code> URLs</a>, etc).</p>
       <p>For the purposes of the <code>Referer</code> (sic) header, use the <i>address of the resource from which Request-URIs are obtained</i> generated in the earlier
step.</p>
       <p>For the purposes of the <code>Origin</code> header, if the <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-fetch">fetching algorithm</a> was
explicitly initiated from an <i>origin</i>, then <i>the origin that initiated the HTTP request</i> is <i>origin</i>. Otherwise, this is <i>a request from a "privacy-sensitive" context</i>. <a data-link-type="biblio" href="references.html#biblio-origin">[ORIGIN]</a></p>
      </li><li data-md="">
       <p>If the algorithm was not invoked with the <i>block cookies flag</i>, and there are cookies
to be set, update the cookies. <a data-link-type="biblio" href="references.html#biblio-cookies">[COOKIES]</a> <a class="fingerprint" href="introduction.html#fingerprinting-vector"><img alt="(This is a fingerprinting vector.)" height="21" src="images/fingerprint.png" width="15"></a></p>
      </li><li data-md="">
       <p>If the fetched resource is an HTTP redirect <a data-link-type="dfn" href="infrastructure.html#or-equivalent">or equivalent</a>, then:</p>
       <dl class="switch">
        <dt> If the <i>force same-origin flag</i> is set and the <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-url">URL</a> of the target of the
    redirect does not have the <a data-link-type="dfn" href="browsers.html#same-origin">same origin</a> as the <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-url">URL</a> for which the <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-fetch">fetch</a> algorithm was invoked 
        </dt><dd> Abort these steps and return failure from this algorithm, as if the remote host could
    not be contacted. 
        </dd><dt>If the <i>manual redirect flag</i> is set
        </dt><dd> Continue, using the fetched resource (the redirect) as the result of the algorithm. If
    the calling algorithm subsequently requires the user agent to <dfn data-dfn-type="dfn" data-noexport="" id="transparently-follow-the-redirect">transparently follow the redirect<a class="self-link" href="infrastructure.html#transparently-follow-the-redirect"></a></dfn>, then the user agent must resume this
    algorithm from the <i>main step</i>, but using the target of the redirect as the
    resource to fetch, rather than the original resource. 
        </dd><dt>Otherwise
        </dt><dd>
          First, apply any relevant requirements for redirects (such as showing any appropriate
    prompts). Then, redo <i>main step</i>, but using the target of the redirect as the
    resource to fetch, rather than the original resource. For HTTP requests, the new request
    must include the same headers as the original request, except for headers for which
    other requirements are specified (such as the <code>Host</code> header). <a data-link-type="biblio" href="references.html#biblio-http">[HTTP]</a> 
         <p class="note" role="note"> The HTTP specification requires that 301, 302, and 307 redirects, when applied to
      methods other than the safe methods, not be followed without user confirmation. That
      would be an appropriate prompt for the purposes of the requirement in the paragraph
      above. <a data-link-type="biblio" href="references.html#biblio-http">[HTTP]</a> </p>
       </dd></dl>
      </li><li data-md="">
       <p>If the algorithm was not invoked with the <i>synchronous flag</i>: When the resource is
available, or if there is an error of some description, <a data-link-type="dfn" href="webappapis.html#queuing">queue a task</a> that uses the
resource as appropriate. If the resource can be processed incrementally, as, for instance,
with a progressively interlaced JPEG or an HTML file, additional tasks may be queued to
process the data as it is downloaded. The <a data-link-type="dfn" href="webappapis.html#task-source">task source</a> for these <a data-link-type="dfn" href="webappapis.html#tasks">tasks</a> is the <a data-link-type="dfn" href="webappapis.html#networking-task-source">networking task source</a>.</p>
       <p>Otherwise, return the resource or error information to the calling algorithm.</p>
     </li></ol>
     <p>If the user agent can determine the actual length of the resource being <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-fetch">fetched</a> for an
    instance of this algorithm, and if that length is finite, then that length is the file’s <dfn data-dfn-type="dfn" data-noexport="" id="size">size<a class="self-link" href="infrastructure.html#size"></a></dfn>. Otherwise, the subject of the algorithm (that is, the resource being fetched)
    has no known <a data-link-type="dfn" href="infrastructure.html#size">size</a>. (For example, the HTTP <code>Content-Length</code> header might
    provide this information.)</p>
     <p>The user agent must also keep track of the <dfn data-dfn-type="dfn" data-noexport="" id="number-of-bytes-downloaded">number of bytes downloaded<a class="self-link" href="infrastructure.html#number-of-bytes-downloaded"></a></dfn> for each
    instance of this algorithm. This number must exclude any out-of-band metadata, such as HTTP
    headers.</p>
     <p class="note" role="note"> The <a data-link-type="dfn" href="browsers.html#application-cache-manifest">application cache</a> processing model introduces some <a href="browsers.html#changes-to-the-networking-model">changes to the networking model</a> to handle the returning of cached resources. </p>
     <p class="note" role="note"> The <a data-link-type="dfn" href="browsers.html#navigated">navigation</a> processing model handles redirects itself, overriding the redirection
      handling that would be done by the <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-fetch">fetching algorithm</a>. </p>
     <p class="note" role="note"> Whether the <a href="infrastructure.html#content-type-sniffing">type sniffing rules</a> apply to the fetched resource depends on the algorithm
      that invokes the rules — they are not always applicable. </p>
     <h4 class="heading settled" data-level="2.6.3" id="encrypted-http-and-related-security-concerns"><span class="secno">2.6.3. </span><span class="content">Encrypted HTTP and related security concerns</span><a class="self-link" href="infrastructure.html#encrypted-http-and-related-security-concerns"></a></h4>
     <p>Anything in this specification that refers to HTTP also applies to HTTP-over-TLS, as represented
    by [[url#urls|URLs]] representing the <code>https</code> scheme. <a data-link-type="biblio" href="references.html#biblio-http">[HTTP]</a></p>
     <p class="warning"> User agents should report certificate errors to the user and must either refuse to download
      resources sent with erroneous certificates or must act as if such resources were in fact
      served with no encryption. </p>
     <p>User agents should warn the user that there is a potential problem whenever the user visits a
    page that the user has previously visited, if the page uses less secure encryption on the second
    visit.</p>
     <p>Not doing so can result in users not noticing man-in-the-middle attacks.</p>
     <div class="example" id="example-4fe6b236">
      <a class="self-link" href="infrastructure.html#example-4fe6b236"></a> If a user connects to a server with a self-signed certificate, the user agent could allow the
      connection but just act as if there had been no encryption. If the user agent instead allowed
      the user to override the problem and then displayed the page as if it was fully and safely
      encrypted, the user could be easily tricked into accepting man-in-the-middle connections. 
      <p>If a user connects to a server with full encryption, but the page then refers to an external
      resource that has an expired certificate, then the user agent will act as if the resource was
      unavailable, possibly also reporting the problem to the user. If the user agent instead
      allowed the resource to be used, then an attacker could just look for "secure" sites that used
      resources from a different host and only apply man-in-the-middle attacks to that host, for
      example taking over scripts in the page.</p>
      <p>If a user bookmarks a site that uses a CA-signed certificate, and then later revisits that
      site directly but the site has started using a self-signed certificate, the user agent could
      warn the user that a man-in-the-middle attack is likely underway, instead of simply acting as
      if the page was not encrypted.</p>
     </div>
     <h4 class="heading settled" data-level="2.6.4" id="content-type-sniffing"><span class="secno">2.6.4. </span><span class="content">Determining the type of a resource</span><a class="self-link" href="infrastructure.html#content-type-sniffing"></a></h4>
     <p>The <dfn data-dfn-type="dfn" data-lt="content-type metadata|associated content-type headers|associated content-type metadata|explicit content-type metadata|content-type|the resource’s content-type metadata|type information" data-noexport="" id="content-type-metadata">Content-Type metadata<a class="self-link" href="infrastructure.html#content-type-metadata"></a></dfn> of a resource must be obtained and interpreted in a manner
    consistent with the requirements of the MIME Sniffing specification. <a data-link-type="biblio" href="references.html#biblio-mimesniff">[MIMESNIFF]</a></p>
     <p>The <dfn data-dfn-type="dfn" data-lt="sniffed type of the resource|sniffed type of a resource|image sniffing" data-noexport="" id="sniffed-type-of-the-resource">sniffed type of a resource<a class="self-link" href="infrastructure.html#sniffed-type-of-the-resource"></a></dfn> must be found in a manner consistent with the
    requirements given in the MIME Sniffing specification for finding the <i>sniffed media type</i> of the relevant sequence of octets. <a data-link-type="biblio" href="references.html#biblio-mimesniff">[MIMESNIFF]</a></p>
     <p>The <dfn data-dfn-type="dfn" data-lt="image sniffing rules|rules for sniffing images specifically" data-noexport="" id="image-sniffing-rules">rules for sniffing images specifically<a class="self-link" href="infrastructure.html#image-sniffing-rules"></a></dfn> and the <dfn data-dfn-type="dfn" data-noexport="" id="rules-for-distinguishing-if-a-resource-is-text-or-binary">rules for distinguishing if a
    resource is text or binary<a class="self-link" href="infrastructure.html#rules-for-distinguishing-if-a-resource-is-text-or-binary"></a></dfn> are also defined in the MIME Sniffing specification. Both sets
    of rules return a <a data-link-type="dfn" href="infrastructure.html#mime-type">MIME type</a> as their result. <a data-link-type="biblio" href="references.html#biblio-mimesniff">[MIMESNIFF]</a></p>
     <p class="warning"> It is imperative that the rules in the MIME Sniffing specification be followed exactly. When a
      user agent uses different heuristics for content type detection than the server expects,
      security problems can occur. For more details, see the MIME Sniffing specification. <a data-link-type="biblio" href="references.html#biblio-mimesniff">[MIMESNIFF]</a> </p>
     <h4 class="heading settled" data-level="2.6.5" id="extracting-character-encodings-from-meta-elements"><span class="secno">2.6.5. </span><span class="content">Extracting character encodings from <code><a data-link-type="element" href="semantics.html#elementdef-meta">meta</a></code> elements</span><a class="self-link" href="infrastructure.html#extracting-character-encodings-from-meta-elements"></a></h4>
     <p>The <dfn data-dfn-type="dfn" data-noexport="" id="algorithm-for-extracting-a-character-encoding-from-a-meta-element">algorithm for extracting a character encoding from a <code><a data-link-type="element" href="semantics.html#elementdef-meta">meta</a></code> element<a class="self-link" href="infrastructure.html#algorithm-for-extracting-a-character-encoding-from-a-meta-element"></a></dfn>,
    given a string <var>s</var>, is as follows. It either returns a character encoding or nothing.</p>
     <ol>
      <li data-md="">
       <p>Let <var>position</var> be a pointer into <var>s</var>, initially pointing at the start of
the string.</p>
      </li><li data-md="">
       <p><i>Loop</i>: Find the first seven characters in <var>s</var> after <var>position</var> that
are an <a data-link-type="dfn" href="infrastructure.html#ascii-case-insensitive">ASCII case-insensitive</a> match for the word "<code>charset</code>". If no such
match is found, return nothing and abort these steps.</p>
      </li><li data-md="">
       <p>Skip any <a data-link-type="dfn" href="infrastructure.html#space-characters">space characters</a> that immediately follow the word "<code>charset</code>"
(there might not be any).</p>
      </li><li data-md="">
       <p>If the next character is not a U+003D EQUALS SIGN (=), then move <var>position</var> to point
just before that next character, and jump back to the step labeled <i>loop</i>.</p>
      </li><li data-md="">
       <p>Skip any <a data-link-type="dfn" href="infrastructure.html#space-characters">space characters</a> that immediately follow the equals sign (there might not be
any).</p>
      </li><li data-md="">
       <p>Process the next character as follows:</p>
       <dl class="switch">
        <dt> If it is a U+0022 QUOTATION MARK character (") and there is a later U+0022 QUOTATION
    MARK character (") in <var>s</var> 
        </dt><dt> If it is a U+0027 APOSTROPHE character (') and there is a later U+0027 APOSTROPHE
    character (') in <var>s</var> 
        </dt><dd> Return the result of <a data-link-type="dfn" href="infrastructure.html#getting-an-encoding">getting an encoding</a> from the substring that is between
    this character and the next earliest occurrence of this character. 
        </dd><dt>If it is an unmatched U+0022 QUOTATION MARK character (")
        </dt><dt>If it is an unmatched U+0027 APOSTROPHE character (')
        </dt><dt>If there is no next character
        </dt><dd>Return nothing.
        </dd><dt>Otherwise
        </dt><dd> Return the result of <a data-link-type="dfn" href="infrastructure.html#getting-an-encoding">getting an encoding</a> from the substring that consists of this
    character up to but not including the first <a data-link-type="dfn" href="infrastructure.html#space-characters">space character</a> or U+003B SEMICOLON
    character (;), or the end of <var>s</var>, whichever comes first. 
       </dd></dl>
     </li></ol>
     <p class="note" role="note"> This algorithm is distinct from those in the HTTP specification (for example, HTTP doesn’t
      allow the use of single quotes and requires supporting a backslash-escape mechanism that is
      not supported by this algorithm). While the algorithm is used in contexts that, historically,
      were related to HTTP, the syntax as supported by implementations diverged some time ago. <a data-link-type="biblio" href="references.html#biblio-http">[HTTP]</a> </p>
    </div>
    <h4 class="heading settled" data-level="2.6.6" id="cors-settings-attributes"><span class="secno">2.6.6. </span><span class="content">CORS settings attributes</span><a class="self-link" href="infrastructure.html#cors-settings-attributes"></a></h4>
    <p>A <dfn data-dfn-type="dfn" data-noexport="" id="cors-settings-attribute">CORS settings attribute<a class="self-link" href="infrastructure.html#cors-settings-attribute"></a></dfn> is an <a data-link-type="dfn" href="infrastructure.html#enumerated-attributes">enumerated attribute</a>. The following table lists
  the keywords and states for the attribute — the keywords in the left column map to the
  states in the cell in the second column on the same row as the keyword.</p>
    <table>
     <thead>
      <tr>
       <th>Keyword
       </th><th>State
       </th><th>Brief description
     </th></tr></thead><tbody>
      <tr>
       <td><dfn class="css" data-dfn-for="cors" data-dfn-type="value" data-export="" id="valdef-cors-anonymous"><code>anonymous</code><a class="self-link" href="infrastructure.html#valdef-cors-anonymous"></a></dfn>
       </td><td><dfn data-dfn-for="cors" data-dfn-type="state" data-export="" id="statedef-cors-anonymous">Anonymous<a class="self-link" href="infrastructure.html#statedef-cors-anonymous"></a></dfn>
       </td><td> <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request">Requests</a> for the element will have their <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request-mode">mode</a> set to "<code>cors</code>" and
        their <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request-credentials-mode">credentials mode</a> set to "<code>same-origin</code>". 
      </td></tr><tr>
       <td><dfn class="css" data-dfn-for="cors" data-dfn-type="value" data-export="" id="valdef-cors-use-credentials"><code>use-credentials</code><a class="self-link" href="infrastructure.html#valdef-cors-use-credentials"></a></dfn>
       </td><td><dfn data-dfn-for="cors" data-dfn-type="state" data-export="" id="statedef-cors-use-credentials">Use Credentials<a class="self-link" href="infrastructure.html#statedef-cors-use-credentials"></a></dfn>
       </td><td> <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request">Requests</a> for the element will have their <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request-mode">mode</a> set to "<code>cors</code>" and
        their <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request-credentials-mode">credentials mode</a> set to "<code>include</code>". 
    </td></tr></tbody></table>
    <p>The empty string is also a valid keyword, and maps to the <a data-link-type="state" href="infrastructure.html#statedef-cors-anonymous">Anonymous</a> state. The attribute’s <i>invalid value default</i> is the <a data-link-type="state" href="infrastructure.html#statedef-cors-anonymous">Anonymous</a> state. For the purposes of <a data-link-type="dfn" href="infrastructure.html#reflection">reflection</a>,
  the canonical case for the <a data-link-type="state" href="infrastructure.html#statedef-cors-anonymous">Anonymous</a> state is the <a class="css" data-link-type="value" href="infrastructure.html#valdef-cors-anonymous"><code>anonymous</code></a> keyword. The <i>missing value default</i>, used when the attribute is omitted, is the <dfn data-dfn-type="dfn" data-noexport="" id="no-cors">No CORS<a class="self-link" href="infrastructure.html#no-cors"></a></dfn> state.</p>
    <h3 class="heading settled" data-level="2.7" id="common-dom-interfaces"><span class="secno">2.7. </span><span class="content">Common DOM interfaces</span><a class="self-link" href="infrastructure.html#common-dom-interfaces"></a></h3>
    <h4 class="heading settled" data-level="2.7.1" id="reflecting-content-attributes-in-idl-attributes"><span class="secno">2.7.1. </span><span class="content">Reflecting content attributes in IDL attributes</span><a class="self-link" href="infrastructure.html#reflecting-content-attributes-in-idl-attributes"></a></h4>
    <p>Some IDL attributes are defined to <dfn data-dfn-type="dfn" data-lt="reflection|reflect" data-noexport="" id="reflection">reflect<a class="self-link" href="infrastructure.html#reflection"></a></dfn> a particular content attribute. This means
  that on getting, the IDL attribute returns the current value of the content attribute, and on
  setting, the IDL attribute changes the value of the content attribute to the given value.</p>
    <div class="impl">
      In general, on getting, if the content attribute is not present, the IDL attribute must act as
    if the content attribute’s value is the empty string; and on setting, if the content attribute
    is not present, it must first be added. 
     <p>If a reflecting IDL attribute is a <code>DOMString</code> attribute whose content attribute is
    defined to contain a <a data-link-type="dfn" href="https://url.spec.whatwg.org/#concept-url-url">URL</a>, then on getting, the IDL attribute must <a data-link-type="dfn" href="infrastructure.html#re-resolved">resolve</a> the
    value of the content attribute relative to the element and return the resulting <a data-link-type="dfn" href="https://url.spec.whatwg.org/#syntax-url-absolute">absolute URL</a> if that was successful, or the empty string otherwise; and on setting, must
    set the content attribute to the specified literal value. If the content attribute is absent,
    the IDL attribute must return the default value, if the content attribute has one, or else the
    empty string.</p>
     <p>If a reflecting IDL attribute is a <code>DOMString</code> attribute whose content attribute is
    defined to contain one or more [[url#urls|URLs]], then on getting, the IDL attribute must <a data-link-type="dfn" href="infrastructure.html#split-a-string-on-spaces">split the
    content attribute on spaces</a> and return the concatenation of <a data-link-type="dfn" href="infrastructure.html#re-resolved">resolving</a> each token URL
    to an <a data-link-type="dfn" href="https://url.spec.whatwg.org/#syntax-url-absolute">absolute URL</a> relative to the element, with a single U+0020 SPACE character between
    each URL, ignoring any tokens that did not resolve successfully. If the content attribute is
    absent, the IDL attribute must return the default value, if the content attribute has one, or
    else the empty string. On setting, the IDL attribute must set the content attribute to the
    specified literal value.</p>
     <p>If a reflecting IDL attribute is a <code>DOMString</code> attribute whose content attribute is
    an <a data-link-type="dfn" href="infrastructure.html#enumerated-attributes">enumerated attribute</a>, and the IDL attribute is <dfn data-dfn-type="dfn" data-noexport="" id="limited-to-only-known-values">limited to only known values<a class="self-link" href="infrastructure.html#limited-to-only-known-values"></a></dfn>,
    then, on getting, the IDL attribute must return the conforming value associated with the state
    the attribute is in (in its canonical case), if any, or the empty string if the attribute is in
    a state that has no associated keyword value or if the attribute is not in a defined state (e.g.
    the attribute is missing and there is no <i>missing value default</i>); and on setting, the
    content attribute must be set to the specified new value.</p>
     <p>If a reflecting IDL attribute is a nullable <code>DOMString</code> attribute whose content
    attribute is an <a data-link-type="dfn" href="infrastructure.html#enumerated-attributes">enumerated attribute</a>, then, on getting, if the corresponding content
    attribute is in its <i>missing value default</i> then the IDL attribute must return null,
    otherwise, the IDL attribute must return the conforming value associated with the state the
    attribute is in (in its canonical case); and on setting, if the new value is null, the content
    attribute must be removed, and otherwise, the content attribute must be set to the specified new
    value.</p>
     <p>If a reflecting IDL attribute is a <code>DOMString</code> attribute but doesn’t fall into any
    of the above categories, then the getting and setting must be done in a transparent,
    case-preserving manner.</p>
     <p>If a reflecting IDL attribute is a <code>boolean</code> attribute, then on getting the IDL
    attribute must return true if the content attribute is set, and false if it is absent. On
    setting, the content attribute must be removed if the IDL attribute is set to false, and must be
    set to the empty string if the IDL attribute is set to true. (This corresponds to the rules for <a data-link-type="dfn" href="infrastructure.html#boolean-attribute">boolean content attributes</a>.)</p>
     <p>If a reflecting IDL attribute has a signed integer type (<code>long</code>) then, on getting,
    the content attribute must be parsed according to the <a data-link-type="dfn" href="infrastructure.html#integers-parses">rules for parsing signed integers</a>,
    and if that is successful, and the value is in the range of the IDL attribute’s type, the
    resulting value must be returned. If, on the other hand, it fails or returns an out of range
    value, or if the attribute is absent, then the default value must be returned instead, or 0 if
    there is no default value. On setting, the given value must be converted to the shortest
    possible string representing the number as a <a data-link-type="dfn" href="infrastructure.html#valid-integer">valid integer</a> and then that string must be
    used as the new content attribute value.</p>
     <p>If a reflecting IDL attribute has a signed integer type (<code>long</code>)
    that is <dfn data-dfn-type="dfn" data-noexport="" id="limited-to-only-non-negative-numbers">limited to only non-negative numbers<a class="self-link" href="infrastructure.html#limited-to-only-non-negative-numbers"></a></dfn> then, on getting, the content attribute
    must be parsed according to the <a data-link-type="dfn" href="infrastructure.html#parse-that-attributes-value">rules for parsing non-negative integers</a>, and if that
    is successful, and the value is in the range of the IDL attribute’s type, the resulting value
    must be returned. If, on the other hand, it fails or returns an out of range value, or if the
    attribute is absent, the default value must be returned instead, or -1 if there is no
    default value. On setting, if the value is negative, the user agent must throw an <code>IndexSizeError</code> exception. Otherwise, the given value must be converted to the
    shortest possible string representing the number as a <a data-link-type="dfn" href="infrastructure.html#valid-non-negative-integer">valid non-negative integer</a> and then
    that string must be used as the new content attribute value.</p>
     <p>If a reflecting IDL attribute has an <em>unsigned</em> integer type (<code>unsigned long</code>)
    then, on getting, the content attribute must be parsed according to the <a data-link-type="dfn" href="infrastructure.html#parse-that-attributes-value">rules for parsing
    non-negative integers</a>, and if that is successful, and the value is in the range 0 to
    2147483647 inclusive, the resulting value must be returned. If, on the other hand, it fails or
    returns an out of range value, or if the attribute is absent, the default value must be returned
    instead, or 0 if there is no default value. On setting, first, if the new value is in the range
    0 to 2147483647, then let <var>n</var> be the new value, otherwise let <var>n</var> be the
    default value, or 0 if there is no default value; then, <var>n</var> must be converted to the
    shortest possible string representing the number as a <a data-link-type="dfn" href="infrastructure.html#valid-non-negative-integer">valid non-negative integer</a> and that
    string must be used as the new content attribute value.</p>
     <p>If a reflecting IDL attribute has an unsigned integer type (<code>unsigned long</code>) that is <dfn data-dfn-type="dfn" data-noexport="" id="limited-to-only-non-negative-numbers-greater-than-zero">limited to only non-negative numbers greater than zero<a class="self-link" href="infrastructure.html#limited-to-only-non-negative-numbers-greater-than-zero"></a></dfn>, then the behavior is similar
    to the previous case, but zero is not allowed. On getting, the content attribute must first be
    parsed according to the <a data-link-type="dfn" href="infrastructure.html#parse-that-attributes-value">rules for parsing non-negative integers</a>, and if that is
    successful, and the value is in the range 1 to 2147483647 inclusive, the resulting value must be
    returned. If, on the other hand, it fails or returns an out of range value, or if the attribute
    is absent, the default value must be returned instead, or 1 if there is no default value. On
    setting, if the value is zero, the user agent must throw an <code>IndexSizeError</code> exception. Otherwise, first, if the new value is in the range 1 to 2147483647, then let <var>n</var> be the new value, otherwise let <var>n</var> be the default value, or 1 if there is
    no default value; then, <var>n</var> must be converted to the shortest possible string
    representing the number as a <a data-link-type="dfn" href="infrastructure.html#valid-non-negative-integer">valid non-negative integer</a> and that string must be used as
    the new content attribute value.</p>
     <p>If a reflecting IDL attribute has a floating-point number type (<code>double</code> or <code>unrestricted double</code>), then, on getting, the content attribute must be parsed
    according to the <a data-link-type="dfn" href="infrastructure.html#rules-for-parsing-floating-point-number-values">rules for parsing floating-point number values</a>, and if that is
    successful, the resulting value must be returned. If, on the other hand, it fails, or if the
    attribute is absent, the default value must be returned instead, or 0.0 if there is no default
    value. On setting, the given value must be converted to the <a data-link-type="dfn" href="infrastructure.html#floating-point-number">best representation of the number
    as a floating-point number</a> and then that string must be used as the new content attribute
    value.</p>
     <p>If a reflecting IDL attribute has a floating-point number type (<code>double</code> or <code>unrestricted double</code>) that is <dfn data-dfn-type="dfn" data-noexport="" id="limited-to-numbers-greater-than-zero">limited to numbers greater than zero<a class="self-link" href="infrastructure.html#limited-to-numbers-greater-than-zero"></a></dfn>, then
    the behavior is similar to the previous case, but zero and negative values are not allowed. On
    getting, the content attribute must be parsed according to the <a data-link-type="dfn" href="infrastructure.html#rules-for-parsing-floating-point-number-values">rules for parsing
    floating-point number values</a>, and if that is successful and the value is greater than 0.0,
    the resulting value must be returned. If, on the other hand, it fails or returns an out of range
    value, or if the attribute is absent, the default value must be returned instead, or 0.0 if
    there is no default value. On setting, if the value is less than or equal to zero, then the
    value must be ignored. Otherwise, the given value must be converted to the <a data-link-type="dfn" href="infrastructure.html#floating-point-number">best representation of the number as a floating-point number</a> and then that string must be
    used as the new content attribute value.</p>
     <p class="note" role="note"> The values Infinity and Not-a-Number (NaN) values throw an exception on setting, as defined in
      the Web IDL specification. <a data-link-type="biblio" href="references.html#biblio-webidl">[WEBIDL]</a> </p>
     <p>If a reflecting IDL attribute has the type <code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#domtokenlist">DOMTokenList</a></code> or <code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#domsettabletokenlist">DOMSettableTokenList</a></code>, then on getting it must return a <code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#domtokenlist">DOMTokenList</a></code> or <code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#domsettabletokenlist">DOMSettableTokenList</a></code> object (as appropriate) whose associated element is the
    element in question and whose associated attribute’s local name is the name of the attribute in
    question. The same <code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#domtokenlist">DOMTokenList</a></code> or <code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#domsettabletokenlist">DOMSettableTokenList</a></code> object must be
    returned every time for each attribute.</p>
     <p>If a reflecting IDL attribute has the type <code class="idl"><a data-link-type="idl" href="dom.html#htmlelement-htmlelement">HTMLElement</a></code>, or an interface that
    descends from <code class="idl"><a data-link-type="idl" href="dom.html#htmlelement-htmlelement">HTMLElement</a></code>, then, on getting, it must run the following algorithm
    (stopping at the first point where a value is returned):</p>
     <ol>
      <li data-md="">
       <p>If the corresponding content attribute is absent, then the IDL attribute must return null.</p>
      </li><li data-md="">
       <p>Let <var>candidate</var> be the element that the <code>document.getElementById()</code> method would find when called on the content attribute’s element’s <a data-link-type="dfn" href="https://dom.spec.whatwg.org/#concept-node-document">node document</a> if
it were passed as its argument the current value of the corresponding content attribute.</p>
      </li><li data-md="">
       <p>If <var>candidate</var> is null, or if it is not type-compatible with the IDL attribute, then
the IDL attribute must return null.</p>
      </li><li data-md="">
       <p>Otherwise, it must return <var>candidate</var>.</p>
     </li></ol>
     <p>On setting, if the given element has an <code>id</code> attribute, and has the same <a data-link-type="dfn" href="infrastructure.html#home-subtree">home subtree</a> as the element of the attribute being set, and the given element is the
    first element in that <a data-link-type="dfn" href="infrastructure.html#home-subtree">home subtree</a> whose <a data-link-type="dfn" href="http://www.w3.org/TR/dom/#concept-id">ID</a> is the value of that <code>id</code> attribute, then the content attribute must be set to the value of that <code>id</code> attribute. Otherwise, the content attribute must be set to the empty string.</p>
    </div>
    <h4 class="heading settled" data-level="2.7.2" id="collections"><span class="secno">2.7.2. </span><span class="content">Collections</span><a class="self-link" href="infrastructure.html#collections"></a></h4>
    <p>The <code class="idl"><a data-link-type="idl" href="infrastructure.html#htmlallcollection-htmlallcollection">HTMLAllCollection</a></code>, <code class="idl"><a data-link-type="idl" href="infrastructure.html#htmlformcontrolscollection-htmlformcontrolscollection">HTMLFormControlsCollection</a></code>, <code class="idl"><a data-link-type="idl" href="infrastructure.html#htmloptionscollection-htmloptionscollection">HTMLOptionsCollection</a></code>, interfaces are <a data-link-type="dfn" href="http://www.w3.org/TR/dom/#concept-collection">collections</a> derived from the <code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#htmlcollection">HTMLCollection</a></code> interface.</p>
    <h5 class="heading settled" data-level="2.7.2.1" id="the-htmlallcollection-interface"><span class="secno">2.7.2.1. </span><span class="content">The <code>HTMLAllCollection</code> interface</span><a class="self-link" href="infrastructure.html#the-htmlallcollection-interface"></a></h5>
    <p>The <code>HTMLAllCollection</code> interface is used for the legacy <code>document.all</code> attribute. It operates similarly to <code>HTMLCollection</code>; the main differences are that its <code>namedItem()</code> method returns an <code>HTMLCollection</code> object when there are
  multiple matching elements, and that its <code>item()</code> method can be used as a synonym for
  its <code>namedItem()</code> method.</p>
    <p class="note" role="note"> All <code>HTMLAllCollection</code> objects are rooted at a <code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#document">Document</a></code> and have a
    filter that matches all elements, so the elements <a data-link-type="dfn" href="http://www.w3.org/TR/dom/#represented-by-the-collection">represented by the collection</a> of an <code>HTMLAllCollection</code> object consist of all the descendant elements of the root <code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#document">Document</a></code>. </p>
<pre class="idl" data-highlight="webidl">interface <dfn class="idl-code" data-dfn-for="HTMLAllCollection" data-dfn-type="interface" data-export="" id="htmlallcollection-htmlallcollection">HTMLAllCollection<a class="self-link" href="infrastructure.html#htmlallcollection-htmlallcollection"></a></dfn> {
  readonly attribute unsigned long <a class="idl-code" data-link-type="attribute" data-readonly="" data-type="unsigned long " href="infrastructure.html#dom-htmlallcollection-length">length</a>;
  getter <a data-link-type="idl-name" href="https://dom.spec.whatwg.org/#element">Element</a>? <a class="idl-code" data-link-type="method" href="infrastructure.html#dom-htmlallcollection-item">item</a>(unsigned long <dfn class="idl-code" data-dfn-for="HTMLAllCollection/item(index)" data-dfn-type="argument" data-export="" id="dom-htmlallcollection-item-index-index">index<a class="self-link" href="infrastructure.html#dom-htmlallcollection-item-index-index"></a></dfn>);
  (<a data-link-type="idl-name" href="https://dom.spec.whatwg.org/#htmlcollection">HTMLCollection</a> or <a data-link-type="idl-name" href="https://dom.spec.whatwg.org/#element">Element</a>)? <a class="idl-code" data-link-type="method" href="infrastructure.html#dom-htmlallcollection-item-name">item</a>(DOMString <dfn class="idl-code" data-dfn-for="HTMLAllCollection/item(name)" data-dfn-type="argument" data-export="" id="dom-htmlallcollection-item-name-name">name<a class="self-link" href="infrastructure.html#dom-htmlallcollection-item-name-name"></a></dfn>);
  legacycaller getter (<a data-link-type="idl-name" href="https://dom.spec.whatwg.org/#htmlcollection">HTMLCollection</a> or <a data-link-type="idl-name" href="https://dom.spec.whatwg.org/#element">Element</a>)? <a class="idl-code" data-link-type="method" href="infrastructure.html#dom-htmlallcollection-nameditem">namedItem</a>(DOMString <dfn class="idl-code" data-dfn-for="HTMLAllCollection/namedItem(name)" data-dfn-type="argument" data-export="" id="dom-htmlallcollection-nameditem-name-name">name<a class="self-link" href="infrastructure.html#dom-htmlallcollection-nameditem-name-name"></a></dfn>);
};
</pre>
    <dl class="domintro">
     <dt><var>collection</var> . <code>length</code>
     </dt><dd>Returns the number of elements in the collection.
     </dd><dt><var>element</var> = <var>collection</var> . <code>item</code>(<var>index</var>)
     </dt><dt><var>element</var> = <var>collection</var>[<var>index</var>]
     </dt><dd> Returns the item with index <var>index</var> from the collection. The items are sorted in <a data-link-type="dfn" href="infrastructure.html#tree-order">tree order</a>. 
     </dd><dt><var>element</var> = <var>collection</var> . <code>item</code>(<var>name</var>)
     </dt><dt><var>collection</var> = <var>collection</var> . <code>item</code>(<var>name</var>)
     </dt><dt><var>element</var> = <var>collection</var> . <code>namedItem</code>(<var>name</var>)
     </dt><dt><var>collection</var> = <var>collection</var> . <code>namedItem</code>(<var>name</var>)
     </dt><dt><var>element</var> = <var>collection</var>(<var>name</var>)
     </dt><dt><var>collection</var> = <var>collection</var>(<var>name</var>)
     </dt><dt><var>element</var> = <var>collection</var>[<var>name</var>]
     </dt><dt><var>collection</var> = <var>collection</var>[<var>name</var>]
     </dt><dd>
       Returns the item with <a data-link-type="dfn" href="http://www.w3.org/TR/dom/#concept-id">ID</a> or name <var>name</var> from the collection. 
      <p>If there are multiple matching items, then an <code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#htmlcollection">HTMLCollection</a></code> object containing
      all those elements is returned.</p>
      <p>Only <code><a data-link-type="element" href="semantics.html#elementdef-button">button</a></code>, <code><a data-link-type="element" href="semantics.html#elementdef-form">form</a></code>, <code><a data-link-type="element" href="semantics.html#elementdef-iframe">iframe</a></code>, <code><a data-link-type="element" href="semantics.html#elementdef-input">input</a></code>, <code><a data-link-type="element" href="semantics.html#elementdef-map">map</a></code>, <code><a data-link-type="element" href="semantics.html#elementdef-meta">meta</a></code>, <code><a data-link-type="element" href="semantics.html#elementdef-object">object</a></code>, <code><a data-link-type="element" href="semantics.html#elementdef-select">select</a></code>, and <code><a data-link-type="element" href="semantics.html#elementdef-textarea">textarea</a></code> elements can have a name for the purpose of this method; their name is
      given by the value of their <code>name</code> attribute.</p>
    </dd></dl>
    <div class="impl">
      The object’s <a data-link-type="dfn" href="http://www.w3.org/TR/WebIDL/#dfn-supported-property-indices">supported property indices</a> are as defined for <code>HTMLCollection</code> objects. 
     <p>The following elements are <dfn data-dfn-type="dfn" data-noexport="" id="all-named-elements">"all"-named elements<a class="self-link" href="infrastructure.html#all-named-elements"></a></dfn>: <code><a data-link-type="element" href="#a">a</a></code>, <code><a data-link-type="element" href="obsolete.html#elementdef-applet">applet</a></code>, <code><a data-link-type="element" href="semantics.html#elementdef-button">button</a></code>, <code><a data-link-type="element" href="semantics.html#elementdef-embed">embed</a></code>, <code><a data-link-type="element" href="semantics.html#elementdef-form">form</a></code>, <code><a data-link-type="element" href="obsolete.html#elementdef-frame">frame</a></code>, <code><a data-link-type="element" href="obsolete.html#elementdef-frameset">frameset</a></code>, <code><a data-link-type="element" href="semantics.html#elementdef-iframe">iframe</a></code>, <code><a data-link-type="element" href="semantics.html#elementdef-img">img</a></code>, <code><a data-link-type="element" href="semantics.html#elementdef-input">input</a></code>, <code><a data-link-type="element" href="semantics.html#elementdef-map">map</a></code>, <code><a data-link-type="element" href="semantics.html#elementdef-meta">meta</a></code>, <code><a data-link-type="element" href="semantics.html#elementdef-object">object</a></code>, <code><a data-link-type="element" href="semantics.html#elementdef-select">select</a></code>, and <code><a data-link-type="element" href="semantics.html#elementdef-textarea">textarea</a></code></p>
     <p>The <a data-link-type="dfn" href="http://www.w3.org/TR/WebIDL/#dfn-supported-property-names">supported property names</a> consist of the non-empty values of all the <code>id</code> attributes of all the elements <a data-link-type="dfn" href="http://www.w3.org/TR/dom/#represented-by-the-collection">represented by the collection</a>, and the non-empty values of
    all the <code>name</code> attributes of all the <a data-link-type="dfn" href="infrastructure.html#all-named-elements">"all"-named elements</a> <a data-link-type="dfn" href="http://www.w3.org/TR/dom/#represented-by-the-collection">represented by
    the collection</a>, in <a data-link-type="dfn" href="infrastructure.html#tree-order">tree order</a>, ignoring later duplicates, with the <code>id</code> of
    an element preceding its <code>name</code> if it contributes both, they differ from each other,
    and neither is the duplicate of an earlier entry.</p>
     <p>The properties exposed in this way must be <a data-link-type="dfn" href="https://heycam.github.io/webidl/#dfn-unenumerable">unenumerable</a>.</p>
     <p>On getting, the <dfn class="idl-code" data-dfn-for="HTMLAllCollection" data-dfn-type="attribute" data-export="" id="dom-htmlallcollection-length"><code>length</code><a class="self-link" href="infrastructure.html#dom-htmlallcollection-length"></a></dfn> attribute must return the number of nodes <a data-link-type="dfn" href="http://www.w3.org/TR/dom/#represented-by-the-collection">represented by the collection</a>.</p>
     <p>The <dfn class="idl-code" data-dfn-for="HTMLAllCollection" data-dfn-type="method" data-export="" id="dom-htmlallcollection-item"><code>item(<var>index</var>)</code><a class="self-link" href="infrastructure.html#dom-htmlallcollection-item"></a></dfn> method must return the <var>index</var><sup>th</sup> element in the collection. If there is no <var>index</var><sup>th</sup> element in the <a data-link-type="dfn" href="http://www.w3.org/TR/dom/#concept-collection">collection</a>, then the method must return null.</p>
     <p>The <dfn class="idl-code" data-dfn-for="HTMLAllCollection" data-dfn-type="method" data-export="" id="dom-htmlallcollection-item-name"><code>item(<var>name</var>)</code><a class="self-link" href="infrastructure.html#dom-htmlallcollection-item-name"></a></dfn> and <dfn class="idl-code" data-dfn-for="HTMLAllCollection" data-dfn-type="method" data-export="" id="dom-htmlallcollection-nameditem"><code>namedItem(<var>name</var>)</code><a class="self-link" href="infrastructure.html#dom-htmlallcollection-nameditem"></a></dfn> methods must
    act according to the following algorithm:</p>
     <ol>
      <li data-md="">
       <p>If <var>name</var> is the empty string, return null and stop the algorithm.</p>
      </li><li data-md="">
       <p>Let <var>collection</var> be an <code>HTMLCollection</code> object rooted at the same <code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#document">Document</a></code> as the <code>HTMLAllCollection</code> object on which the method was
invoked, whose filter matches only elements that are either:</p>
       <ul>
        <li data-md="">
         <p><a data-link-type="dfn" href="infrastructure.html#all-named-elements">"all"-named elements</a> with a <code>name</code> attribute equal to <var>name</var>,
or,</p>
        </li><li data-md="">
         <p>elements with an <a data-link-type="dfn" href="http://www.w3.org/TR/dom/#concept-id">ID</a> equal to <var>name</var>.</p>
       </li></ul>
      </li><li data-md="">
       <p>If, at the time the method is called, there is exactly one node in <var>collection</var>,
then return that node and stop the algorithm.</p>
      </li><li data-md="">
       <p>Otherwise, if, at the time the method is called, <var>collection</var> is empty, return null
and stop the algorithm.</p>
      </li><li data-md="">
       <p>Otherwise, return <var>collection</var>.</p>
     </li></ol>
    </div>
    <h5 class="heading settled" data-level="2.7.2.2" id="the-htmlformcontrolscollection-interface"><span class="secno">2.7.2.2. </span><span class="content">The <code>HTMLFormControlsCollection</code> interface</span><a class="self-link" href="infrastructure.html#the-htmlformcontrolscollection-interface"></a></h5>
    <p>The <code>HTMLFormControlsCollection</code> interface is used for <a data-link-type="dfn" href="http://www.w3.org/TR/dom/#concept-collection">collections</a> of <a data-link-type="dfn" href="semantics.html#listed-element">listed elements</a> in <code><a data-link-type="element" href="semantics.html#elementdef-form">form</a></code> elements.</p>
<pre class="idl" data-highlight="webidl">interface <dfn class="idl-code" data-dfn-for="HTMLFormControlsCollection" data-dfn-type="interface" data-export="" id="htmlformcontrolscollection-htmlformcontrolscollection">HTMLFormControlsCollection<a class="self-link" href="infrastructure.html#htmlformcontrolscollection-htmlformcontrolscollection"></a></dfn> : <a data-link-type="idl-name" href="https://dom.spec.whatwg.org/#htmlcollection">HTMLCollection</a> {
  // inherits length and item()
  getter (<a data-link-type="idl-name" href="infrastructure.html#radionodelist-radionodelist">RadioNodeList</a> or <a data-link-type="idl-name" href="https://dom.spec.whatwg.org/#element">Element</a>)? <a class="idl-code" data-link-type="method" href="infrastructure.html#dom-htmlformcontrolscollection-nameditem">namedItem</a>(DOMString <dfn class="idl-code" data-dfn-for="HTMLFormControlsCollection/namedItem(name)" data-dfn-type="argument" data-export="" id="dom-htmlformcontrolscollection-nameditem-name-name">name<a class="self-link" href="infrastructure.html#dom-htmlformcontrolscollection-nameditem-name-name"></a></dfn>); // shadows inherited namedItem()
};
</pre>
<pre class="idl" data-highlight="webidl">interface <dfn class="idl-code" data-dfn-for="RadioNodeList" data-dfn-type="interface" data-export="" id="radionodelist-radionodelist">RadioNodeList<a class="self-link" href="infrastructure.html#radionodelist-radionodelist"></a></dfn> : <a data-link-type="idl-name" href="https://dom.spec.whatwg.org/#nodelist">NodeList</a> {
  attribute DOMString <dfn class="idl-code" data-dfn-for="RadioNodeList" data-dfn-type="attribute" data-export="" data-type="DOMString " id="dom-radionodelist-value">value<a class="self-link" href="infrastructure.html#dom-radionodelist-value"></a></dfn>;
};
</pre>
    <dl class="domintro">
     <dt><var>collection</var> . <code>length</code>
     </dt><dd>Returns the number of elements in the collection.
     </dd><dt><var>element</var> = <var>collection</var> . <code>item</code>(<var>index</var>)
     </dt><dt><var>element</var> = <var>collection</var>[<var>index</var>]
     </dt><dd> Returns the item with index <var>index</var> from the collection. The items are sorted in <a data-link-type="dfn" href="infrastructure.html#tree-order">tree order</a>. 
     </dd><dt><var>element</var> = <var>collection</var> . <code>namedItem</code>(<var>name</var>)
     </dt><dt> <var>radioNodeList</var> = <var>collection</var> . <code>namedItem</code>(<var>name</var>) 
     </dt><dt><var>element</var> = <var>collection</var>[<var>name</var>]
     </dt><dt><var>radioNodeList</var> = <var>collection</var>[<var>name</var>]
     </dt><dd>
       Returns the item with <a data-link-type="dfn" href="http://www.w3.org/TR/dom/#concept-id">ID</a> or <code>name</code> <var>name</var> from the collection. 
      <p>If there are multiple matching items, then a <code>RadioNodeList</code> object containing all
      those elements is returned.</p>
     </dd><dt><var>radioNodeList</var> . <var>value</var> [ = <var>value</var> ]
     </dt><dd>
       Returns the value of the first checked radio button represented by the object. 
      <p>Can be set, to check the first radio button with the given value represented by the object.</p>
    </dd></dl>
    <div class="impl">
      The object’s <a data-link-type="dfn" href="http://www.w3.org/TR/WebIDL/#dfn-supported-property-indices">supported property indices</a> are as defined for <code>HTMLCollection</code> objects. 
     <p>The <a data-link-type="dfn" href="http://www.w3.org/TR/WebIDL/#dfn-supported-property-names">supported property names</a> consist of the non-empty values of all the <code>id</code> and <code>name</code> attributes of all the elements <a data-link-type="dfn" href="http://www.w3.org/TR/dom/#represented-by-the-collection">represented by the collection</a>, in <a data-link-type="dfn" href="infrastructure.html#tree-order">tree order</a>, ignoring later duplicates, with the <code>id</code> of an element preceding
    its <code>name</code> if it contributes both, they differ from each other, and neither is the
    duplicate of an earlier entry.</p>
     <p>The properties exposed in this way must be <a data-link-type="dfn" href="https://heycam.github.io/webidl/#dfn-unenumerable">unenumerable</a>.</p>
     <p>The <dfn class="idl-code" data-dfn-for="HTMLFormControlsCollection" data-dfn-type="method" data-export="" id="dom-htmlformcontrolscollection-nameditem"><code>namedItem(<var>name</var>)</code><a class="self-link" href="infrastructure.html#dom-htmlformcontrolscollection-nameditem"></a></dfn> method must act according to the
    following algorithm:</p>
     <ol>
      <li data-md="">
       <p>If <var>name</var> is the empty string, return null and stop the algorithm.</p>
      </li><li data-md="">
       <p>If, at the time the method is called, there is exactly one node in the collection that has
either an <code>id</code> attribute or a <code>name</code> attribute equal to <var>name</var>, then return that node and stop the algorithm.</p>
      </li><li data-md="">
       <p>Otherwise, if there are no nodes in the collection that have either an <code>id</code> attribute or a <code>name</code> attribute equal to <var>name</var>, then return null and
stop the algorithm.</p>
      </li><li data-md="">
       <p>Otherwise, create a new <code>RadioNodeList</code> object representing a <a data-link-type="dfn" href="infrastructure.html#live">live</a> view of
the <code>HTMLFormControlsCollection</code> object, further filtered so that the only nodes
in the <code>RadioNodeList</code> object are those that have either an <code>id</code> attribute or a <code>name</code> attribute equal to <var>name</var>. The nodes in the <code>RadioNodeList</code> object must be sorted in <a data-link-type="dfn" href="infrastructure.html#tree-order">tree order</a>.</p>
      </li><li data-md="">
       <p>Return that <code>RadioNodeList</code> object.</p>
     </li></ol>
     <hr>
     <p>Members of the <code>RadioNodeList</code> interface inherited from the <code>NodeList</code> interface must behave as they would on a <code>NodeList</code> object.</p>
     <p>The <code class="idl"><a data-link-type="idl" href="infrastructure.html#dom-radionodelist-value">value</a></code> IDL attribute on the <code>RadioNodeList</code> object, on
    getting, must return the value returned by running the following steps:</p>
     <ol>
      <li data-md="">
       <p>Let <var>element</var> be the first element in <a data-link-type="dfn" href="infrastructure.html#tree-order">tree order</a> represented by the <code>RadioNodeList</code> object that is an <code><a data-link-type="element" href="semantics.html#elementdef-input">input</a></code> element whose <code>type</code> attribute is in the <a data-link-type="element-state" href="semantics.html#element-statedef-input-radio-button">Radio Button</a> state and whose <a data-link-type="dfn" href="semantics.html#forms-checkedness">checkedness</a> is true. Otherwise, let it be null.</p>
      </li><li data-md="">
       <p>If <var>element</var> is null, return the empty string.</p>
      </li><li data-md="">
       <p>If <var>element</var> is an element with no <code>value</code> attribute, return the string
"<code>on</code>".</p>
      </li><li data-md="">
       <p>Otherwise, return the value of <var>element</var>’s <code>value</code> attribute.</p>
     </li></ol>
     <p>On setting, the <code>value</code> IDL attribute must run the following steps:</p>
     <ol>
      <li data-md="">
       <p>If the new value is the string "<code>on</code>": let <var>element</var> be the first element
in <a data-link-type="dfn" href="infrastructure.html#tree-order">tree order</a> represented by the <code>RadioNodeList</code> object that is an <code><a data-link-type="element" href="semantics.html#elementdef-input">input</a></code> element whose <code>type</code> attribute is in the <a data-link-type="element-state" href="semantics.html#element-statedef-input-radio-button">Radio Button</a> state and whose <code>value</code> content attribute is either absent, or present and equal
to the new value, if any. If no such element exists, then instead let <var>element</var> be
null.</p>
       <p>Otherwise: let <var>element</var> be the first element in <a data-link-type="dfn" href="infrastructure.html#tree-order">tree order</a> represented by the <code>RadioNodeList</code> object that is an <code><a data-link-type="element" href="semantics.html#elementdef-input">input</a></code> element
whose <code>type</code> attribute is in the <a data-link-type="element-state" href="semantics.html#element-statedef-input-radio-button">Radio Button</a> state and whose <code>value</code> content attribute is present and equal to the new value, if any. If no
such element exists, then instead let <var>element</var> be null.</p>
      </li><li data-md="">
       <p>If <var>element</var> is not null, then set its <a data-link-type="dfn" href="semantics.html#forms-checkedness">checkedness</a> to true.</p>
     </li></ol>
    </div>
    <h5 class="heading settled" data-level="2.7.2.3" id="the-htmloptionscollection-interface"><span class="secno">2.7.2.3. </span><span class="content">The <code>HTMLOptionsCollection</code> interface</span><a class="self-link" href="infrastructure.html#the-htmloptionscollection-interface"></a></h5>
    <p>The <code>HTMLOptionsCollection</code> interface is used for <a data-link-type="dfn" href="http://www.w3.org/TR/dom/#concept-collection">collections</a> of <code><a data-link-type="element" href="semantics.html#elementdef-option">option</a></code> elements. It is always rooted on a <code><a data-link-type="element" href="semantics.html#elementdef-select">select</a></code> element and has
  attributes and methods that manipulate that element’s descendants.</p>
<pre class="idl" data-highlight="webidl">interface <dfn class="idl-code" data-dfn-for="HTMLOptionsCollection" data-dfn-type="interface" data-export="" id="htmloptionscollection-htmloptionscollection">HTMLOptionsCollection<a class="self-link" href="infrastructure.html#htmloptionscollection-htmloptionscollection"></a></dfn> : <a data-link-type="idl-name" href="https://dom.spec.whatwg.org/#htmlcollection">HTMLCollection</a> {
  // inherits item(), namedItem()
  attribute unsigned long <dfn class="idl-code" data-dfn-for="HTMLOptionsCollection" data-dfn-type="attribute" data-export="" data-type="unsigned long " id="dom-htmloptionscollection-length">length<a class="self-link" href="infrastructure.html#dom-htmloptionscollection-length"></a></dfn>; // shadows inherited length
  setter void (unsigned long <dfn class="idl-code" data-dfn-for="HTMLOptionsCollection/__setter__(index, option)" data-dfn-type="argument" data-export="" id="dom-htmloptionscollection-__setter__-index-option-index">index<a class="self-link" href="infrastructure.html#dom-htmloptionscollection-__setter__-index-option-index"></a></dfn>, <a data-link-type="idl-name" href="semantics.html#htmloptionelement-htmloptionelement">HTMLOptionElement</a>? <dfn class="idl-code" data-dfn-for="HTMLOptionsCollection/__setter__(index, option)" data-dfn-type="argument" data-export="" id="dom-htmloptionscollection-__setter__-index-option-option">option<a class="self-link" href="infrastructure.html#dom-htmloptionscollection-__setter__-index-option-option"></a></dfn>);
  void <a class="idl-code" data-link-type="method" href="infrastructure.html#dom-htmloptionscollection-add">add</a>((<a data-link-type="idl-name" href="semantics.html#htmloptionelement-htmloptionelement">HTMLOptionElement</a> or <a data-link-type="idl-name" href="semantics.html#htmloptgroupelement-htmloptgroupelement">HTMLOptGroupElement</a>) <dfn class="idl-code" data-dfn-for="HTMLOptionsCollection/add(element, before), HTMLOptionsCollection/add(element)" data-dfn-type="argument" data-export="" id="dom-htmloptionscollection-add-element-before-element">element<a class="self-link" href="infrastructure.html#dom-htmloptionscollection-add-element-before-element"></a></dfn>, optional (<a data-link-type="idl-name" href="dom.html#htmlelement-htmlelement">HTMLElement</a> or long)? <dfn class="idl-code" data-dfn-for="HTMLOptionsCollection/add(element, before), HTMLOptionsCollection/add(element)" data-dfn-type="argument" data-export="" id="dom-htmloptionscollection-add-element-before-before">before<a class="self-link" href="infrastructure.html#dom-htmloptionscollection-add-element-before-before"></a></dfn> = null);
  void <a class="idl-code" data-link-type="method" href="infrastructure.html#dom-htmloptionscollection-remove">remove</a>(long <dfn class="idl-code" data-dfn-for="HTMLOptionsCollection/remove(index)" data-dfn-type="argument" data-export="" id="dom-htmloptionscollection-remove-index-index">index<a class="self-link" href="infrastructure.html#dom-htmloptionscollection-remove-index-index"></a></dfn>);
  attribute long <a class="idl-code" data-link-type="attribute" data-type="long " href="infrastructure.html#dom-htmloptionscollection-selectedindex">selectedIndex</a>;
};
</pre>
    <dl class="domintro">
     <dt><var>collection</var> . <code>length</code> [ = <var>value</var> ]
     </dt><dd>
       Returns the number of elements in the collection. 
      <p>When set to a smaller number, truncates the number of <code><a data-link-type="element" href="semantics.html#elementdef-option">option</a></code> elements in the
      corresponding container.</p>
      <p>When set to a greater number, adds new blank <code><a data-link-type="element" href="semantics.html#elementdef-option">option</a></code> elements to that container.</p>
     </dd><dt><var>element</var> = <var>collection</var> . <code>item</code>(<var>index</var>)
     </dt><dt><var>element</var> = <var>collection</var>[<var>index</var>]
     </dt><dd> Returns the item with index <var>index</var> from the collection. The items are sorted in <a data-link-type="dfn" href="infrastructure.html#tree-order">tree order</a>. 
     </dd><dt><var>collection</var>[<var>index</var>] = <var>element</var>
     </dt><dd>
       When <var>index</var> is a greater number than the number of items in the collection, adds
      new blank <code><a data-link-type="element" href="semantics.html#elementdef-option">option</a></code> elements in the corresponding container. 
      <p>When set to null, removes the item at index <var>index</var> from the collection.</p>
      <p>When set to an <code><a data-link-type="element" href="semantics.html#elementdef-option">option</a></code> element, adds or replaces it at index <var>index</var> from the collection.</p>
     </dd><dt><var>element</var> = <var>collection</var> . <code>namedItem</code>(<var>name</var>)
     </dt><dt><var>element</var> = <var>collection</var>[<var>name</var>]
     </dt><dd>
       Returns the item with <a data-link-type="dfn" href="http://www.w3.org/TR/dom/#concept-id">ID</a> or <code>name</code> <var>name</var> from the collection. 
      <p>If there are multiple matching items, then the first is returned.</p>
     </dd><dt><var>collection</var> . <code>add</code>(<var>element</var> [, <var>before</var> ] )
     </dt><dd>
       Inserts <var>element</var> before the node given by <var>before</var>. 
      <p>The <var>before</var> argument can be a number, in which case <var>element</var> is inserted
      before the item with that number, or an element from the collection, in which case <var>element</var> is inserted before that element.</p>
      <p>If <var>before</var> is omitted, null, or a number out of range, then <var>element</var> will
      be added at the end of the list.</p>
      <p>This method will throw a <code>HierarchyRequestError</code> exception if <var>element</var> is
      an ancestor of the element into which it is to be inserted.</p>
     </dd><dt><var>collection</var> . <code>remove</code>(<var>index</var>)
     </dt><dd>Removes the item with index <var>index</var> from the collection.
     </dd><dt><var>collection</var> . <code>selectedIndex</code> [ = <var>value</var> ]
     </dt><dd>
       Returns the index of the first selected item, if any, or -1 if there is no selected
      item. 
      <p>Can be set, to change the selection.</p>
    </dd></dl>
    <div class="impl">
      The object’s <a data-link-type="dfn" href="http://www.w3.org/TR/WebIDL/#dfn-supported-property-indices">supported property indices</a> are as defined for <code>HTMLCollection</code> objects. 
     <p>On getting, the <dfn class="idl-code" data-dfn-for="HTMLCollection" data-dfn-type="attribute" data-export="" id="dom-htmlcollection-length"><code>length</code><a class="self-link" href="infrastructure.html#dom-htmlcollection-length"></a></dfn> attribute must return the number of nodes <a data-link-type="dfn" href="http://www.w3.org/TR/dom/#represented-by-the-collection">represented by the collection</a>.</p>
     <p>On setting, the behavior depends on whether the new value is equal to, greater than, or less than
  the number of nodes <a data-link-type="dfn" href="http://www.w3.org/TR/dom/#represented-by-the-collection">represented by the collection</a> at that time. If the number is the same,
  then setting the attribute must do nothing. If the new value is greater, then <var>n</var> new <code><a data-link-type="element" href="semantics.html#elementdef-option">option</a></code> elements with no attributes and no child nodes must be appended to the <code><a data-link-type="element" href="semantics.html#elementdef-select">select</a></code> element on which the <code>HTMLOptionsCollection</code> is rooted, where <var>n</var> is the difference between the two numbers (new value minus old value). Mutation
  events must be fired as if a <code>DocumentFragment</code> containing the new <code>option</code> elements had been inserted. If the new value is lower, then the last <var>n</var> nodes in the
  collection must be removed from their parent nodes, where <var>n</var> is the difference between
  the two numbers (old value minus new value).</p>
     <p class="note" role="note"> Setting <code>length</code> never removes or adds any <code><a data-link-type="element" href="semantics.html#elementdef-optgroup">optgroup</a></code> elements, and never
    adds new children to existing <code><a data-link-type="element" href="semantics.html#elementdef-optgroup">optgroup</a></code> elements (though it can remove children from
    them). </p>
     <p>The <a data-link-type="dfn" href="http://www.w3.org/TR/WebIDL/#dfn-supported-property-names">supported property names</a> consist of the non-empty values of all the <code>id</code> and <code>name</code> attributes of all the elements <a data-link-type="dfn" href="http://www.w3.org/TR/dom/#represented-by-the-collection">represented by the collection</a>, in <a data-link-type="dfn" href="infrastructure.html#tree-order">tree order</a>, ignoring later duplicates, with the <code>id</code> of an element preceding its <code>name</code> if it contributes both, they differ from each other, and neither is the
  duplicate of an earlier entry.</p>
     <p>The properties exposed in this way must be <a data-link-type="dfn" href="https://heycam.github.io/webidl/#dfn-unenumerable">unenumerable</a>.</p>
     <p>When the user agent is to <dfn data-dfn-type="dfn" data-noexport="" id="set-the-value-of-a-new-indexed-property-or-set-the-value-of-an-existing-indexed-property">set the value of a new indexed property or set the value of an
  existing indexed property<a class="self-link" href="infrastructure.html#set-the-value-of-a-new-indexed-property-or-set-the-value-of-an-existing-indexed-property"></a></dfn> for a given property index <var>index</var> to a new value <var>value</var>, it must run the following algorithm:</p>
     <ol>
      <li data-md="">
       <p>If <var>value</var> is null, invoke the steps for the <code>remove</code> method with <var>index</var> as the argument, and abort these steps.</p>
      </li><li data-md="">
       <p>Let <var>length</var> be the number of nodes <a data-link-type="dfn" href="http://www.w3.org/TR/dom/#represented-by-the-collection">represented by the collection</a>.</p>
      </li><li data-md="">
       <p>Let <var>n</var> be <var>index</var> minus <var>length</var>.</p>
      </li><li data-md="">
       <p>If <var>n</var> is greater than zero, then <a data-link-type="dfn" href="http://www.w3.org/TR/dom/#concept-append">append</a> a <code>DocumentFragment</code> consisting of <var>n</var>-1 new <code><a data-link-type="element" href="semantics.html#elementdef-option">option</a></code> elements with no attributes and no
  child nodes to the <code><a data-link-type="element" href="semantics.html#elementdef-select">select</a></code> element on which the <code>HTMLOptionsCollection</code> is rooted.</p>
      </li><li data-md="">
       <p>If <var>n</var> is greater than or equal to zero, <a data-link-type="dfn" href="http://www.w3.org/TR/dom/#concept-append">append</a> <var>value</var> to the <code><a data-link-type="element" href="semantics.html#elementdef-select">select</a></code> element. Otherwise, <a data-link-type="dfn" href="http://www.w3.org/TR/dom/#concept-replace">replace</a> the <var>index</var>th element in the
  collection by <var>value</var>.</p>
     </li></ol>
     <p>The <dfn class="idl-code" data-dfn-for="HTMLOptionsCollection" data-dfn-type="method" data-export="" data-lt="add(element, before)|add(element)" id="dom-htmloptionscollection-add"><code>add(<var>element</var>, <var>before</var>)</code><a class="self-link" href="infrastructure.html#dom-htmloptionscollection-add"></a></dfn> method must act according
  to the following algorithm:</p>
     <ol>
      <li data-md="">
       <p>If <var>element</var> is an ancestor of the <code><a data-link-type="element" href="semantics.html#elementdef-select">select</a></code> element on which the <code>HTMLOptionsCollection</code> is rooted, then throw a <code>HierarchyRequestError</code> exception and abort these steps.</p>
      </li><li data-md="">
       <p>If <var>before</var> is an element, but that element isn’t a descendant of the <code><a data-link-type="element" href="semantics.html#elementdef-select">select</a></code> element on which the <code>HTMLOptionsCollection</code> is rooted, then
  throw a <code>NotFoundError</code> exception and abort these steps.</p>
      </li><li data-md="">
       <p>If <var>element</var> and <var>before</var> are the same element, then return and abort these
  steps.</p>
      </li><li data-md="">
       <p>If <var>before</var> is a node, then let <var>reference</var> be that node. Otherwise, if <var>before</var> is an integer, and there is a <var>before</var>th node in the collection,
  let <var>reference</var> be that node. Otherwise, let <var>reference</var> be null.</p>
      </li><li data-md="">
       <p>If <var>reference</var> is not null, let <var>parent</var> be the parent node of <var>reference</var>. Otherwise, let <var>parent</var> be the <code><a data-link-type="element" href="semantics.html#elementdef-select">select</a></code> element on
  which the <code>HTMLOptionsCollection</code> is rooted.</p>
      </li><li data-md="">
       <p>Act as if the DOM <code>insertBefore()</code> method was invoked on the <var>parent</var> node,
  with <var>element</var> as the first argument and <var>reference</var> as the second argument.</p>
     </li></ol>
     <p>The <dfn class="idl-code" data-dfn-for="HTMLOptionsCollection" data-dfn-type="method" data-export="" id="dom-htmloptionscollection-remove"><code>remove(<var>index</var>)</code><a class="self-link" href="infrastructure.html#dom-htmloptionscollection-remove"></a></dfn> method must act according to the following
  algorithm:</p>
     <ol>
      <li data-md="">
       <p>If the number of nodes <a data-link-type="dfn" href="http://www.w3.org/TR/dom/#represented-by-the-collection">represented by the collection</a> is zero, abort these steps.</p>
      </li><li data-md="">
       <p>If <var>index</var> is not a number greater than or equal to 0 and less than the number of
  nodes <a data-link-type="dfn" href="http://www.w3.org/TR/dom/#represented-by-the-collection">represented by the collection</a>, abort these steps.</p>
      </li><li data-md="">
       <p>Let <var>element</var> be the <var>index</var>th element in the collection.</p>
      </li><li data-md="">
       <p>Remove <var>element</var> from its parent node.</p>
     </li></ol>
     <p>The <dfn class="idl-code" data-dfn-for="HTMLOptionsCollection" data-dfn-type="attribute" data-export="" id="dom-htmloptionscollection-selectedindex"><code>selectedIndex</code><a class="self-link" href="infrastructure.html#dom-htmloptionscollection-selectedindex"></a></dfn> IDL attribute must act like the identically named
  attribute on the <code><a data-link-type="element" href="semantics.html#elementdef-select">select</a></code> element on which the <code>HTMLOptionsCollection</code> is
  rooted</p>
    </div>
    <h4 class="heading settled" data-level="2.7.3" id="the-domstringmap-interface"><span class="secno">2.7.3. </span><span class="content">The <code>DOMStringMap</code> interface</span><a class="self-link" href="infrastructure.html#the-domstringmap-interface"></a></h4>
    <p>The <code>DOMStringMap</code> interface represents a set of name-value pairs. It exposes these
  using the scripting language’s native mechanisms for property access.</p>
    <div class="impl">
      When a <code>DOMStringMap</code> object is instantiated, it is associated with three algorithms,
  one for getting the list of name-value pairs, one for setting names to certain values, and one for
  deleting names. 
<pre class="idl" data-highlight="webidl">[OverrideBuiltins]
interface <dfn class="idl-code" data-dfn-for="DOMStringMap" data-dfn-type="interface" data-export="" id="domstringmap-domstringmap">DOMStringMap<a class="self-link" href="infrastructure.html#domstringmap-domstringmap"></a></dfn> {
  getter DOMString (DOMString <dfn class="idl-code" data-dfn-for="DOMStringMap/__getter__(name)" data-dfn-type="argument" data-export="" id="dom-domstringmap-__getter__-name-name">name<a class="self-link" href="infrastructure.html#dom-domstringmap-__getter__-name-name"></a></dfn>);
  setter void (DOMString <dfn class="idl-code" data-dfn-for="DOMStringMap/__setter__(name, value)" data-dfn-type="argument" data-export="" id="dom-domstringmap-__setter__-name-value-name">name<a class="self-link" href="infrastructure.html#dom-domstringmap-__setter__-name-value-name"></a></dfn>, DOMString <dfn class="idl-code" data-dfn-for="DOMStringMap/__setter__(name, value)" data-dfn-type="argument" data-export="" id="dom-domstringmap-__setter__-name-value-value">value<a class="self-link" href="infrastructure.html#dom-domstringmap-__setter__-name-value-value"></a></dfn>);
  deleter void (DOMString <dfn class="idl-code" data-dfn-for="DOMStringMap/__deleter__(name)" data-dfn-type="argument" data-export="" id="dom-domstringmap-__deleter__-name-name">name<a class="self-link" href="infrastructure.html#dom-domstringmap-__deleter__-name-name"></a></dfn>);
};
</pre>
     <p>The <a data-link-type="dfn" href="http://www.w3.org/TR/WebIDL/#dfn-supported-property-names">supported property names</a> on a <code>DOMStringMap</code> object at any instant are the
  names of each pair returned from the algorithm for getting the list of name-value pairs at that
  instant, in the order returned.</p>
     <p>To <a data-link-type="dfn" href="http://www.w3.org/TR/WebIDL/#dfn-determine-the-value-of-a-named-property">determine the value of a named property</a> <var>name</var> in a <code class="idl"><a data-link-type="idl" href="infrastructure.html#domstringmap-domstringmap">DOMStringMap</a></code>, the user agent must return the value component of the name-value pair
  whose name component is <var>name</var> in the list returned by the algorithm for getting the list
  of name-value pairs.</p>
     <p>To <a data-link-type="dfn" href="infrastructure.html#values-setting">set</a> the value of a named property <var>name</var> to value <var>value</var>, the
  algorithm for setting names to certain values must be run, passing <var>name</var> as the name and <var>value</var> as the value.</p>
     <p>To <dfn data-dfn-type="dfn" data-noexport="" id="delete-an-existing-named-property">delete an existing named property<a class="self-link" href="infrastructure.html#delete-an-existing-named-property"></a></dfn> <var>name</var>, the algorithm for deleting names
  must be run, passing <var>name</var> as the name.</p>
     <p class="note" role="note"> The <code>DOMStringMap</code> interface definition here is only intended for JavaScript
    environments. Other language bindings will need to define how <code>DOMStringMap</code> is to be
    implemented for those languages. </p>
    </div>
    <div class="example" id="example-e1e84d85">
     <a class="self-link" href="infrastructure.html#example-e1e84d85"></a> The <code>dataset</code> attribute on elements exposes the <code>data-*</code> attributes on the
  element. 
     <p>Given the following fragment and elements with similar constructions:</p>
<pre class="highlight"><span class="nt">&lt;img</span> <span class="na">class=</span><span class="s">"tower"</span> <span class="na">id=</span><span class="s">"tower5"</span> <span class="na">data-x=</span><span class="s">"12"</span> <span class="na">data-y=</span><span class="s">"5"</span> <span class="na">data-ai=</span><span class="s">"robotarget"</span> <span class="na">data-hp=</span><span class="s">"46"</span> <span class="na">data-ability=</span><span class="s">"flames"</span> <span class="na">src=</span><span class="s">"towers/rocket.png"</span> <span class="na">alt=</span><span class="s">"Rocket Tower"</span><span class="nt">&gt;</span></pre>
     <p>...one could imagine a function <code>splashDamage()</code> that takes some arguments, the first
  of which is the element to process:</p>
<pre class="highlight"><span class="kd">function</span> <span class="nx">splashDamage</span><span class="p">(</span><span class="nx">node</span><span class="p">,</span> <span class="nx">x</span><span class="p">,</span> <span class="nx">y</span><span class="p">,</span> <span class="nx">damage</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">if</span> <span class="p">(</span><span class="nx">node</span><span class="p">.</span><span class="nx">classList</span><span class="p">.</span><span class="nx">contains</span><span class="p">(</span><span class="s1">'tower'</span><span class="p">)</span> <span class="o">&amp;&amp;</span> <span class="c1">// checking the 'class' attribute</span>
      <span class="nx">node</span><span class="p">.</span><span class="nx">dataset</span><span class="p">.</span><span class="nx">x</span> <span class="o">==</span> <span class="nx">x</span> <span class="o">&amp;&amp;</span> <span class="c1">// reading the 'data-x' attribute</span>
      <span class="nx">node</span><span class="p">.</span><span class="nx">dataset</span><span class="p">.</span><span class="nx">y</span> <span class="o">==</span> <span class="nx">y</span><span class="p">)</span> <span class="p">{</span> <span class="c1">// reading the 'data-y' attribute</span>
    <span class="kd">var</span> <span class="nx">hp</span> <span class="o">=</span> <span class="nb">parseInt</span><span class="p">(</span><span class="nx">node</span><span class="p">.</span><span class="nx">dataset</span><span class="p">.</span><span class="nx">hp</span><span class="p">);</span> <span class="c1">// reading the 'data-hp' attribute</span>
    <span class="nx">hp</span> <span class="o">=</span> <span class="nx">hp</span> <span class="o">-</span> <span class="nx">damage</span><span class="p">;</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">hp</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
      <span class="nx">hp</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
      <span class="nx">node</span><span class="p">.</span><span class="nx">dataset</span><span class="p">.</span><span class="nx">ai</span> <span class="o">=</span> <span class="s1">'dead'</span><span class="p">;</span> <span class="c1">// setting the 'data-ai' attribute</span>
      <span class="k">delete</span> <span class="nx">node</span><span class="p">.</span><span class="nx">dataset</span><span class="p">.</span><span class="nx">ability</span><span class="p">;</span> <span class="c1">// removing the 'data-ability' attribute</span>
    <span class="p">}</span>
    <span class="nx">node</span><span class="p">.</span><span class="nx">dataset</span><span class="p">.</span><span class="nx">hp</span> <span class="o">=</span> <span class="nx">hp</span><span class="p">;</span> <span class="c1">// setting the 'data-hp' attribute</span>
  <span class="p">}</span>
<span class="p">}</span></pre>
    </div>
    <h4 class="heading settled" data-level="2.7.4" id="the-domelementmap-interface"><span class="secno">2.7.4. </span><span class="content">The <code>DOMElementMap</code> interface</span><a class="self-link" href="infrastructure.html#the-domelementmap-interface"></a></h4>
    <p>The <code>DOMElementMap</code> interface represents a set of name-element mappings. It exposes
  these using the scripting language’s native mechanisms for property access.</p>
    <div class="impl">
     <p>When a <code>DOMElementMap</code> object is instantiated, it is associated with three algorithms,
  one for getting the list of name-element mappings, one for mapping a name to a certain element,
  and one for deleting mappings by name.</p>
<pre class="idl" data-highlight="webidl">interface <dfn class="idl-code" data-dfn-for="DOMElementMap" data-dfn-type="interface" data-export="" id="domelementmap-domelementmap">DOMElementMap<a class="self-link" href="infrastructure.html#domelementmap-domelementmap"></a></dfn> {
  getter <a data-link-type="idl-name" href="https://dom.spec.whatwg.org/#element">Element</a> (DOMString <dfn class="idl-code" data-dfn-for="DOMElementMap/__getter__(name)" data-dfn-type="argument" data-export="" id="dom-domelementmap-__getter__-name-name">name<a class="self-link" href="infrastructure.html#dom-domelementmap-__getter__-name-name"></a></dfn>);
  setter creator void (DOMString <dfn class="idl-code" data-dfn-for="DOMElementMap/__setter__(name, value)" data-dfn-type="argument" data-export="" id="dom-domelementmap-__setter__-name-value-name">name<a class="self-link" href="infrastructure.html#dom-domelementmap-__setter__-name-value-name"></a></dfn>, <a data-link-type="idl-name" href="https://dom.spec.whatwg.org/#element">Element</a> <dfn class="idl-code" data-dfn-for="DOMElementMap/__setter__(name, value)" data-dfn-type="argument" data-export="" id="dom-domelementmap-__setter__-name-value-value">value<a class="self-link" href="infrastructure.html#dom-domelementmap-__setter__-name-value-value"></a></dfn>);
  deleter void (DOMString <dfn class="idl-code" data-dfn-for="DOMElementMap/__deleter__(name)" data-dfn-type="argument" data-export="" id="dom-domelementmap-__deleter__-name-name">name<a class="self-link" href="infrastructure.html#dom-domelementmap-__deleter__-name-name"></a></dfn>);
};
</pre>
     <p>The <a data-link-type="dfn" href="http://www.w3.org/TR/WebIDL/#dfn-supported-property-names">supported property names</a> on a <code>DOMElementMap</code> object at any instant are the
  names for each mapping returned from the algorithm for getting the list of name-element mappings
  at that instant, in the order returned.</p>
     <p>To <a data-link-type="dfn" href="http://www.w3.org/TR/WebIDL/#dfn-determine-the-value-of-a-named-property">determine the value of a named property</a> <var>name</var> in a <code>DOMElementMap</code>, the user agent must return the element component of the name-element
  mapping whose name component is <var>name</var> in the list returned by the algorithm for getting
  the list of name-element mappings.</p>
     <p>To set the value of a <dfn data-dfn-type="dfn" data-noexport="" id="new">new<a class="self-link" href="infrastructure.html#new"></a></dfn> or <dfn data-dfn-type="dfn" data-noexport="" id="existing">existing<a class="self-link" href="infrastructure.html#existing"></a></dfn> named property <var>name</var> to
  value <var>value</var>, the algorithm for mapping a name to a certain element must be run, passing <var>name</var> as the name <var>value</var> as the element.</p>
     <p>To <a data-link-type="dfn" href="infrastructure.html#delete-an-existing-named-property">delete an existing named property</a> <var>name</var>, the algorithm for deleting
  mappings must be run, passing <var>name</var> as the name component of the mapping to be deleted.</p>
     <p class="note" role="note"> The <code>DOMElementMap</code> interface definition here is only intended for JavaScript
    environments. Other language bindings will need to define how <code>DOMElementMap</code> is to
    be implemented for those languages. </p>
    </div>
    <h4 class="heading settled" data-level="2.7.5" id="transferable-objects"><span class="secno">2.7.5. </span><span class="content">Transferable objects</span><a class="self-link" href="infrastructure.html#transferable-objects"></a></h4>
    <p>Some objects support being copied and closed in one operation. This is called <i>transferring</i> the object, and is used in particular to transfer ownership of unsharable or expensive resources
  across document and worker boundaries, including across documents of different <a data-link-type="dfn" href="https://fetch.spec.whatwg.org/#concept-request-origin">origins</a>.</p>
    <p>The following <code>Transferable</code> types exist:</p>
    <ul>
     <li data-md="">
      <p><code class="idl"><a data-link-type="idl" href="https://www.khronos.org/registry/typedarray/specs/latest/#ArrayBuffer">ArrayBuffer</a></code> <a data-link-type="biblio" href="references.html#biblio-ecma-262">[ECMA-262]</a></p>
     </li><li data-md="">
      <p><code class="idl"><a data-link-type="idl" href="semantics.html#canvasproxy-canvasproxy">CanvasProxy</a></code> (defined in this specification)</p>
     </li><li data-md="">
      <p><code class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/comms.html#messageport">MessagePort</a></code></p>
    </li></ul>
    <div class="impl">
      The following IDL block formalizes this: 
<pre class="idl" data-highlight="webidl">typedef (ArrayBuffer or <a data-link-type="idl-name" href="semantics.html#canvasproxy-canvasproxy">CanvasProxy</a> or <a data-link-type="idl-name" href="https://html.spec.whatwg.org/multipage/comms.html#messageport">MessagePort</a>) <dfn class="idl-code" data-dfn-for="Transferable" data-dfn-type="typedef" data-export="" id="typedefdef-transferable-transferable">Transferable<a class="self-link" href="infrastructure.html#typedefdef-transferable-transferable"></a></dfn>;
</pre>
     <p>To <dfn data-dfn-type="dfn" data-lt="transfer|transfer a transferrable object|transferred" data-noexport="" id="transfer">transfer a <code>Transferable</code> object<a class="self-link" href="infrastructure.html#transfer"></a></dfn> to a new owner, the user agent must run
  the steps defined for the type of object in question. The steps will return a new object of the
  same type, and will permanently <dfn data-dfn-type="dfn" data-noexport="" id="neuter">neuter<a class="self-link" href="infrastructure.html#neuter"></a></dfn> the original object. (This is an irreversible
  and non-idempotent operation; once an object has been transferred, it cannot be transferred, or
  indeed used, again.)</p>
     <p>To <a data-link-type="dfn" href="infrastructure.html#transfer">transfer</a> an <code>ArrayBuffer</code> object <var>old</var> to a new owner <var>owner</var>, a user agent must create a new <code>ArrayBuffer</code> object pointing at the
  same underlying data as <var>old</var>, thus obtaining <var>new</var>, must <a data-link-type="dfn" href="infrastructure.html#neuter">neuter</a> the <var>old</var> object, and must finally return <var>new</var>. <a data-link-type="biblio" href="references.html#biblio-ecma-262">[ECMA-262]</a></p>
     <p class="note" role="note"> Rules for how to <a data-link-type="dfn" href="infrastructure.html#transfer">transfer a <code>CanvasProxy</code> object</a> and how to <a data-link-type="dfn" href="infrastructure.html#transfer">transfer a <code>MessagePort</code> object</a> are given in the relevant sections of this
    specification. </p>
    </div>
    <div class="impl">
     <h4 class="heading settled" data-level="2.7.6" id="safe-passing-of-structured-data"><span class="secno">2.7.6. </span><span class="content">Safe passing of structured data</span><a class="self-link" href="infrastructure.html#safe-passing-of-structured-data"></a></h4>
     <p>When a user agent is required to obtain a <dfn data-dfn-type="dfn" data-noexport="" id="structured-clone">structured clone<a class="self-link" href="infrastructure.html#structured-clone"></a></dfn> of a value, optionally with
  a <i>transfer map</i>, it must run the following algorithm, which either returns a separate value,
  or throws an exception. If a <i>transfer map</i> is provided, it consists of an association list
  of <code>Transferable</code> objects to placeholder objects.</p>
     <ol>
      <li data-md="">
       <p>Let <var>input</var> be the value being cloned.</p>
      </li><li data-md="">
       <p>Let <var>transfer map</var> be the <i>transfer map</i> passed to the algorithm, if any, or the
  empty list otherwise.</p>
      </li><li data-md="">
       <p>Let <var>memory</var> be an association list of pairs of objects, initially empty. This is used
  to handle duplicate references. In each pair of objects, one is called the <i>source</i> object and the other the <i>destination</i> object.</p>
      </li><li data-md="">
       <p>For each mapping in <var>transfer map</var>, add a mapping from the <code>Transferable</code> object (the source object) to the placeholder object (the destination object) to <var>memory</var>.</p>
      </li><li data-md="">
       <p>Let <var>output</var> be the value resulting from calling the <a data-link-type="dfn" href="infrastructure.html#internal-structured-cloning-algorithm">internal structured cloning
  algorithm</a> with <var>input</var> as the "<var>input</var>" argument, and <var>memory</var> as the "<var>memory</var>" argument.</p>
      </li><li data-md="">
       <p>Return <var>output</var>.</p>
     </li></ol>
     <p>The <dfn data-dfn-type="dfn" data-noexport="" id="internal-structured-cloning-algorithm">internal structured cloning algorithm<a class="self-link" href="infrastructure.html#internal-structured-cloning-algorithm"></a></dfn> is always called with two arguments, <var>input</var> and <var>memory</var>, and its behavior is as follows:</p>
     <ol>
      <li data-md="">
       <p>If <var>input</var> is the source object of a pair of objects in <var>memory</var>, then return
  the destination object in that pair of objects and abort these steps.</p>
      </li><li data-md="">
       <p>If <var>input</var> is a primitive value, then return that value and abort these steps.</p>
      </li><li data-md="">
       <p>Let <var>deep clone</var> be <i>none</i>.</p>
      </li><li data-md="">
       <p>The <var>input</var> value is an object. Jump to the appropriate step below:</p>
       <dl class="switch">
        <dt>If <var>input</var> is a <a data-link-type="dfn" href="http://www.ecma-international.org/ecma-262/6.0/#sec-boolean-constructor"><code>Boolean</code></a> object
        </dt><dd> Let <var>output</var> be a newly constructed Boolean object with the same value as <var>input</var>. 
        </dd><dt>If <var>input</var> is a <a data-link-type="dfn" href="http://www.ecma-international.org/ecma-262/6.0/#sec-number-constructor"><code>Number</code></a> object
        </dt><dd> Let <var>output</var> be a newly constructed Number object with the same value as <var>input</var>. 
        </dd><dt>If <var>input</var> is a <a data-link-type="dfn" href="http://www.ecma-international.org/ecma-262/6.0/#sec-string-constructor"><code>String</code></a> object
        </dt><dd> Let <var>output</var> be a newly constructed String object with the same value as <var>input</var>. 
        </dd><dt>If <var>input</var> is a <code class="idl"><a data-link-type="idl" href="http://www.ecma-international.org/ecma-262/6.0/#sec-date-constructor">Date</a></code> object
        </dt><dd> Let <var>output</var> be a newly constructed <code class="idl"><a data-link-type="idl" href="http://www.ecma-international.org/ecma-262/6.0/#sec-date-constructor">Date</a></code> object with the same
      value as <var>input</var>. 
        </dd><dt>If <var>input</var> is a <a data-link-type="dfn" href="http://www.ecma-international.org/ecma-262/6.0/#sec-regexp-constructor"><code>RegExp</code></a> object
        </dt><dd>
          Let <var>output</var> be a newly constructed <a data-link-type="dfn" href="http://www.ecma-international.org/ecma-262/6.0/#sec-regexp-constructor"><code>RegExp</code></a> object with the same
      pattern and flags as <var>input</var>. 
         <p class="note" role="note">The value of the <code>lastIndex</code> property is not copied.</p>
        </dd><dt>If <var>input</var> is a <code>Blob</code> object
        </dt><dd> If <var>input</var> has been disabled through the <code>close()</code> method, throw a <code>DataCloneError</code> exception and abort the overall <a data-link-type="dfn" href="infrastructure.html#structured-clone">structured clone</a> algorithm. Otherwise, let <var>output</var> be a newly constructed object of the same
      class as <var>input</var>, corresponding to the same underlying data. 
        </dd><dt>If <var>input</var> is a <code>FileList</code> object
        </dt><dd> Let <var>output</var> be a newly constructed <code>FileList</code> object containing a
      list of newly constructed <code>File</code> objects corresponding to the same underlying
      data as those in <var>input</var>, maintaining their relative order. 
        </dd><dt>If <var>input</var> is an <code>ImageData</code> object
        </dt><dd> Let <var>output</var> be a newly constructed <code>ImageData</code> object whose <code>width</code> and <code>height</code> have values equal to the corresponding
      attributes on <var>input</var>, and whose <code>data</code> attribute has the value
      obtained from invoking the <a data-link-type="dfn" href="infrastructure.html#internal-structured-cloning-algorithm">internal structured cloning algorithm</a> recursively with
      the value of the <code>data</code> attribute on <var>input</var> as the new
      "<var>input</var>" argument and <var>memory</var> as the new "<var>memory</var>" argument. 
        </dd><dt>If <var>input</var> is an <code>ImageBitmap</code> object
        </dt><dd> Let <var>output</var> be a newly constructed <code>ImageBitmap</code> object whose bitmap
      data is a copy of <var>input</var>’s bitmap data. 
        </dd><dt>If <var>input</var> is an <code>ArrayBuffer</code> object
        </dt><dd> If <var>input</var> has been <a data-link-type="dfn" href="infrastructure.html#neuter">neutered</a>, throw a <code>DataCloneError</code> exception and abort the overall <a data-link-type="dfn" href="infrastructure.html#structured-clone">structured clone</a> algorithm. Otherwise, let <var>output</var> be a newly constructed <code>ArrayBuffer</code> object whose contents
      are a copy of <var>input</var>’s contents, with the same length. 
        </dd><dt>If <var>input</var> is an object with a [[DataView]] internal slot
        </dt><dd> Let <var>output</var> be a newly constructed object of the same class as <var>input</var>,
      with its [[DataView]] internal property present, its
      [[ViewedArrayBuffer]] internal property set to the value obtained from invoking
      the <a data-link-type="dfn" href="infrastructure.html#internal-structured-cloning-algorithm">internal structured cloning algorithm</a> recursively with the value of the
      internal property on <var>input</var> as the new "<var>input</var>" argument and <var>memory</var> as the new "<var>memory</var>" argument, and with the
      [[ByteLength]] and [[ByteOffset]] internal properties set to the same
      value as their counterparts on <var>input</var>. 
        </dd><dt>If <var>input</var> is an <code>Array</code> object
        </dt><dd>
          Let <var>output</var> be a newly constructed empty <code>Array</code> object whose <code>length</code> is equal to the <code>length</code> of <var>input</var>, and set <var>deep clone</var> to <i>own</i>. 
         <p class="note" role="note">This means that the length of sparse arrays is preserved.</p>
        </dd><dt>If <var>input</var> is an <code>Object</code> object
        </dt><dd> Let <var>output</var> be a newly constructed empty <code>Object</code> object, and set <var>deep clone</var> to <i>own</i>. 
        </dd><dt>If <var>input</var> is a <code>Map</code> object
        </dt><dd> Let <var>output</var> be a newly constructed empty <code>Map</code> object, and set <var>deep clone</var> to <i>map</i>. 
        </dd><dt>If <var>input</var> is a <code>Set</code> object
        </dt><dd> Let <var>output</var> be a newly constructed empty <code>Set</code> object, and set <var>deep clone</var> to <i>set</i>. 
        </dd><dt>If <var>input</var> is an object that another specification defines how to clone
        </dt><dd> Let <var>output</var> be a clone of the object as defined by the other specification. 
        </dd><dt> If <var>input</var> is another native object type (e.g. <code>Error</code>, <code>Function</code>) 
        </dt><dt>If<var>input</var> is a host object (e.g. a DOM node)
        </dt><dd> Throw a <code>DataCloneError</code> exception and abort the overall <a data-link-type="dfn" href="infrastructure.html#structured-clone">structured clone</a> algorithm. 
       </dd></dl>
       <p>For the purposes of the algorithm above, an object is a particular type of object <var>class</var> if its [[Class]] internal property is equal to <var>class</var>.</p>
       <p class="example" id="example-28c57521"><a class="self-link" href="infrastructure.html#example-28c57521"></a> For example, "<var>input</var> is an <code>Object</code> object" if <var>input</var>’s
    [[Class]] internal property is equal to the string "<code>Object</code>". </p>
      </li><li data-md="">
       <p>Add a mapping from <var>input</var> (the source object) to <var>output</var> (the destination
  object) to <var>memory</var>.</p>
      </li><li data-md="">
       <p>If <var>deep clone</var> is set to <i>map</i>, then run these substeps. These substeps use the
  terminology and typographic conventions used in the JavaScript specification’s definition of
  Maps. <a data-link-type="biblio" href="references.html#biblio-ecma-262">[ECMA-262]</a></p>
       <ol>
        <li data-md="">
         <p>Let <var>original</var> be the List that is the value of <var>input</var>’s
  [[MapData]] internal slot. <a data-link-type="biblio" href="references.html#biblio-ecma-262">[ECMA-262]</a></p>
        </li><li data-md="">
         <p>Let <var>source</var> be a new empty List.</p>
        </li><li data-md="">
         <p>For each Record {[[key]], [[value]]} <var>entry</var> that is an
  element of <var>original</var>, run the following substeps:</p>
         <ol>
          <li data-md="">
           <p>Let <var>new entry</var> be the Record {[[key]]: <var>entry</var>.
  [[key]], [[value]]: <var>entry</var>.[[value]]}.</p>
          </li><li data-md="">
           <p>If <var>new entry</var>.[[key]] is not <i>empty</i>, append <var>new entry</var> as
  the last element of <var>source</var>.</p>
         </li></ol>
        </li><li data-md="">
         <p>Let <var>target</var> be the List that is the value of <var>output</var>’s
  [[MapData]] internal slot.</p>
        </li><li data-md="">
         <p>For each Record {[[key]], [[value]]} <var>entry</var> that is an
  element of <var>source</var>, run the following substeps:</p>
         <ol>
          <li data-md="">
           <p>Let <var>key</var> have the value obtained from invoking the <a data-link-type="dfn" href="infrastructure.html#internal-structured-cloning-algorithm">internal structured cloning algorithm</a> recursively with <var>entry</var>.
  [[key]] as the new "<var>input</var>" argument and <var>memory</var> as the
  new "<var>memory</var>" argument.</p>
          </li><li data-md="">
           <p>Let <var>value</var> have the value obtained from invoking the <a data-link-type="dfn" href="infrastructure.html#internal-structured-cloning-algorithm">internal structured cloning algorithm</a> recursively with <var>entry</var>.
  [[value]] as the new "<var>input</var>" argument and <var>memory</var> as
  the new "<var>memory</var>" argument.</p>
          </li><li data-md="">
           <p>Let <var>new entry</var> be the Record {[[key]]: <var>key</var>,
  [[value]]: <var>value</var>}.</p>
          </li><li data-md="">
           <p>Append <var>new entry</var> as the last element of <var>target</var>.</p>
         </li></ol>
        </li><li data-md="">
         <p>Set <var>deep clone</var> to <i>own</i>.</p>
       </li></ol>
      </li><li data-md="">
       <p>If <var>deep clone</var> is set to <i>set</i>, then run these substeps. These substeps use the
  terminology and typographic conventions used in the JavaScript specification’s definition of
  Sets. <a data-link-type="biblio" href="references.html#biblio-ecma-262">[ECMA-262]</a></p>
       <ol>
        <li data-md="">
         <p>Let <var>source</var> be a copy of the List that is the value of <var>input</var>’s
  [[SetData]] internal slot. <a data-link-type="biblio" href="references.html#biblio-ecma-262">[ECMA-262]</a></p>
        </li><li data-md="">
         <p>Let <var>target</var> be the List that is the value of <var>output</var>’s
  [[SetData]] internal slot.</p>
        </li><li data-md="">
         <p>For each <var>entry</var> that is an element of <var>source</var> that is not <i>empty</i>,
  run the following substeps:</p>
         <ol>
          <li data-md="">
           <p>Let <var>new entry</var> have the value obtained from invoking the <a data-link-type="dfn" href="infrastructure.html#internal-structured-cloning-algorithm">internal structured cloning algorithm</a> recursively with <var>entry</var> as
  the new "<var>input</var>" argument and <var>memory</var> as the new
  "<var>memory</var>" argument.</p>
          </li><li data-md="">
           <p>Append <var>new entry</var> as the last element of <var>target</var>.</p>
         </li></ol>
        </li><li data-md="">
         <p>Set <var>deep clone</var> to <i>own</i>.</p>
       </li></ol>
      </li><li data-md="">
       <p>If <var>deep clone</var> is set to <i>own</i>, then, for each enumerable own property in <var>input</var>, run the following steps:</p>
       <ol>
        <li data-md="">
         <p>Let <var>name</var> be the name of the property.</p>
        </li><li data-md="">
         <p>Let <var>source value</var> be the result of calling the [[Get]] internal method
  of <var>input</var> with the argument <var>name</var>. If the [[Get]] internal
  method of a property involved executing script, and that script threw an uncaught
  exception, then abort the overall <a data-link-type="dfn" href="infrastructure.html#structured-clone">structured clone</a> algorithm, with that exception
  being passed through to the caller.</p>
        </li><li data-md="">
         <p>Let <var>cloned value</var> be the result of invoking the <a data-link-type="dfn" href="infrastructure.html#internal-structured-cloning-algorithm">internal structured cloning algorithm</a> recursively with <var>source value</var> as
  the "<var>input</var>" argument and <var>memory</var> as the "<var>memory</var>" argument.
  If this results in an exception, then abort the overall <a data-link-type="dfn" href="infrastructure.html#structured-clone">structured clone</a> algorithm,
  with that exception being passed through to the caller.</p>
        </li><li data-md="">
         <p>Add a new property to <var>output</var> having the name <var>name</var>, and having the
  value <var>cloned value</var>, using CreateDataProperty(<var>output</var>, <var>name</var>, <var>cloned value</var>).</p>
       </li></ol>
       <p>The order of the properties in the <var>input</var> and <var>output</var> objects must be the
  same, and any properties whose [[Get]] internal method involves running script must be
  processed in that same order.</p>
       <p class="note" role="note">This does not walk the prototype chain.</p>
       <p class="note" role="note"> Property descriptors, setters, getters, and analogous features are not copied in this
    process. For example, the property in the input could be marked as read-only, but in the
    output it would just have the default state (typically read-write, though that could depend
    on the scripting environment). </p>
       <p class="note" role="note"> Properties of Array objects are not treated any differently than those of other Objects. In
    particular, this means that non-index properties of arrays are copied as well. </p>
      </li><li data-md="">
       <p>Return <var>output</var>.</p>
     </li></ol>
     <p class="note" role="note"> This algorithm preserves cycles and preserves the identity of duplicate objects in graphs. </p>
    </div>
    <div class="impl">
     <h4 class="heading settled" data-level="2.7.7" id="garbage-collection"><span class="secno">2.7.7. </span><span class="content">Garbage collection</span><a class="self-link" href="infrastructure.html#garbage-collection"></a></h4>
     <p>There is an <dfn data-dfn-type="dfn" data-noexport="" id="implied-strong-reference">implied strong reference<a class="self-link" href="infrastructure.html#implied-strong-reference"></a></dfn> from any IDL attribute that returns a pre-existing
  object to that object.</p>
     <div class="example" id="example-00085c2f"><a class="self-link" href="infrastructure.html#example-00085c2f"></a> For example, the <code>document.location</code> attribute means that there is a strong reference
    from a <code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#document">Document</a></code> object to its <code>Location</code> object. Similarly, there is
    always a strong reference from a <code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#document">Document</a></code> to any descendant nodes, and from any
    node to its owner <code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#document">Document</a></code>. </div>
    </div>
    <h3 class="heading settled" data-level="2.8" id="namespaces"><span class="secno">2.8. </span><span class="content">Namespaces</span><a class="self-link" href="infrastructure.html#namespaces"></a></h3>
    <p>The <dfn data-dfn-type="dfn" data-noexport="" id="html-namespace">HTML namespace<a class="self-link" href="infrastructure.html#html-namespace"></a></dfn> is: <code>http://www.w3.org/1999/xhtml</code></p>
    <p>The <dfn data-dfn-type="dfn" data-noexport="" id="mathml-namespace">MathML namespace<a class="self-link" href="infrastructure.html#mathml-namespace"></a></dfn> is: <code>http://www.w3.org/1998/Math/MathML</code></p>
    <p>The <dfn data-dfn-type="dfn" data-noexport="" id="svg-namespace">SVG namespace<a class="self-link" href="infrastructure.html#svg-namespace"></a></dfn> is: <code>http://www.w3.org/2000/svg</code></p>
    <p>The <dfn data-dfn-type="dfn" data-noexport="" id="xlink-namespace">XLink namespace<a class="self-link" href="infrastructure.html#xlink-namespace"></a></dfn> is: <code>http://www.w3.org/1999/xlink</code></p>
    <p>The <dfn data-dfn-type="dfn" data-noexport="" id="xml-namespace">XML namespace<a class="self-link" href="infrastructure.html#xml-namespace"></a></dfn> is: <code>http://www.w3.org/XML/1998/namespace</code></p>
    <p>The <dfn data-dfn-type="dfn" data-noexport="" id="xmlns-namespace">XMLNS namespace<a class="self-link" href="infrastructure.html#xmlns-namespace"></a></dfn> is: <code>http://www.w3.org/2000/xmlns/</code></p>
    <hr>
    <p>Data mining tools and other user agents that perform operations on content without running
  scripts, evaluating CSS or XPath expressions, or otherwise exposing the resulting DOM to arbitrary
  content, may "support namespaces" by just asserting that their DOM node analogs are in certain
  namespaces, without actually exposing the above strings.</p>
    <hr>
    <p class="note" role="note"> In <a href="syntax.html#syntax">the HTML syntax</a>, namespace prefixes and namespace declarations do not have the same
    effect as in XML. For instance, the colon has no special meaning in HTML element names. </p>
   </section>
   
   
   
   
   
   
   
   
   
   
  </main>
  
  
  
  
  
  
  
  
  
  
  
  
  

 
<nav class="prev_next"> — ← <a href="introduction.html#introduction"><span class="secno">1</span> <span class="content">Introduction</span></a> — <a href="index.html#contents">Table of contents</a> →<a href="dom.html#dom"><span class="secno">3</span> <span class="content">Semantics, structure, and APIs of HTML documents</span></a></nav></body></html>